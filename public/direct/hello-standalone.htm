<!DOCTYPE html>
<!--XSLTForms standalone example-->
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, width=device-width, viewport-fit=cover">
    <style>.xsltforms-aid-button{padding:0}xforms-alert,xforms-help,xforms-hint{border:thin solid #000;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;margin-left:.5ex;padding:.2px;position:absolute}xforms-alert{background-color:red;color:#fff}xforms-help{background-color:#eef}xforms-hint{background-color:#ff8;z-index:2}xforms-input[xf-invalid]>xforms-alert-mark{display:none}xforms-alert-mark:after{color:red;content:" \2716"}xforms-alert-mark:hover+xforms-alert{cursor:help;display:inline}xforms-input:hover xforms-hint,xforms-trigger:hover xforms-hint{cursor:help;display:block}xforms-help-mark:after{color:green;content:" \2754"}xforms-help-mark:hover+xforms-help,xforms-label:hover+xforms-help[xf-appearance=minimal]:not([href]){cursor:help;display:inline}.xsltforms-calendar,.xsltforms-calendarList{background:#f8f8f8;border-color:#000;border-style:solid;border-width:1px 2px 2px 1px;color:#000;display:none;font-family:tahoma,verdana,sans-serif;font-size:12px;padding:1px 0 0 1px;position:absolute;z-index:9}.xsltforms-calendar button{border-color:#fff #000 #000 #fff;border-style:solid;border-width:1px;padding:1px;text-align:center}.xsltforms-calendar thead .xsltforms-listHover{background-color:#d8e0e4;border-color:#fff #000 #000 #fff;border-style:solid;border-width:2px;padding:0}.xsltforms-calendar .xsltforms-calendar-title,.xsltforms-calendar .xsltforms-calendar-title input,.xsltforms-calendar .xsltforms-calendar-title select,.xsltforms-calendar tfoot{background-color:#f8f8f8;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAoCAYAAAA/tpB3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1gUBDAgfNCTDHgAAAFlJREFUeNpVjskRgDAMA5WVof+6oAbaMMcnPCAJ/OTZlcZa1q1yHJfI3MWep8i83lSrhD0JWwIQtgWfs4iIeIFdGoiWoHxl22IOtalHpss/MHUwumMvIp5fbsP7FTL17XHsAAAAAElFTkSuQmCC");border:1px solid #000;color:#000;font-weight:700;padding:1px;text-align:center}.xsltforms-calendar .xsltforms-calendar-title input{background:#f8f8f8;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:3em}.xsltforms-calendar-date tfoot{display:none}.xsltforms-calendar tfoot input{background:#f0f0f0;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:center;width:2em}.xsltforms-calendar .xsltforms-calendar-names{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAUCAIAAADDbMD2AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH1gUBDAcldbAGYwAAAENJREFUeNoFwQESgCAIAEE6C2ym//+0SRClXcnchCfuwfBF+GLEZoxgzuR7hczkYGPWsH5idmG9oao894GqyoySqvoBAwEj81+5NlEAAAAASUVORK5CYII=")}.xsltforms-calendar .xsltforms-calendar-name{border-bottom:1px solid #000;padding:2px;text-align:center}.xsltforms-calendar .xsltforms-calendar-day{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;padding:2px 4px 2px 2px;text-align:right;width:2em}.xsltforms-calendar tbody .xsltforms-listHover{background-color:#ddd;border-color:#fff #000 #000 #fff;border-style:solid;border-width:1px;padding:1px 3px 1px 1px}.xsltforms-calendar .xsltforms-calendar-today{color:#00f;font-weight:700}.xsltforms-calendar .xsltforms-calendar-selected{background:#ccc;border-color:#000 #fff #fff #000;border-style:solid;border-width:1px;font-weight:700;padding:2px 2px 0}.xsltforms-calendar .xsltforms-calendar-weekend{color:red}.xsltforms-calendarList{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;margin:0;padding:0;width:55px}.xsltforms-calendarList li{list-style-type:none;padding:1px;text-align:center}.xsltforms-calendarList li.xsltforms-listHover{background-color:#ddd;border-color:#fff #000 #000 #fff;border-style:solid;border-width:1px;padding:0;width:100%}.xforms-group-label-collapsed:before{content:"\23F5\00A0"}.xforms-group-label-collapsed:hover{cursor:pointer}.xforms-group-label-expanded:before{content:"\23F7\00A0"}.xforms-group-label-expanded:hover{cursor:pointer}#xsltforms-console{border-top:thin solid #888;color:#888;display:none;font-size:.8em}xforms-debugger{display:flex;flex-direction:column;margin-left:0;margin-top:-1ex;padding:0}xforms-board,xforms-debugger>xforms-body{box-sizing:border-box;flex:1 1 auto;margin:0;overflow-y:auto;padding:0}xforms-debugger>xforms-body{min-height:200px}xforms-board{font-size:12px;padding:0}xforms-gutter{cursor:ns-resize;flex:0 0 auto;height:4px;padding:0}xforms-gutter:before{background:grey;content:"";display:block;height:4px;margin:0 auto;width:100%}xforms-board>xforms-body>textarea{border:0;outline:none;resize:none;width:90%}xforms-console-history,xforms-expression{display:block}xforms-dialog{background-color:#fff;border-color:#000;border-style:solid;border-width:1px 3px 3px 1px;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;height:300px;padding:10px;position:absolute;width:400px;z-index:10}xforms-dialog-surround{background-color:green;display:none;filter:alpha(opacity=40);height:100%;left:0;opacity:.4;-moz-opacity:.4;position:absolute;top:0;width:100%}xforms-form>xforms-body>form{display:inline}xforms-status-panel{display:none;left:490px;top:294.5px;z-index:99}[data-xf-repeat-bind]:not([xf-bound]),[data-xf-repeat-ref]:not([xf-bound]),[xf-repeat-bind]:not([xf-bound]),[xf-repeat-ref]:not([xf-bound]),xforms-action,xforms-alert-mark,xforms-bind,xforms-case:not([xf-selected=true]),xforms-component,xforms-delete,xforms-dialog,xforms-dispatch,xforms-filename,xforms-group,xforms-group[xf-bind]:not([xf-bound]),xforms-group[xf-ref]:not([xf-bound]),xforms-hide,xforms-input,xforms-insert,xforms-instance,xforms-itemset>xforms-label,xforms-itext,xforms-load,xforms-mediatype,xforms-message,xforms-model,xforms-options,xforms-output,xforms-range,xforms-rebuild,xforms-recalculate,xforms-refresh,xforms-repeat,xforms-reset,xforms-revalidate,xforms-script,xforms-secret,xforms-select,xforms-select1,xforms-select1:not([xf-appearance=full])>xforms-body>xforms-choices,xforms-select1:not([xf-appearance=full])>xforms-body>xforms-item,xforms-select1:not([xf-appearance=full])>xforms-body>xforms-itemset,xforms-select:not([xf-appearance=full])>xforms-body>xforms-choices,xforms-select:not([xf-appearance=full])>xforms-body>xforms-item,xforms-select:not([xf-appearance=full])>xforms-body>xforms-itemset,xforms-send,xforms-setfocus,xforms-setindex,xforms-setnode,xforms-setselection,xforms-setvalue,xforms-show,xforms-split,xforms-submission,xforms-text,xforms-textarea,xforms-timer,xforms-toggle,xforms-translation,xforms-tree,xforms-trigger[xf-bind]:not([xf-bound]),xforms-trigger[xf-notrelevant],xforms-trigger[xf-ref]:not([xf-bound]),xforms-unload,xforms-upload,xforms-value,xforms-var,xforms-wrap{display:none}xforms-case[xf-selected=true],xforms-group:not([xf-ref]):not([xf-bind]),xforms-group[xf-bound]:not([xf-notrelevant]),xforms-repeat[xf-bound]:not([xf-notrelevant]),xforms-select1[xf-appearance=full]>xforms-body>xforms-choices>xforms-item,xforms-select1[xf-appearance=full]>xforms-body>xforms-choices>xforms-itemset>xforms-item,xforms-select1[xf-appearance=full]>xforms-body>xforms-choices>xforms-label,xforms-select1[xf-appearance=full]>xforms-body>xforms-item,xforms-select1[xf-appearance=full]>xforms-body>xforms-itemset>xforms-item,xforms-select[xf-appearance=full]>xforms-body>xforms-choices>xforms-item,xforms-select[xf-appearance=full]>xforms-body>xforms-choices>xforms-itemset>xforms-item,xforms-select[xf-appearance=full]>xforms-body>xforms-choices>xforms-label,xforms-select[xf-appearance=full]>xforms-body>xforms-item,xforms-select[xf-appearance=full]>xforms-body>xforms-itemset>xforms-item{display:block}xforms-repeat[xf-bound]:not([xf-notrelevant])>xforms-repeat-item{display:inherit}xforms-input[xf-bound]:not([xf-notrelevant]),xforms-output[xf-bound]:not([xf-notrelevant]),xforms-output[xf-value],xforms-range[xf-bound]:not([xf-notrelevant]),xforms-secret[xf-bound]:not([xf-notrelevant]),xforms-select1[xf-appearance=full]>xforms-body>xforms-choices>xforms-item>xforms-label,xforms-select1[xf-appearance=full]>xforms-body>xforms-choices>xforms-itemset>xforms-item>xforms-label,xforms-select1[xf-appearance=full]>xforms-body>xforms-item>xforms-label,xforms-select1[xf-appearance=full]>xforms-body>xforms-itemset>xforms-item>xforms-label,xforms-select1[xf-bound]:not([xf-notrelevant]):not([xf-appearance=full]),xforms-select1[xf-bound]:not([xf-notrelevant])[xf-appearance=full],xforms-select[xf-appearance=full]>xforms-body>xforms-choices>xforms-item>xforms-label,xforms-select[xf-appearance=full]>xforms-body>xforms-choices>xforms-itemset>xforms-item>xforms-label,xforms-select[xf-appearance=full]>xforms-body>xforms-item>xforms-label,xforms-select[xf-appearance=full]>xforms-body>xforms-itemset>xforms-item>xforms-label,xforms-select[xf-bound]:not([xf-notrelevant]):not([xf-appearance=full]),xforms-select[xf-bound]:not([xf-notrelevant])[xf-appearance=full],xforms-submit,xforms-textarea[xf-bound]:not([xf-notrelevant]),xforms-trigger:not([xf-ref]):not([xf-bind]),xforms-trigger[xf-bound]:not([xf-notrelevant]),xforms-upload[xf-bound]:not([xf-notrelevant]){display:inline-block}xforms-select1[xf-appearance=full]>xforms-body>xforms-choices>xforms-label,xforms-select[xf-appearance=full]>xforms-body>xforms-choices>xforms-label{font-style:italic;font-weight:700}xforms-select1[xf-appearance=full]>xforms-body>xforms-choices>xforms-item>xforms-label,xforms-select1[xf-appearance=full]>xforms-body>xforms-choices>xforms-itemset>xforms-item>xforms-label,xforms-select1[xf-appearance=full]>xforms-body>xforms-item>xforms-label,xforms-select1[xf-appearance=full]>xforms-body>xforms-itemset>xforms-item>xforms-label,xforms-select[xf-appearance=full]>xforms-body>xforms-choices>xforms-item>xforms-label,xforms-select[xf-appearance=full]>xforms-body>xforms-choices>xforms-itemset>xforms-item>xforms-label,xforms-select[xf-appearance=full]>xforms-body>xforms-item>xforms-label,xforms-select[xf-appearance=full]>xforms-body>xforms-itemset>xforms-item>xforms-label{font-weight:400}body{font-family:tahoma,verdana,sans-serif;margin:1ex}input{font-size:100%}input[type=checkbox]{height:1ex;width:1ex}input[xf-numeric]{text-align:right}textarea{font-family:tahoma,verdana,sans-serif}select,textarea{font-size:100%}a[appearance=minimal]{cursor:default}xforms-input[xf-readonly]>xforms-body{background-color:#f8f8f8;color:#333}xforms-input[xf-numeric]{text-align:right}xforms-item[xf-appearance=full]{display:block!important}xforms-label{display:block;font-weight:700;margin:0;padding-right:.5ex}xforms-label img{border:none!important}xforms-submit xforms-label,xforms-trigger xforms-label{padding-right:0}xform-select1>xforms-label,xforms-select>xforms-label,xforms-textarea>xforms-label{vertical-align:top}xforms-range-rail{border:1px solid #999;display:inline-block;height:4px;margin:6px 15px 0 10px;position:relative;width:200px}xforms-range-cursor{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAAd0SU1FB9wEBhMoKuFF9b0AAAB0SURBVDjL3ZRRDsAgCEMp2bU4PQfrvkwYQzMNX+uv8izEApJSCcDrgCSqu9es2N2n4AxDdAKAVXGWmT1AugsYLmO7uguoQCoNgohsu8jzaXHyNwhJmNnxUEmir50TN/Hra0zoV1DODvIqWKV4PLJM8ek+uQGc+lDIra5tbwAAAABJRU5ErkJggg==");height:17px;margin:-8px 0 0 -5px;outline-style:none;position:absolute;width:17px}xforms-input[xf-bound][xf-required]:not([xf-invalid])>xforms-label:after{color:red;content:"*"}xforms-input:not([xf-required])[xf-invalid]>xforms-label:after{color:red;content:"\2716"}xforms-input[xf-bound][xf-required][xf-invalid]>xforms-label:after{color:red;content:"*\2716"}xforms-input[xf-invalid]:not([xf-required])>xforms-body>input,xforms-input[xf-invalid][xf-required]>xforms-body>input,xforms-textarea[xf-invalid]:not([xf-required])>xforms-body>textarea{background-color:#fcc;border-style:solid;border-width:thin}#xsltforms-status-panel{background-color:#eee;border:1px solid #000;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:content-box;display:none;filter:alpha(opacity=85);font:700 20px Arial,Verdana;min-height:20px;min-width:300px;opacity:.85;padding:10px;position:absolute;text-align:center;width:300px;z-index:11}xforms-trigger{margin-top:1px}xforms-trigger a,xforms-trigger a:hover,xforms-trigger a:link,xforms-trigger a:visited{border:none!important;color:#000;cursor:pointer;text-decoration:none}</style>
    <title>Hello World in XForms</title>
    <script>"use strict";"undefined"===typeof Fleur&&(console.info("Fleur 1.0 (15), XPath 1.0 Parser, copyright (C) 2023 agenceXML - Alain Couthures, contact at fleur@agencexml.com"),function(a){a.Node=function(){};a.Node.ELEMENT_NODE=1;a.Node.ATTRIBUTE_NODE=2;a.Node.TEXT_NODE=3;a.Node.CDATA_NODE=4;a.Node.ENTITY_REFERENCE_NODE=5;a.Node.ENTITY_NODE=6;a.Node.PROCESSING_INSTRUCTION_NODE=7;a.Node.COMMENT_NODE=8;a.Node.DOCUMENT_NODE=9;a.Node.DOCUMENT_TYPE_NODE=10;a.Node.DOCUMENT_FRAGMENT_NODE=11;a.Node.NOTATION_NODE=12;a.Node.NAMESPACE_NODE=
      129;a.Node.ATOMIC_NODE=a.Node.TEXT_NODE;a.Node.SEQUENCE_NODE=130;a.Node.ARRAY_NODE=131;a.Node.MAP_NODE=132;a.Node.ENTRY_NODE=133;a.minimal=!0;a.DocumentType=function(){};a.DocumentType.resolveEntities=function(b,c){for(var d=0,e,f=null;-1!==(d=c.indexOf("&",d));){e=c.substring(d+1,c.indexOf(";",d+1));switch(e){case "amp":f="&";break;case "lt":f="<";break;case "gt":f=">";break;case "apos":f="'";break;case "quot":f='"';break;default:"#"===e.charAt(0)?f=String.fromCharCode(parseInt("x"===e.charAt(1).toLowerCase()?
      "0"+e.substr(1).toLowerCase():e.substr(1),"x"===e.charAt(1).toLowerCase()?16:10)):b&&(f=b.getEntity(e))}if(f)c=c.substr(0,d)+f+c.substr(d+e.length+2),d+=f.length,f=null;else break}return c.split("\r\n").join("\n")};a.Serializer=function(){};a.Serializer.escapeXML=function(b){return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};a.Serializer.prototype._serializeXMLToString=function(b,c,d,e){var f;switch(b.nodeType){case a.Node.ELEMENT_NODE:var g=(c?d+"<":"<")+b.nodeName;if(c){var h=
      [];var l=0;for(f=b.attributes.length;l<f;l++)h.push(b.attributes[l].nodeName);h.sort();l=0;for(f=h.length;l<f;l++)g+=" "+h[l]+'="'+a.Serializer.escapeXML(b.getAttribute(h[l])).replace('"',"&quot;")+'"'}else for(l=0,f=b.attributes.length;l<f;l++)g+=" "+b.attributes[l].nodeName+'="'+a.Serializer.escapeXML(b.attributes[l].nodeValue).replace('"',"&quot;")+'"';if(0===b.childNodes.length)return g+(c?"/>\n":"/>");g+=c&&(b.childNodes[0].nodeType!==a.Node.TEXT_NODE||b.childNodes[0].data.match(/^[ \t\n\r]*$/))?
      ">\n":">";if(-1!==e.indexOf(" "+b.nodeName+" "))for(l=0,f=b.childNodes.length;l<f;l++)b.childNodes[l].nodeType===a.Node.TEXT_NODE?(g+="<![CDATA[",g+=b.childNodes[l].data,g+="]]\x3e"):g+=this._serializeXMLToString(b.childNodes[l],c,d+"  ",e);else for(l=0,f=b.childNodes.length;l<f;l++)g+=this._serializeXMLToString(b.childNodes[l],c,d+"  ",e);return g+(c&&(b.childNodes[0].nodeType!==a.Node.TEXT_NODE||b.childNodes[0].data.match(/^[ \t\n\r]*$/))?d+"</":"</")+b.nodeName+(c?">\n":">");case a.Node.TEXT_NODE:return c&&
      b.data.match(/^[ \t\n\r]*$/)&&1!==b.parentNode.childNodes.length?"":a.Serializer.escapeXML(b.data);case a.Node.CDATA_NODE:return(c?d+"<![CDATA[":"<![CDATA[")+b.data+(c?"]]\x3e\n":"]]\x3e");case a.Node.PROCESSING_INSTRUCTION_NODE:return(c?d+"<?":"<?")+b.nodeName+" "+b.nodeValue+(c?"?>\n":"?>");case a.Node.COMMENT_NODE:return(c?d+"\x3c!--":"\x3c!--")+b.data+(c?"--\x3e\n":"--\x3e");case a.Node.DOCUMENT_NODE:g='<?xml version="1.0" encoding="UTF-8"?>\r\n';l=0;for(f=b.childNodes.length;l<f;l++)g+=this._serializeXMLToString(b.childNodes[l],
      c,d,e);return g}};a.Serializer.prototype.serializeToString=function(b,c,d,e){c=c.split(";");for(var f=/^\s*(\S*)\s*=\s*(\S*)\s*$/,g=1,h=c.length;g<h;)f.exec(c[g]),g++;switch(c[0].replace(/^\s+|\s+$/gm,"")){case "text/xml":case "application/xml":return b=this._serializeXMLToString(b,d,""," "+e+" "),d&&"\n"===b.charAt(b.length-1)&&(b=b.substr(0,b.length-1)),b}};a.XMLSerializer=function(){};a.XMLSerializer.prototype=new a.Serializer;a.XMLSerializer.prototype.serializeToString=function(b,c,d){return a.Serializer.prototype.serializeToString.call(this,
      b,"application/xml",c,d)};a.Xlength=0;a.XQueryXNames=[["http://www.w3.org/2005/XQueryX","http://www.w3.org/2000/xmlns/","http://www.w3.org/2001/XMLSchema-instance","http://www.w3.org/2007/xquery-update-10"],[]];a.XQueryX={};a.XQueryXNames[1][a.XQueryX.NCName=a.Xlength++]=[1,0,"xqx:NCName"];a.XQueryXNames[1][a.XQueryX.QName=a.Xlength++]=[1,0,"xqx:QName"];a.XQueryXNames[1][a.XQueryX.URIExpr=a.Xlength++]=[1,0,"xqx:URIExpr"];a.XQueryXNames[1][a.XQueryX.Wildcard=a.Xlength++]=[1,0,"xqx:Wildcard"];a.XQueryXNames[1][a.XQueryX.addOp=
      a.Xlength++]=[1,0,"xqx:addOp"];a.XQueryXNames[1][a.XQueryX.allowingEmpty=a.Xlength++]=[1,0,"xqx:allowingEmpty"];a.XQueryXNames[1][a.XQueryX.andOp=a.Xlength++]=[1,0,"xqx:andOp"];a.XQueryXNames[1][a.XQueryX.annotation=a.Xlength++]=[1,0,"xqx:annotation"];a.XQueryXNames[1][a.XQueryX.annotationName=a.Xlength++]=[1,0,"xqx:annotationName"];a.XQueryXNames[1][a.XQueryX.anyElementTest=a.Xlength++]=[1,0,"xqx:anyElementTest"];a.XQueryXNames[1][a.XQueryX.anyFunctionTest=a.Xlength++]=[1,0,"xqx:anyFunctionTest"];
      a.XQueryXNames[1][a.XQueryX.anyItemType=a.Xlength++]=[1,0,"xqx:anyItemType"];a.XQueryXNames[1][a.XQueryX.anyKindTest=a.Xlength++]=[1,0,"xqx:anyKindTest"];a.XQueryXNames[1][a.XQueryX.arrayConstructor=a.Xlength++]=[1,0,"xqx:arrayConstructor"];a.XQueryXNames[1][a.XQueryX.argExpr=a.Xlength++]=[1,0,"xqx:argExpr"];a.XQueryXNames[1][a.XQueryX.argumentPlaceholder=a.Xlength++]=[1,0,"xqx:argumentPlaceholder"];a.XQueryXNames[1][a.XQueryX.arguments=a.Xlength++]=[1,0,"xqx:arguments"];a.XQueryXNames[1][a.XQueryX.arithmeticOp=
      a.Xlength++]=[1,0,"xqx:arithmeticOp"];a.XQueryXNames[1][a.XQueryX.arrayTest=a.Xlength++]=[1,0,"xqx:arrayTest"];a.XQueryXNames[1][a.XQueryX.atomicType=a.Xlength++]=[1,0,"xqx:atomicType"];a.XQueryXNames[1][a.XQueryX.attributeConstructor=a.Xlength++]=[1,0,"xqx:attributeConstructor"];a.XQueryXNames[1][a.XQueryX.attributeList=a.Xlength++]=[1,0,"xqx:attributeList"];a.XQueryXNames[1][a.XQueryX.attributeName=a.Xlength++]=[1,0,"xqx:attributeName"];a.XQueryXNames[1][a.XQueryX.attributeTest=a.Xlength++]=[1,
      0,"xqx:attributeTest"];a.XQueryXNames[1][a.XQueryX.attributeValue=a.Xlength++]=[1,0,"xqx:attributeValue"];a.XQueryXNames[1][a.XQueryX.attributeValueExpr=a.Xlength++]=[1,0,"xqx:attributeValueExpr"];a.XQueryXNames[1][a.XQueryX.baseUriDecl=a.Xlength++]=[1,0,"xqx:baseUriDecl"];a.XQueryXNames[1][a.XQueryX.bindingSequence=a.Xlength++]=[1,0,"xqx:bindingSequence"];a.XQueryXNames[1][a.XQueryX.boundarySpaceDecl=a.Xlength++]=[1,0,"xqx:boundarySpaceDecl"];a.XQueryXNames[1][a.XQueryX.castExpr=a.Xlength++]=[1,
      0,"xqx:castExpr"];a.XQueryXNames[1][a.XQueryX.castableExpr=a.Xlength++]=[1,0,"xqx:castableExpr"];a.XQueryXNames[1][a.XQueryX.catchClause=a.Xlength++]=[1,0,"xqx:catchClause"];a.XQueryXNames[1][a.XQueryX.catchErrorList=a.Xlength++]=[1,0,"xqx:catchErrorList"];a.XQueryXNames[1][a.XQueryX.catchExpr=a.Xlength++]=[1,0,"xqx:catchExpr"];a.XQueryXNames[1][a.XQueryX.collation=a.Xlength++]=[1,0,"xqx:collation"];a.XQueryXNames[1][a.XQueryX.commentTest=a.Xlength++]=[1,0,"xqx:commentTest"];a.XQueryXNames[1][a.XQueryX.comparisonOp=
      a.Xlength++]=[1,0,"xqx:comparisonOp"];a.XQueryXNames[1][a.XQueryX.computedAttributeConstructor=a.Xlength++]=[1,0,"xqx:computedAttributeConstructor"];a.XQueryXNames[1][a.XQueryX.computedCommentConstructor=a.Xlength++]=[1,0,"xqx:computedCommentConstructor"];a.XQueryXNames[1][a.XQueryX.computedDocumentConstructor=a.Xlength++]=[1,0,"xqx:computedDocumentConstructor"];a.XQueryXNames[1][a.XQueryX.computedElementConstructor=a.Xlength++]=[1,0,"xqx:computedElementConstructor"];a.XQueryXNames[1][a.XQueryX.computedEntryConstructor=
      a.Xlength++]=[1,0,"xqx:computedEntryConstructor"];a.XQueryXNames[1][a.XQueryX.computedNamespaceConstructor=a.Xlength++]=[1,0,"xqx:computedNamespaceConstructor"];a.XQueryXNames[1][a.XQueryX.computedPIConstructor=a.Xlength++]=[1,0,"xqx:computedPIConstructor"];a.XQueryXNames[1][a.XQueryX.computedTextConstructor=a.Xlength++]=[1,0,"xqx:computedTextConstructor"];a.XQueryXNames[1][a.XQueryX.constantExpr=a.Xlength++]=[1,0,"xqx:constantExpr"];a.XQueryXNames[1][a.XQueryX.constructionDecl=a.Xlength++]=[1,0,
      "xqx:constructionDecl"];a.XQueryXNames[1][a.XQueryX.constructorFunctionExpr=a.Xlength++]=[1,0,"xqx:constructorFunctionExpr"];a.XQueryXNames[1][a.XQueryX.contentExpr=a.Xlength++]=[1,0,"xqx:contentExpr"];a.XQueryXNames[1][a.XQueryX.contextItemDecl=a.Xlength++]=[1,0,"xqx:contextItemDecl"];a.XQueryXNames[1][a.XQueryX.contextItemExpr=a.Xlength++]=[1,0,"xqx:contextItemExpr"];a.XQueryXNames[1][a.XQueryX.copyNamespacesDecl=a.Xlength++]=[1,0,"xqx:copyNamespacesDecl"];a.XQueryXNames[1][a.XQueryX.countClause=
      a.Xlength++]=[1,0,"xqx:countClause"];a.XQueryXNames[1][a.XQueryX.currentItem=a.Xlength++]=[1,0,"xqx:currentItem"];a.XQueryXNames[1][a.XQueryX.decimalConstantExpr=a.Xlength++]=[1,0,"xqx:decimalConstantExpr"];a.XQueryXNames[1][a.XQueryX.decimalFormatDecl=a.Xlength++]=[1,0,"xqx:decimalFormatDecl"];a.XQueryXNames[1][a.XQueryX.decimalFormatName=a.Xlength++]=[1,0,"xqx:decimalFormatName"];a.XQueryXNames[1][a.XQueryX.decimalFormatParam=a.Xlength++]=[1,0,"xqx:decimalFormatParam"];a.XQueryXNames[1][a.XQueryX.decimalFormatParamName=
      a.Xlength++]=[1,0,"xqx:decimalFormatParamName"];a.XQueryXNames[1][a.XQueryX.decimalFormatParamValue=a.Xlength++]=[1,0,"xqx:decimalFormatParamValue"];a.XQueryXNames[1][a.XQueryX.defaultCollationDecl=a.Xlength++]=[1,0,"xqx:defaultCollationDecl"];a.XQueryXNames[1][a.XQueryX.defaultElementNamespace=a.Xlength++]=[1,0,"xqx:defaultElementNamespace"];a.XQueryXNames[1][a.XQueryX.defaultNamespaceCategory=a.Xlength++]=[1,0,"xqx:defaultNamespaceCategory"];a.XQueryXNames[1][a.XQueryX.defaultNamespaceDecl=a.Xlength++]=
      [1,0,"xqx:defaultNamespaceDecl"];a.XQueryXNames[1][a.XQueryX.divOp=a.Xlength++]=[1,0,"xqx:divOp"];a.XQueryXNames[1][a.XQueryX.documentTest=a.Xlength++]=[1,0,"xqx:documentTest"];a.XQueryXNames[1][a.XQueryX.doubleConstantExpr=a.Xlength++]=[1,0,"xqx:doubleConstantExpr"];a.XQueryXNames[1][a.XQueryX.doubleMapExpr=a.Xlength++]=[1,0,"xqx:doubleMapExpr"];a.XQueryXNames[1][a.XQueryX.dynamicFunctionInvocationExpr=a.Xlength++]=[1,0,"xqx:dynamicFunctionInvocationExpr"];a.XQueryXNames[1][a.XQueryX.elementConstructor=
      a.Xlength++]=[1,0,"xqx:elementConstructor"];a.XQueryXNames[1][a.XQueryX.elementContent=a.Xlength++]=[1,0,"xqx:elementContent"];a.XQueryXNames[1][a.XQueryX.elementName=a.Xlength++]=[1,0,"xqx:elementName"];a.XQueryXNames[1][a.XQueryX.elementTest=a.Xlength++]=[1,0,"xqx:elementTest"];a.XQueryXNames[1][a.XQueryX.elseClause=a.Xlength++]=[1,0,"xqx:elseClause"];a.XQueryXNames[1][a.XQueryX.emptyOrderingDecl=a.Xlength++]=[1,0,"xqx:emptyOrderingDecl"];a.XQueryXNames[1][a.XQueryX.emptyOrderingMode=a.Xlength++]=
      [1,0,"xqx:emptyOrderingMode"];a.XQueryXNames[1][a.XQueryX.encoding=a.Xlength++]=[1,0,"xqx:encoding"];a.XQueryXNames[1][a.XQueryX.endExpr=a.Xlength++]=[1,0,"xqx:endExpr"];a.XQueryXNames[1][a.XQueryX.entryTest=a.Xlength++]=[1,0,"xqx:entryTest"];a.XQueryXNames[1][a.XQueryX.eqOp=a.Xlength++]=[1,0,"xqx:eqOp"];a.XQueryXNames[1][a.XQueryX.equalOp=a.Xlength++]=[1,0,"xqx:equalOp"];a.XQueryXNames[1][a.XQueryX.exceptOp=a.Xlength++]=[1,0,"xqx:exceptOp"];a.XQueryXNames[1][a.XQueryX.expr=a.Xlength++]=[1,0,"xqx:expr"];
      a.XQueryXNames[1][a.XQueryX.extensionExpr=a.Xlength++]=[1,0,"xqx:extensionExpr"];a.XQueryXNames[1][a.XQueryX.external=a.Xlength++]=[1,0,"xqx:external"];a.XQueryXNames[1][a.XQueryX.externalDefinition=a.Xlength++]=[1,0,"xqx:externalDefinition"];a.XQueryXNames[1][a.XQueryX.filterExpr=a.Xlength++]=[1,0,"xqx:filterExpr"];a.XQueryXNames[1][a.XQueryX.firstOperand=a.Xlength++]=[1,0,"xqx:firstOperand"];a.XQueryXNames[1][a.XQueryX.flworExpr=a.Xlength++]=[1,0,"xqx:flworExpr"];a.XQueryXNames[1][a.XQueryX.forClause=
      a.Xlength++]=[1,0,"xqx:forClause"];a.XQueryXNames[1][a.XQueryX.forClauseItem=a.Xlength++]=[1,0,"xqx:forClauseItem"];a.XQueryXNames[1][a.XQueryX.forExpr=a.Xlength++]=[1,0,"xqx:forExpr"];a.XQueryXNames[1][a.XQueryX.forLetClauseItemExtensions=a.Xlength++]=[1,0,"xqx:forLetClauseItemExtensions"];a.XQueryXNames[1][a.XQueryX.functionBody=a.Xlength++]=[1,0,"xqx:functionBody"];a.XQueryXNames[1][a.XQueryX.functionCallExpr=a.Xlength++]=[1,0,"xqx:functionCallExpr"];a.XQueryXNames[1][a.XQueryX.functionDecl=a.Xlength++]=
      [1,0,"xqx:functionDecl"];a.XQueryXNames[1][a.XQueryX.functionItem=a.Xlength++]=[1,0,"xqx:functionItem"];a.XQueryXNames[1][a.XQueryX.functionName=a.Xlength++]=[1,0,"xqx:functionName"];a.XQueryXNames[1][a.XQueryX.geOp=a.Xlength++]=[1,0,"xqx:geOp"];a.XQueryXNames[1][a.XQueryX.generalComparisonOp=a.Xlength++]=[1,0,"xqx:generalComparisonOp"];a.XQueryXNames[1][a.XQueryX.greaterThanOp=a.Xlength++]=[1,0,"xqx:greaterThanOp"];a.XQueryXNames[1][a.XQueryX.greaterThanOrEqualOp=a.Xlength++]=[1,0,"xqx:greaterThanOrEqualOp"];
      a.XQueryXNames[1][a.XQueryX.groupByClause=a.Xlength++]=[1,0,"xqx:groupByClause"];a.XQueryXNames[1][a.XQueryX.groupVarInitialize=a.Xlength++]=[1,0,"xqx:groupVarInitialize"];a.XQueryXNames[1][a.XQueryX.groupingSpec=a.Xlength++]=[1,0,"xqx:groupingSpec"];a.XQueryXNames[1][a.XQueryX.gtOp=a.Xlength++]=[1,0,"xqx:gtOp"];a.XQueryXNames[1][a.XQueryX.idivOp=a.Xlength++]=[1,0,"xqx:idivOp"];a.XQueryXNames[1][a.XQueryX.ifClause=a.Xlength++]=[1,0,"xqx:ifClause"];a.XQueryXNames[1][a.XQueryX.ifThenElseExpr=a.Xlength++]=
      [1,0,"xqx:ifThenElseExpr"];a.XQueryXNames[1][a.XQueryX.inheritMode=a.Xlength++]=[1,0,"xqx:inheritMode"];a.XQueryXNames[1][a.XQueryX.inlineFunctionExpr=a.Xlength++]=[1,0,"xqx:inlineFunctionExpr"];a.XQueryXNames[1][a.XQueryX.instanceOfExpr=a.Xlength++]=[1,0,"xqx:instanceOfExpr"];a.XQueryXNames[1][a.XQueryX.integerConstantExpr=a.Xlength++]=[1,0,"xqx:integerConstantExpr"];a.XQueryXNames[1][a.XQueryX.intersectOp=a.Xlength++]=[1,0,"xqx:intersectOp"];a.XQueryXNames[1][a.XQueryX.isOp=a.Xlength++]=[1,0,"xqx:isOp"];
      a.XQueryXNames[1][a.XQueryX.itemType=a.Xlength++]=[1,0,"xqx:itemType"];a.XQueryXNames[1][a.XQueryX.javascriptImport=a.Xlength++]=[1,0,"xqx:javascriptImport"];a.XQueryXNames[1][a.XQueryX.kindTest=a.Xlength++]=[1,0,"xqx:kindTest"];a.XQueryXNames[1][a.XQueryX.leOp=a.Xlength++]=[1,0,"xqx:leOp"];a.XQueryXNames[1][a.XQueryX.lessThanOp=a.Xlength++]=[1,0,"xqx:lessThanOp"];a.XQueryXNames[1][a.XQueryX.lessThanOrEqualOp=a.Xlength++]=[1,0,"xqx:lessThanOrEqualOp"];a.XQueryXNames[1][a.XQueryX.letClause=a.Xlength++]=
      [1,0,"xqx:letClause"];a.XQueryXNames[1][a.XQueryX.letClauseItem=a.Xlength++]=[1,0,"xqx:letClauseItem"];a.XQueryXNames[1][a.XQueryX.letExpr=a.Xlength++]=[1,0,"xqx:letExpr"];a.XQueryXNames[1][a.XQueryX.libraryModule=a.Xlength++]=[1,0,"xqx:libraryModule"];a.XQueryXNames[1][a.XQueryX.logicalOp=a.Xlength++]=[1,0,"xqx:logicalOp"];a.XQueryXNames[1][a.XQueryX.lookup=a.Xlength++]=[1,0,"xqx:lookup"];a.XQueryXNames[1][a.XQueryX.ltOp=a.Xlength++]=[1,0,"xqx:ltOp"];a.XQueryXNames[1][a.XQueryX.mainModule=a.Xlength++]=
      [1,0,"xqx:mainModule"];a.XQueryXNames[1][a.XQueryX.mapConstructor=a.Xlength++]=[1,0,"xqx:mapConstructor"];a.XQueryXNames[1][a.XQueryX.mapConstructorEntry=a.Xlength++]=[1,0,"xqx:mapConstructorEntry"];a.XQueryXNames[1][a.XQueryX.mapKeyExpr=a.Xlength++]=[1,0,"xqx:mapKeyExpr"];a.XQueryXNames[1][a.XQueryX.mapTest=a.Xlength++]=[1,0,"xqx:mapTest"];a.XQueryXNames[1][a.XQueryX.mapValueExpr=a.Xlength++]=[1,0,"xqx:mapValueExpr"];a.XQueryXNames[1][a.XQueryX.modOp=a.Xlength++]=[1,0,"xqx:modOp"];a.XQueryXNames[1][a.XQueryX.module=
      a.Xlength++]=[1,0,"xqx:module"];a.XQueryXNames[1][a.XQueryX.moduleDecl=a.Xlength++]=[1,0,"xqx:moduleDecl"];a.XQueryXNames[1][a.XQueryX.moduleImport=a.Xlength++]=[1,0,"xqx:moduleImport"];a.XQueryXNames[1][a.XQueryX.multidimExpr=a.Xlength++]=[1,0,"xqx:multidimExpr"];a.XQueryXNames[1][a.XQueryX.multiplyOp=a.Xlength++]=[1,0,"xqx:multiplyOp"];a.XQueryXNames[1][a.XQueryX.name=a.Xlength++]=[1,0,"xqx:name"];a.XQueryXNames[1][a.XQueryX.nameTest=a.Xlength++]=[1,0,"xqx:nameTest"];a.XQueryXNames[1][a.XQueryX.namedFunctionRef=
      a.Xlength++]=[1,0,"xqx:namedFunctionRef"];a.XQueryXNames[1][a.XQueryX.namespaceDecl=a.Xlength++]=[1,0,"xqx:namespaceDecl"];a.XQueryXNames[1][a.XQueryX.namespaceDeclaration=a.Xlength++]=[1,0,"xqx:namespaceDeclaration"];a.XQueryXNames[1][a.XQueryX.namespacePrefix=a.Xlength++]=[1,0,"xqx:namespacePrefix"];a.XQueryXNames[1][a.XQueryX.namespaceTest=a.Xlength++]=[1,0,"xqx:namespaceTest"];a.XQueryXNames[1][a.XQueryX.neOp=a.Xlength++]=[1,0,"xqx:neOp"];a.XQueryXNames[1][a.XQueryX.nextItem=a.Xlength++]=[1,0,
      "xqx:nextItem"];a.XQueryXNames[1][a.XQueryX.nillable=a.Xlength++]=[1,0,"xqx:nillable"];a.XQueryXNames[1][a.XQueryX.nodeAfterOp=a.Xlength++]=[1,0,"xqx:nodeAfterOp"];a.XQueryXNames[1][a.XQueryX.nodeBeforeOp=a.Xlength++]=[1,0,"xqx:nodeBeforeOp"];a.XQueryXNames[1][a.XQueryX.nodeComparisonOp=a.Xlength++]=[1,0,"xqx:nodeComparisonOp"];a.XQueryXNames[1][a.XQueryX.notEqualOp=a.Xlength++]=[1,0,"xqx:notEqualOp"];a.XQueryXNames[1][a.XQueryX.occurrenceIndicator=a.Xlength++]=[1,0,"xqx:occurrenceIndicator"];a.XQueryXNames[1][a.XQueryX.operand=
      a.Xlength++]=[1,0,"xqx:operand"];a.XQueryXNames[1][a.XQueryX.operatorExpr=a.Xlength++]=[1,0,"xqx:operatorExpr"];a.XQueryXNames[1][a.XQueryX.optionContents=a.Xlength++]=[1,0,"xqx:optionContents"];a.XQueryXNames[1][a.XQueryX.optionDecl=a.Xlength++]=[1,0,"xqx:optionDecl"];a.XQueryXNames[1][a.XQueryX.optionName=a.Xlength++]=[1,0,"xqx:optionName"];a.XQueryXNames[1][a.XQueryX.optional=a.Xlength++]=[1,0,"xqx:optional"];a.XQueryXNames[1][a.XQueryX.orOp=a.Xlength++]=[1,0,"xqx:orOp"];a.XQueryXNames[1][a.XQueryX.orderByClause=
      a.Xlength++]=[1,0,"xqx:orderByClause"];a.XQueryXNames[1][a.XQueryX.orderByExpr=a.Xlength++]=[1,0,"xqx:orderByExpr"];a.XQueryXNames[1][a.XQueryX.orderBySpec=a.Xlength++]=[1,0,"xqx:orderBySpec"];a.XQueryXNames[1][a.XQueryX.orderComparisonOp=a.Xlength++]=[1,0,"xqx:orderComparisonOp"];a.XQueryXNames[1][a.XQueryX.orderModifier=a.Xlength++]=[1,0,"xqx:orderModifier"];a.XQueryXNames[1][a.XQueryX.orderedExpr=a.Xlength++]=[1,0,"xqx:orderedExpr"];a.XQueryXNames[1][a.XQueryX.orderingKind=a.Xlength++]=[1,0,"xqx:orderingKind"];
      a.XQueryXNames[1][a.XQueryX.orderingModeDecl=a.Xlength++]=[1,0,"xqx:orderingModeDecl"];a.XQueryXNames[1][a.XQueryX.param=a.Xlength++]=[1,0,"xqx:param"];a.XQueryXNames[1][a.XQueryX.paramList=a.Xlength++]=[1,0,"xqx:paramList"];a.XQueryXNames[1][a.XQueryX.paramTypeList=a.Xlength++]=[1,0,"xqx:paramTypeList"];a.XQueryXNames[1][a.XQueryX.parenthesizedItemType=a.Xlength++]=[1,0,"xqx:parenthesizedItemType"];a.XQueryXNames[1][a.XQueryX.pathExpr=a.Xlength++]=[1,0,"xqx:pathExpr"];a.XQueryXNames[1][a.XQueryX.piTarget=
      a.Xlength++]=[1,0,"xqx:piTarget"];a.XQueryXNames[1][a.XQueryX.piTargetExpr=a.Xlength++]=[1,0,"xqx:piTargetExpr"];a.XQueryXNames[1][a.XQueryX.piTest=a.Xlength++]=[1,0,"xqx:piTest"];a.XQueryXNames[1][a.XQueryX.piValueExpr=a.Xlength++]=[1,0,"xqx:piValueExpr"];a.XQueryXNames[1][a.XQueryX.positionalVariableBinding=a.Xlength++]=[1,0,"xqx:positionalVariableBinding"];a.XQueryXNames[1][a.XQueryX.pragma=a.Xlength++]=[1,0,"xqx:pragma"];a.XQueryXNames[1][a.XQueryX.pragmaContents=a.Xlength++]=[1,0,"xqx:pragmaContents"];
      a.XQueryXNames[1][a.XQueryX.pragmaName=a.Xlength++]=[1,0,"xqx:pragmaName"];a.XQueryXNames[1][a.XQueryX.predicate=a.Xlength++]=[1,0,"xqx:predicate"];a.XQueryXNames[1][a.XQueryX.predicateExpr=a.Xlength++]=[1,0,"xqx:predicateExpr"];a.XQueryXNames[1][a.XQueryX.predicates=a.Xlength++]=[1,0,"xqx:predicates"];a.XQueryXNames[1][a.XQueryX.prefixElt=a.Xlength++]=[1,0,"xqx:prefix"];a.XQueryXNames[1][a.XQueryX.prefixExpr=a.Xlength++]=[1,0,"xqx:prefixExpr"];a.XQueryXNames[1][a.XQueryX.preserveMode=a.Xlength++]=
      [1,0,"xqx:preserveMode"];a.XQueryXNames[1][a.XQueryX.previousItem=a.Xlength++]=[1,0,"xqx:previousItem"];a.XQueryXNames[1][a.XQueryX.prolog=a.Xlength++]=[1,0,"xqx:prolog"];a.XQueryXNames[1][a.XQueryX.prologPartOneItem=a.Xlength++]=[1,0,"xqx:prologPartOneItem"];a.XQueryXNames[1][a.XQueryX.prologPartTwoItem=a.Xlength++]=[1,0,"xqx:prologPartTwoItem"];a.XQueryXNames[1][a.XQueryX.quantifiedExpr=a.Xlength++]=[1,0,"xqx:quantifiedExpr"];a.XQueryXNames[1][a.XQueryX.quantifiedExprInClause=a.Xlength++]=[1,0,
      "xqx:quantifiedExprInClause"];a.XQueryXNames[1][a.XQueryX.quantifier=a.Xlength++]=[1,0,"xqx:quantifier"];a.XQueryXNames[1][a.XQueryX.queryBody=a.Xlength++]=[1,0,"xqx:queryBody"];a.XQueryXNames[1][a.XQueryX.rangeSequenceExpr=a.Xlength++]=[1,0,"xqx:rangeSequenceExpr"];a.XQueryXNames[1][a.XQueryX.resultExpr=a.Xlength++]=[1,0,"xqx:resultExpr"];a.XQueryXNames[1][a.XQueryX.returnClause=a.Xlength++]=[1,0,"xqx:returnClause"];a.XQueryXNames[1][a.XQueryX.rootExpr=a.Xlength++]=[1,0,"xqx:rootExpr"];a.XQueryXNames[1][a.XQueryX.schemaAttributeTest=
      a.Xlength++]=[1,0,"xqx:schemaAttributeTest"];a.XQueryXNames[1][a.XQueryX.schemaElementTest=a.Xlength++]=[1,0,"xqx:schemaElementTest"];a.XQueryXNames[1][a.XQueryX.schemaImport=a.Xlength++]=[1,0,"xqx:schemaImport"];a.XQueryXNames[1][a.XQueryX.secondOperand=a.Xlength++]=[1,0,"xqx:secondOperand"];a.XQueryXNames[1][a.XQueryX.sequenceExpr=a.Xlength++]=[1,0,"xqx:sequenceExpr"];a.XQueryXNames[1][a.XQueryX.sequenceType=a.Xlength++]=[1,0,"xqx:sequenceType"];a.XQueryXNames[1][a.XQueryX.sequenceTypeUnion=a.Xlength++]=
      [1,0,"xqx:sequenceTypeUnion"];a.XQueryXNames[1][a.XQueryX.setOp=a.Xlength++]=[1,0,"xqx:setOp"];a.XQueryXNames[1][a.XQueryX.simpleMapExpr=a.Xlength++]=[1,0,"xqx:simpleMapExpr"];a.XQueryXNames[1][a.XQueryX.singleType=a.Xlength++]=[1,0,"xqx:singleType"];a.XQueryXNames[1][a.XQueryX.slidingWindowClause=a.Xlength++]=[1,0,"xqx:slidingWindowClause"];a.XQueryXNames[1][a.XQueryX.sourceExpr=a.Xlength++]=[1,0,"xqx:sourceExpr"];a.XQueryXNames[1][a.XQueryX.stable=a.Xlength++]=[1,0,"xqx:stable"];a.XQueryXNames[1][a.XQueryX.star=
      a.Xlength++]=[1,0,"xqx:star"];a.XQueryXNames[1][a.XQueryX.startExpr=a.Xlength++]=[1,0,"xqx:startExpr"];a.XQueryXNames[1][a.XQueryX.stepExpr=a.Xlength++]=[1,0,"xqx:stepExpr"];a.XQueryXNames[1][a.XQueryX.stringConcatenateOp=a.Xlength++]=[1,0,"xqx:stringConcatenateOp"];a.XQueryXNames[1][a.XQueryX.stringConstantExpr=a.Xlength++]=[1,0,"xqx:stringConstantExpr"];a.XQueryXNames[1][a.XQueryX.stringOp=a.Xlength++]=[1,0,"xqx:stringOp"];a.XQueryXNames[1][a.XQueryX.subtractOp=a.Xlength++]=[1,0,"xqx:subtractOp"];
      a.XQueryXNames[1][a.XQueryX.switchCaseExpr=a.Xlength++]=[1,0,"xqx:switchCaseExpr"];a.XQueryXNames[1][a.XQueryX.switchExpr=a.Xlength++]=[1,0,"xqx:switchExpr"];a.XQueryXNames[1][a.XQueryX.switchExprCaseClause=a.Xlength++]=[1,0,"xqx:switchExprCaseClause"];a.XQueryXNames[1][a.XQueryX.switchExprDefaultClause=a.Xlength++]=[1,0,"xqx:switchExprDefaultClause"];a.XQueryXNames[1][a.XQueryX.tagName=a.Xlength++]=[1,0,"xqx:tagName"];a.XQueryXNames[1][a.XQueryX.tagNameExpr=a.Xlength++]=[1,0,"xqx:tagNameExpr"];a.XQueryXNames[1][a.XQueryX.targetLocation=
      a.Xlength++]=[1,0,"xqx:targetLocation"];a.XQueryXNames[1][a.XQueryX.targetLocationExpr=a.Xlength++]=[1,0,"xqx:targetLocationExpr"];a.XQueryXNames[1][a.XQueryX.targetNamespace=a.Xlength++]=[1,0,"xqx:targetNamespace"];a.XQueryXNames[1][a.XQueryX.textTest=a.Xlength++]=[1,0,"xqx:textTest"];a.XQueryXNames[1][a.XQueryX.thenClause=a.Xlength++]=[1,0,"xqx:thenClause"];a.XQueryXNames[1][a.XQueryX.treatExpr=a.Xlength++]=[1,0,"xqx:treatExpr"];a.XQueryXNames[1][a.XQueryX.tryCatchExpr=a.Xlength++]=[1,0,"xqx:tryCatchExpr"];
      a.XQueryXNames[1][a.XQueryX.tryClause=a.Xlength++]=[1,0,"xqx:tryClause"];a.XQueryXNames[1][a.XQueryX.tumblingWindowClause=a.Xlength++]=[1,0,"xqx:tumblingWindowClause"];a.XQueryXNames[1][a.XQueryX.typeDeclaration=a.Xlength++]=[1,0,"xqx:typeDeclaration"];a.XQueryXNames[1][a.XQueryX.typeName=a.Xlength++]=[1,0,"xqx:typeName"];a.XQueryXNames[1][a.XQueryX.typedFunctionTest=a.Xlength++]=[1,0,"xqx:typedFunctionTest"];a.XQueryXNames[1][a.XQueryX.typedVariableBinding=a.Xlength++]=[1,0,"xqx:typedVariableBinding"];
      a.XQueryXNames[1][a.XQueryX.typeswitchExpr=a.Xlength++]=[1,0,"xqx:typeswitchExpr"];a.XQueryXNames[1][a.XQueryX.typeswitchExprCaseClause=a.Xlength++]=[1,0,"xqx:typeswitchExprCaseClause"];a.XQueryXNames[1][a.XQueryX.typeswitchExprDefaultClause=a.Xlength++]=[1,0,"xqx:typeswitchExprDefaultClause"];a.XQueryXNames[1][a.XQueryX.unaryMinusOp=a.Xlength++]=[1,0,"xqx:unaryMinusOp"];a.XQueryXNames[1][a.XQueryX.unaryPlusOp=a.Xlength++]=[1,0,"xqx:unaryPlusOp"];a.XQueryXNames[1][a.XQueryX.unionOp=a.Xlength++]=[1,
      0,"xqx:unionOp"];a.XQueryXNames[1][a.XQueryX.unorderedExpr=a.Xlength++]=[1,0,"xqx:unorderedExpr"];a.XQueryXNames[1][a.XQueryX.unaryLookup=a.Xlength++]=[1,0,"xqx:unaryLookup"];a.XQueryXNames[1][a.XQueryX.uri=a.Xlength++]=[1,0,"xqx:uri"];a.XQueryXNames[1][a.XQueryX.validateExpr=a.Xlength++]=[1,0,"xqx:validateExpr"];a.XQueryXNames[1][a.XQueryX.validationMode=a.Xlength++]=[1,0,"xqx:validationMode"];a.XQueryXNames[1][a.XQueryX.value=a.Xlength++]=[1,0,"xqx:value"];a.XQueryXNames[1][a.XQueryX.valueComparisonOp=
      a.Xlength++]=[1,0,"xqx:valueComparisonOp"];a.XQueryXNames[1][a.XQueryX.valueExpr=a.Xlength++]=[1,0,"xqx:valueExpr"];a.XQueryXNames[1][a.XQueryX.varDecl=a.Xlength++]=[1,0,"xqx:varDecl"];a.XQueryXNames[1][a.XQueryX.varName=a.Xlength++]=[1,0,"xqx:varName"];a.XQueryXNames[1][a.XQueryX.varRef=a.Xlength++]=[1,0,"xqx:varRef"];a.XQueryXNames[1][a.XQueryX.varValue=a.Xlength++]=[1,0,"xqx:varValue"];a.XQueryXNames[1][a.XQueryX.variableBinding=a.Xlength++]=[1,0,"xqx:variableBinding"];a.XQueryXNames[1][a.XQueryX.version=
      a.Xlength++]=[1,0,"xqx:version"];a.XQueryXNames[1][a.XQueryX.versionDecl=a.Xlength++]=[1,0,"xqx:versionDecl"];a.XQueryXNames[1][a.XQueryX.voidSequenceType=a.Xlength++]=[1,0,"xqx:voidSequenceType"];a.XQueryXNames[1][a.XQueryX.whereClause=a.Xlength++]=[1,0,"xqx:whereClause"];a.XQueryXNames[1][a.XQueryX.winEndExpr=a.Xlength++]=[1,0,"xqx:winEndExpr"];a.XQueryXNames[1][a.XQueryX.winStartExpr=a.Xlength++]=[1,0,"xqx:winStartExpr"];a.XQueryXNames[1][a.XQueryX.windowClause=a.Xlength++]=[1,0,"xqx:windowClause"];
      a.XQueryXNames[1][a.XQueryX.windowEndCondition=a.Xlength++]=[1,0,"xqx:windowEndCondition"];a.XQueryXNames[1][a.XQueryX.windowStartCondition=a.Xlength++]=[1,0,"xqx:windowStartCondition"];a.XQueryXNames[1][a.XQueryX.windowVars=a.Xlength++]=[1,0,"xqx:windowVars"];a.XQueryXNames[1][a.XQueryX.xpathAxis=a.Xlength++]=[1,0,"xqx:xpathAxis"];a.XQueryXNames[1][a.XQueryX.URI=a.Xlength++]=[2,0,"xqx:URI"];a.XQueryXNames[1][a.XQueryX["default"]=a.Xlength++]=[2,0,"xqx:default"];a.XQueryXNames[1][a.XQueryX.nondeterministic=
      a.Xlength++]=[2,0,"xqx:nondeterministic"];a.XQueryXNames[1][a.XQueryX.onlyEnd=a.Xlength++]=[2,0,"xqx:onlyEnd"];a.XQueryXNames[1][a.XQueryX.prefix=a.Xlength++]=[2,0,"xqx:prefix"];a.XQueryXNames[1][a.XQueryX["private"]=a.Xlength++]=[2,0,"xqx:private"];a.XQueryXNames[1][a.XQueryX.sequentialFunction=a.Xlength++]=[2,0,"xqx:sequentialFunction"];a.XQueryXNames[1][a.XQueryX.updatingFunction=a.Xlength++]=[2,0,"xqx:updatingFunction"];a.XQueryXNames[1][a.XQueryX.xqx=a.Xlength++]=[2,1,"xmlns:xqx"];a.XQueryXNames[1][a.XQueryX.xsi=
      a.Xlength++]=[2,1,"xmlns:xsi"];a.XQueryXNames[1][a.XQueryX.schemaLocation=a.Xlength++]=[2,2,"xsi:schemaLocation"];a.XQueryXNames[1][a.XQueryX.xqxuf=a.Xlength++]=[2,1,"xmlns:xqxuf"];a.XQueryXNames[1][a.XQueryX.copyModifyExpr=a.Xlength++]=[1,3,"xqxuf:copyModifyExpr"];a.XQueryXNames[1][a.XQueryX.copySource=a.Xlength++]=[1,3,"xqxuf:copySource"];a.XQueryXNames[1][a.XQueryX.deleteExpr=a.Xlength++]=[1,3,"xqxuf:deleteExpr"];a.XQueryXNames[1][a.XQueryX.insertAfter=a.Xlength++]=[1,3,"xqxuf:insertAfter"];a.XQueryXNames[1][a.XQueryX.insertAsFirst=
      a.Xlength++]=[1,3,"xqxuf:insertAsFirst"];a.XQueryXNames[1][a.XQueryX.insertAsLast=a.Xlength++]=[1,3,"xqxuf:insertAsLast"];a.XQueryXNames[1][a.XQueryX.insertBefore=a.Xlength++]=[1,3,"xqxuf:insertBefore"];a.XQueryXNames[1][a.XQueryX.insertExpr=a.Xlength++]=[1,3,"xqxuf:insertExpr"];a.XQueryXNames[1][a.XQueryX.insertInto=a.Xlength++]=[1,3,"xqxuf:insertInto"];a.XQueryXNames[1][a.XQueryX.modifyExpr=a.Xlength++]=[1,3,"xqxuf:modifyExpr"];a.XQueryXNames[1][a.XQueryX.newNameExpr=a.Xlength++]=[1,3,"xqxuf:newNameExpr"];
      a.XQueryXNames[1][a.XQueryX.renameExpr=a.Xlength++]=[1,3,"xqxuf:renameExpr"];a.XQueryXNames[1][a.XQueryX.replaceExpr=a.Xlength++]=[1,3,"xqxuf:replaceExpr"];a.XQueryXNames[1][a.XQueryX.replaceValue=a.Xlength++]=[1,3,"xqxuf:replaceValue"];a.XQueryXNames[1][a.XQueryX.replacementExpr=a.Xlength++]=[1,3,"xqxuf:replacementExpr"];a.XQueryXNames[1][a.XQueryX.returnExpr=a.Xlength++]=[1,3,"xqxuf:returnExpr"];a.XQueryXNames[1][a.XQueryX.revalidationDecl=a.Xlength++]=[1,3,"xqxuf:revalidationDecl"];a.XQueryXNames[1][a.XQueryX.sourceExprUf=
      a.Xlength++]=[1,3,"xqxuf:sourceExpr"];a.XQueryXNames[1][a.XQueryX.targetExpr=a.Xlength++]=[1,3,"xqxuf:targetExpr"];a.XQueryXNames[1][a.XQueryX.transformCopies=a.Xlength++]=[1,3,"xqxuf:transformCopies"];a.XQueryXNames[1][a.XQueryX.transformCopy=a.Xlength++]=[1,3,"xqxuf:transformCopy"];a.XQueryXNames[1][a.XQueryX.transformExpr=a.Xlength++]=[1,3,"xqxuf:transformExpr"];a.XPathEvaluator=function(){};a.XPathEvaluator._precedence="././/.:.as.&0.!.!!.&1.~+.~-.&2.cast as.&3.castable as.&4.treat as.&5.instance of.&6.intersect.except.&7.|.union.&8.div.mod.*.idiv.&9.+.-.&10.to.&11.||.&12.eq.ne.lt.le.gt.ge.<.>.<=.>=.is.<<.>>.=.!=.&13.and.&14.or.&15.allowing.&16.at.&17.:=.in.&18.after.before.into.with.value.&19.node.nodes.&20.~~ascending.~~descending.empty.&28.~,.&29.for.let.group by.order by.stable order by.count.where.some.every.&30.then.catch.&31.else.return.satisfies.&32.,.&50.;.&51.";
      a.XPathEvaluator._rightgrouping1=a.XPathEvaluator._precedence.substr(a.XPathEvaluator._precedence.indexOf(".then.")+6);a.XPathEvaluator._rightgrouping1=a.XPathEvaluator._rightgrouping1.substr(a.XPathEvaluator._rightgrouping1.indexOf("&")+1);a.XPathEvaluator._rightgrouping1=parseInt(a.XPathEvaluator._rightgrouping1.substr(0,a.XPathEvaluator._rightgrouping1.indexOf(".")),10);a.XPathEvaluator._rightgrouping2=a.XPathEvaluator._precedence.substr(a.XPathEvaluator._precedence.indexOf(".return.")+6);a.XPathEvaluator._rightgrouping2=
      a.XPathEvaluator._rightgrouping2.substr(a.XPathEvaluator._rightgrouping2.indexOf("&")+1);a.XPathEvaluator._rightgrouping2=parseInt(a.XPathEvaluator._rightgrouping2.substr(0,a.XPathEvaluator._rightgrouping2.indexOf(".")),10);a.XPathEvaluator._opcodes="./;stepExpr.|;unionOp.union;unionOp.div;divOp.mod;modOp.*;multiplyOp.idiv;idivOp.+;addOp.-;subtractOp.to;toOp.||;stringConcatenateOp.eq;eqOp.ne;neOp.lt;ltOp.le;leOp.gt;gtOp.ge;geOp.<;lessThanOp.>;greaterThanOp.<=;lessThanOrEqualOp.>=;greaterThanOrEqualOp.is;isOp.<<;nodeBeforeOp.>>;nodeAfterOp.=;equalOp.!=;notEqualOp.and;andOp.or;orOp.,;argExpr.";
      a.XPathEvaluator._skipComment=function(b,c){var d=b.charAt(c),e=b.charAt(c+1),f=b.length;do{if("("===d&&":"===e)c=a.XPathEvaluator._skipComment(b,c+2);else if(":"===d&&")"===e)return c+1;d=b.charAt(++c);e=b.charAt(c+1)}while(c<f)};a.XPathEvaluator._skipSpaces=function(b,c){var d=b.charAt(c),e=b.length;do{if("("===d&&":"===b.charAt(c+1))c=a.XPathEvaluator._skipComment(b,c+2);else if("\n"!==d&&"\r"!==d&&"\t"!==d&&" "!==d)break;d=b.charAt(++c)}while(c<e);return c};a.XPathEvaluator._getName=function(b){for(var c=
      0,d=b.charAt(0),e="";""!==d&&-1!=="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:*{".indexOf(d);){if("*"===d)if(0<c&&(":"===b.charAt(c-1)||"}"===b.charAt(c-1))){c++;break}else if(":"!==b.charAt(c+1)){0===c&&c++;break}if("{"===d){if("Q"!==e)return b.substr(0,c);for(;""!==d&&"}"!==d;)d=b.charAt(++c)}e=d;d=b.charAt(++c)}if("#"===d)for(d=b.charAt(++c);""!==d&&-1!=="0123456789".indexOf(d);)d=b.charAt(++c);return b.substr(0,c)};a.XPathEvaluator._getNameStep=function(b,c){b=a.XPathEvaluator._getName(b);
      var d=b.indexOf("#");if(-1!==d)return c=b.indexOf(":"),-1===c?b.length+".[Fleur.XQueryX.namedFunctionRef,[[Fleur.XQueryX.functionName,['"+b.substr(0,d)+"']],[Fleur.XQueryX.integerConstantExpr,[[Fleur.XQueryX.value,['"+b.substr(d+1)+"']]]]]]":b.length+".[Fleur.XQueryX.namedFunctionRef,[[Fleur.XQueryX.functionName,['"+b.substr(0,d).substr(c+1)+"',[Fleur.XQueryX.prefix,['"+b.substr(0,c)+"']]]],[Fleur.XQueryX.integerConstantExpr,[[Fleur.XQueryX.value,['"+b.substr(d+1)+"']]]]]]";var e=b.indexOf("::");
      d=-1!==e?b.substr(0,e):c?"attribute":"child";var f=-1!==e?b.substr(e+2):b,g=(e="Q{"===f.substr(0,2))?f.indexOf("}"):f.indexOf(":"),h=-1!==g?f.substr(g+1):f;f=e?f.substr(2,g-2):-1!==g?f.substr(0,g):"";return b.length+c+".[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['"+d+"']],"+("*"===h||"*"===f?"[Fleur.XQueryX.Wildcard,["+("*"!==h?"[Fleur.XQueryX.star,[]],[Fleur.XQueryX.NCName,['"+h+"']]":"")+"]]":"[Fleur.XQueryX.nameTest,['"+h+"'"+(e||-1!==g?",["+(e?"Fleur.XQueryX.URI":
      "Fleur.XQueryX.prefix")+",['"+f+"']]":"")+"]]")+"]]]]"};a.XPathEvaluator._pathExprFormat=function(b,c){return"[Fleur.XQueryX.pathExpr,["===b.substr(0,25)?b.substr(25,b.length-29)+c+"]]":"[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.filterExpr,["+b+"]]"+c+"]]"};a.XPathEvaluator._calc=function(b,c,d){var e=parseInt(c.split(".")[1],10);if(""===c||e>d||31===d||e>=d&&(e===a.XPathEvaluator._rightgrouping1||e===a.XPathEvaluator._rightgrouping2))return b.length+"."+b+c.length+"."+c;e=c.substr(c.indexOf(".")+1,
      parseInt(c.split(".")[0],10));var f=e.substr(e.indexOf(".")+1),g=b.substr(0,b.indexOf("."));e=b.substr(b.indexOf(".")+1).substr(0,parseInt(g,10));if(f.startsWith("~~"))var h=e;else b=b.substr(g.length+1+parseInt(g,10)),g=b.substr(0,b.indexOf(".")),h=b.substr(b.indexOf(".")+1).substr(0,parseInt(g,10));switch(f){case ";":var l="[Fleur.XQueryX.sequenceExpr,[[Fleur.XQueryX.multidimExpr,["===h.substr(0,58)?"[Fleur.XQueryX.sequenceExpr,[[Fleur.XQueryX.multidimExpr,["+h.substr(58,h.length-62)+","+e+"]]]]":
      "[Fleur.XQueryX.sequenceExpr,[[Fleur.XQueryX.multidimExpr,["+h+","+e+"]]]]";break;case ",":l="4.50.,5.999.("===c.substr(0,13)?"[Fleur.XQueryX.arguments,["===h.substr(0,26)?h.substr(0,h.length-2)+","+e+"]]":"[Fleur.XQueryX.arguments,["+h+","+e+"]]":"4.50.,5.999.q"===c.substr(0,13)?h+","+e:c.startsWith("4.50.,")?"[Fleur.XQueryX.mapConstructorEntry,["===h.substr(0,36)?h+","+e:"[Fleur.XQueryX.sequenceExpr,["===h.substr(0,29)&&"[Fleur.XQueryX.sequenceExpr,[]]"!==h?h.substr(0,h.length-2)+","+e+"]]":"[Fleur.XQueryX.sequenceExpr,["+
      h+","+e+"]]":h+","+e;break;case "~,":"[Fleur.XQueryX.letClauseItem,"===h.substr(0,29)||"[Fleur.XQueryX.groupBySpec,"===h.substr(0,27)?l=h+","+e:"[Fleur.XQueryX.letClause,"===h.substr(0,25)?l="Fleur.XQueryX.letClause,"===e.substr(0,25)?h.substr(0,h.length-2)+","+e.substr(25):h.substr(0,h.length-2)+","+e+"]]":(l="[Fleur.XQueryX.orderBySpec,"!==h.substr(0,27)?"[Fleur.XQueryX.orderBySpec,[[Fleur.XQueryX.orderByExpr,["+h+"]]]]":h,l+=",",l="[Fleur.XQueryX.orderBySpec,"!==e.substr(0,27)?l+("[Fleur.XQueryX.orderBySpec,[[Fleur.XQueryX.orderByExpr,["+
      e+"]]]]"):l+e);break;case "//":l="[Fleur.XQueryX.pathExpr,["+a.XPathEvaluator._pathExprFormat(h,"")+",[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['descendant-or-self']],[Fleur.XQueryX.anyKindTest,[]]]],"+a.XPathEvaluator._pathExprFormat(e,"")+"]]";break;case "/":l="[Fleur.XQueryX.pathExpr,["+a.XPathEvaluator._pathExprFormat(h,"")+(""!==e?","+a.XPathEvaluator._pathExprFormat(e,""):"")+"]]";break;case "!!":l="[Fleur.XQueryX.doubleMapExpr,[[Fleur.XQueryX.pathExpr,["+a.XPathEvaluator._pathExprFormat(h,
      "")+"]],[Fleur.XQueryX.pathExpr,["+a.XPathEvaluator._pathExprFormat(e,"")+"]]]]";break;case "!":l="[Fleur.XQueryX.simpleMapExpr,[[Fleur.XQueryX.pathExpr,["+a.XPathEvaluator._pathExprFormat(h,"")+"]],[Fleur.XQueryX.pathExpr,["+a.XPathEvaluator._pathExprFormat(e,"")+"]]]]";break;case "|":c.startsWith("3.8.|8.31.catch")?("[Fleur.XQueryX.pathExpr,"===h.substr(0,24)&&(h=h.substr(86),h=h.substr(0,h.length-4)),"[Fleur.XQueryX.pathExpr,"===e.substr(0,24)?(e=e.substr(86),e=e.substr(0,e.length-4),l=h+","+e):
      l="[Fleur.XQueryX.catchErrorList,["+h+","+e.substr(e.indexOf("[Fleur.XQueryX.catchErrorList,[")+31)):l="[Fleur.XQueryX.unionOp,[[Fleur.XQueryX.firstOperand,["+h+"]],[Fleur.XQueryX.secondOperand,["+e+"]]]]";break;case ":":l="[Fleur.XQueryX.mapConstructorEntry,[[Fleur.XQueryX.mapKeyExpr,["+h+"]],[Fleur.XQueryX.mapValueExpr,["+e+"]]]]";break;case "?":break;case "to":l="[Fleur.XQueryX.rangeSequenceExpr,[[Fleur.XQueryX.startExpr,["+h+"]],[Fleur.XQueryX.endExpr,["+e+"]]]]";break;case "~-":l="[Fleur.XQueryX.unaryMinusOp,[[Fleur.XQueryX.operand,["+
      e+"]]]]";break;case "~+":l="[Fleur.XQueryX.unaryPlusOp,[[Fleur.XQueryX.operand,["+e+"]]]]";break;case "allowing":l="[Fleur.XQueryX.typedVariableBinding,[[Fleur.XQueryX.varName,["+h.substr(0,h.length-4).substr(44)+"]]]],[Fleur.XQueryX.allowingEmpty,[]]";break;case "at":l="[Fleur.XQueryX.typedVariableBinding,"===h.substr(0,36)?h+",[Fleur.XQueryX.positionalVariableBinding,["+e.substr(0,e.length-4).substr(44)+"]]":"[Fleur.XQueryX.typedVariableBinding,[[Fleur.XQueryX.varName,["+h.substr(0,h.length-4).substr(44)+
      "]]]],[Fleur.XQueryX.positionalVariableBinding,["+e.substr(0,e.length-4).substr(44)+"]]";break;case "in":l="5.999.q"===c.substr(c.length-7)?"[Fleur.XQueryX.quantifiedExprInClause,[[Fleur.XQueryX.typedVariableBinding,[[Fleur.XQueryX.varName,["+h.substr(0,h.length-4).substr(44)+"]]]],[Fleur.XQueryX.sourceExpr,["+e+"]]]]":"[Fleur.XQueryX.typedVariableBinding,"===h.substr(0,36)?"[Fleur.XQueryX.forClause,[[Fleur.XQueryX.forClauseItem,["+h+",[Fleur.XQueryX.forExpr,["+e+"]]]]]]":"[Fleur.XQueryX.forClause,[[Fleur.XQueryX.forClauseItem,[[Fleur.XQueryX.typedVariableBinding,[[Fleur.XQueryX.varName,["+
      h.substr(0,h.length-4).substr(44)+"]]]],[Fleur.XQueryX.forExpr,["+e+"]]]]]]";break;case "as":"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['last']]]]]]"===e?l="[Fleur.XQueryX.sourceExprUf,["+h+"]],[Fleur.XQueryX.insertInto,[[Fleur.XQueryX.insertAsLast,[]]]]":"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['first']]]]]]"===e?l="[Fleur.XQueryX.sourceExprUf,["+h+"]],[Fleur.XQueryX.insertInto,[[Fleur.XQueryX.insertAsFirst,[]]]]":
      (e=e.substr(e.indexOf("[Fleur.XQueryX.nameTest,")+24),e="[Fleur.XQueryX.atomicType,"+e.substr(0,e.length-4),l="[Fleur.XQueryX.varName,["+h.substr(0,h.length-4).substr(44)+"]],[Fleur.XQueryX.typeDeclaration,["+e+"]]");break;case ":=":l=c.startsWith("5.18.:=11.30.group by")||c.startsWith("5.18.:=5.29.~,11.30.group by")?"[Fleur.XQueryX.groupingSpec,"===h.substr(0,28)?h.substr(0,h.length-2)+",[Fleur.XQueryX.groupVarInitialize,[[Fleur.XQueryX.varValue,["+e+"]]]]]]":"[Fleur.XQueryX.groupingSpec,[[Fleur.XQueryX.varName,["+
      h.substr(44,h.length-48)+"]],[Fleur.XQueryX.groupVarInitialize,[[Fleur.XQueryX.varValue,["+e+"]]]]]]":"[Fleur.XQueryX.varName,"===h.substr(0,23)?"[Fleur.XQueryX.letClause,[[Fleur.XQueryX.letClauseItem,[[Fleur.XQueryX.typedVariableBinding,["+h+"]],[Fleur.XQueryX.letExpr,["+e+"]]]]]]":"[Fleur.XQueryX.letClause,[[Fleur.XQueryX.letClauseItem,[[Fleur.XQueryX.typedVariableBinding,[[Fleur.XQueryX.varName,["+h.substr(0,h.length-4).substr(44)+"]]]],[Fleur.XQueryX.letExpr,["+e+"]]]]]]";break;case "return":l=
      h.substr(0,h.length-2)+",[Fleur.XQueryX.returnClause,["+e+"]]]]";break;case "satisfies":l=h.substr(0,h.length-2)+",[Fleur.XQueryX.predicateExpr,["+e+"]]]]";break;case "cast as":case "cast as?":l=f.charAt(7);e=e.substr(e.indexOf("[Fleur.XQueryX.nameTest,")+24);e="[Fleur.XQueryX.atomicType,"+e.substr(0,e.length-4);l="[Fleur.XQueryX.castExpr,[[Fleur.XQueryX.argExpr,["+h+"]],[Fleur.XQueryX.singleType,["+e+("?"===l?",[Fleur.XQueryX.optional,[]]":"")+"]]]]";break;case "castable as":case "castable as?":l=
      f.charAt(11);e=e.substr(e.indexOf("[Fleur.XQueryX.nameTest,")+24);e="[Fleur.XQueryX.atomicType,"+e.substr(0,e.length-4);l="[Fleur.XQueryX.castableExpr,[[Fleur.XQueryX.argExpr,["+h+"]],[Fleur.XQueryX.singleType,["+e+("?"===l?",[Fleur.XQueryX.optional,[]]":"")+"]]]]";break;case "treat as":case "treat as+":case "treat as?":case "treat as*":l=f.charAt(8);-1!==e.indexOf("[Fleur.XQueryX.nameTest,")?(e=e.substr(e.indexOf("[Fleur.XQueryX.nameTest,")+24),e="[Fleur.XQueryX.atomicType,"+e.substr(0,e.length-
      4)):(e=-1!==e.indexOf("[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],")?e.substr(e.indexOf("[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],")+86):e.substr(e.indexOf("[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['attribute']],")+90),e=e.substr(0,e.length-4));l="[Fleur.XQueryX.treatExpr,[[Fleur.XQueryX.argExpr,["+h+"]],[Fleur.XQueryX.sequenceType,["+e+(""!==l?",[Fleur.XQueryX.occurrenceIndicator,['"+
      l+"']]":"")+"]]]]";break;case "instance of":case "instance of+":case "instance of?":case "instance of*":l=f.charAt(11);-1!==e.indexOf("[Fleur.XQueryX.nameTest,")?(e=e.substr(e.indexOf("[Fleur.XQueryX.nameTest,")+24),e="[Fleur.XQueryX.atomicType,"+e.substr(0,e.length-4)):(e=-1!==e.indexOf("[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],")?e.substr(e.indexOf("[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],")+86):e.substr(e.indexOf("[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['attribute']],")+
      90),e=e.substr(0,e.length-4));l="[Fleur.XQueryX.instanceOfExpr,[[Fleur.XQueryX.argExpr,["+h+"]],[Fleur.XQueryX.sequenceType,["+e+(""!==l?",[Fleur.XQueryX.occurrenceIndicator,['"+l+"']]":"")+"]]]]";break;case "then":"[Fleur.XQueryX.functionCallExpr,[[Fleur.XQueryX.functionName,['if']],[Fleur.XQueryX.arguments,["===h.substr(0,95)&&(l="[Fleur.XQueryX.ifThenElseExpr,[[Fleur.XQueryX.ifClause,["+h.substr(0,h.length-4).substr(h.indexOf(",[Fleur.XQueryX.arguments,[")+27)+"]],[Fleur.XQueryX.thenClause,["+
      e+"]]]]");d=-1;break;case "else":"[Fleur.XQueryX.ifThenElseExpr,"===h.substr(0,30)&&(l=h.substr(0,h.length-2)+",[Fleur.XQueryX.elseClause,["+e+"]]]]");break;case "catch":"[Fleur.XQueryX.tryCatchExpr,"===h.substr(0,28)&&(l=h.substr(0,h.length-2)+",[Fleur.XQueryX.catchClause,["+e+"]]]]");break;case "let":l=h+","+e;break;case "for":l=h+","+e;break;case "group by":l=h+",[Fleur.XQueryX.groupByClause,["+e+"]]";break;case "order by":l="[Fleur.XQueryX.orderBySpec,"===e.substr(0,27)?h+",[Fleur.XQueryX.orderByClause,["+
      e+"]]":h+",[Fleur.XQueryX.orderByClause,[[Fleur.XQueryX.orderBySpec,[[Fleur.XQueryX.orderByExpr,["+e+"]]]]]]";break;case "~~ascending":case "~~descending":l="[Fleur.XQueryX.orderBySpec,[[Fleur.XQueryX.orderByExpr,["+h+"]],[Fleur.XQueryX.orderModifier,[[Fleur.XQueryX.orderingKind,['"+f.substr(2)+"']]]]]]";break;case "empty":l="[Fleur.XQueryX.orderBySpec,"===h.substr(0,27)?h.endsWith(",[Fleur.XQueryX.orderModifier,[[Fleur.XQueryX.orderingKind,['ascending']]]]]]")||h.endsWith(",[Fleur.XQueryX.orderModifier,[[Fleur.XQueryX.orderingKind,['descending']]]]]]")?
      h.substr(0,h.length-4)+",[Fleur.XQueryX.emptyOrderingMode,['empty "+e.substr(112,e.length-119)+"']]]]]]":h.substr(0,h.length-2)+",[Fleur.XQueryX.orderModifier,[[Fleur.XQueryX.emptyOrderingMode,['empty "+e.substr(112,e.length-119)+"']]]]]]":"[Fleur.XQueryX.orderBySpec,[[Fleur.XQueryX.orderByExpr,["+h+"]],[Fleur.XQueryX.orderModifier,[[Fleur.XQueryX.emptyOrderingMode,['empty "+e.substr(112,e.length-119)+"']]]]]]";break;case "where":l=h+",[Fleur.XQueryX.whereClause,["+e+"]]";break;case "count":l=h+",[Fleur.XQueryX.countClause,["+
      e+"]]";break;case "nodes":"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['delete']]]]]]"===h?l="[Fleur.XQueryX.deleteExpr,[[Fleur.XQueryX.targetExpr,["+e+"]]]]":"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['insert']]]]]]"===h&&(l="[Fleur.XQueryX.insertExpr,["+e+"]]");break;case "node":"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['delete']]]]]]"===
      h?l="[Fleur.XQueryX.deleteExpr,[[Fleur.XQueryX.targetExpr,["+e+"]]]]":"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['insert']]]]]]"===h?l="[Fleur.XQueryX.insertExpr,["+e+"]]":"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['replace']]]]]]"===h?l="[Fleur.XQueryX.replaceExpr,["+e+"]]":"[Fleur.XQueryX.replaceValue,[]]"===h&&(l="[Fleur.XQueryX.replaceExpr,[[Fleur.XQueryX.replaceValue,[]],"+
      e+"]]");break;case "into":l="[Fleur.XQueryX.sourceExprUf,"===h.substr(0,28)?h+",[Fleur.XQueryX.targetExpr,["+e+"]]":"[Fleur.XQueryX.sourceExprUf,["+h+"]],[Fleur.XQueryX.insertInto,[]],[Fleur.XQueryX.targetExpr,["+e+"]]";break;case "after":l="[Fleur.XQueryX.sourceExprUf,["+h+"]],[Fleur.XQueryX.insertAfter,[]],[Fleur.XQueryX.targetExpr,["+e+"]]";break;case "before":l="[Fleur.XQueryX.sourceExprUf,["+h+"]],[Fleur.XQueryX.insertBefore,[]],[Fleur.XQueryX.targetExpr,["+e+"]]";break;case "value":"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['replace']]]]]]"===
      h&&"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['of']]]]]]"===e&&(l="[Fleur.XQueryX.replaceValue,[]]");break;case "with":l="[Fleur.XQueryX.targetExpr,["+h+"]],[Fleur.XQueryX.replacementExpr,["+e+"]]";break;default:l=a.XPathEvaluator._opcodes.substr(a.XPathEvaluator._opcodes.indexOf("."+f+";")+f.length+2),l="[Fleur.XQueryX."+l.substr(0,l.indexOf("."))+",[[Fleur.XQueryX.firstOperand,["+h+"]],[Fleur.XQueryX.secondOperand,["+e+"]]]]"}b=
      l.length+"."+l+b.substr(g.length+1+parseInt(g,10));return a.XPathEvaluator._calc(b,c.substr(c.indexOf(".")+1).substr(parseInt(c.substr(0,c.indexOf(".")),10)),d)};a.XPathEvaluator._testFormat=function(b,c){if(""===b)return"";if(-1!==b.indexOf(",[Fleur.XQueryX.pathExpr,[")){var d=b.substr(0,b.indexOf(",[Fleur.XQueryX.pathExpr,["));b=b.substr(b.indexOf(",[Fleur.XQueryX.pathExpr,[")+1);b=b.substr(b.indexOf("[Fleur.XQueryX.nameTest,['")+25);b=",[Fleur.XQueryX.typeName,["+b.substr(0,b.length-6)+"]]"}else d=
      b,b="";d=-1!==d.indexOf("[Fleur.XQueryX.nameTest,['")?d.substr(d.indexOf("[Fleur.XQueryX.nameTest,['")+25):"[Fleur.XQueryX.star,[]]";return"["+c+",["+("[Fleur.XQueryX.star,[]]"===d?d:"[Fleur.XQueryX.QName,["+d.substr(0,d.length-6)+"]]")+"]]"+b};a.XPathEvaluator._getNodeConstructor=function(b){for(var c,d,e,f,g=0,h=b.length,l,k,m,n=[],p="",q,r,t,x,v,C={},u,y="",z="";g!==h;){d="";e=[];t=" ";q=b.charAt(g);for(v=0;("<"!==q||0!==v)&&g!==h;){if("{"===q)0===v&&""!==d&&(/\S/.test(d.replace("\\n","\n").replace("\\r",
      "\r"))&&e.push([0,d]),d=""),0!==v&&(d+="{"),t===q?(v--,0===v&&(d=(0<e.length?e.pop()[1]:"")+"{")):v++;else if("}"===q)1===v&&""!==d&&(e.push([1,d]),d=""),1!==v&&-1!==v&&(d+="}"),t===q?v++:v--;else if("&"===q){q=b.charAt(++g);for(f="";";"!==q&&g!==h;)f+=q,q=b.charAt(++g);if(g===h)break;d="#"===f.charAt(0)?d+String.fromCharCode(parseInt("x"===f.charAt(1).toLowerCase()?"0"+f.substr(1).toLowerCase():f.substr(1),"x"===f.charAt(1).toLowerCase()?16:10)):d+a.encchars[f]}else d=0===v&&"\n"===q?d+"\\n":0===
      v&&"\r"===q?d+"\\r":d+q;t=q;q=b.charAt(++g)}/\S/.test(d.replace("\\n","\n").replace("\\r","\r"))&&0===e.length?(y+=z+"[Fleur.XQueryX.stringConstantExpr,[[Fleur.XQueryX.value,['"+d.replace(/'/gm,"\\'")+"']]]]",z=","):0<e.length&&(/\S/.test(d.replace("\\n","\n").replace("\\r","\r"))&&e.push([0,d]),e.forEach(function(A){y+=z;y=0===A[0]?y+("[Fleur.XQueryX.stringConstantExpr,[[Fleur.XQueryX.value,['"+A[1].replace(/'/gm,"\\'")+"']]]]"):y+a.XPathEvaluator._xp2js(A[1],"","");z=","}));if(g===h)break;g++;if("!"===
      b.charAt(g))if(g++,"--"===b.substr(g,2)){g+=2;e=b.indexOf("--\x3e",g);if(e!==g){-1===e&&(e=h);d="";for(c=g;c<e;)d+=b.charAt(c++);d=d.replace(/\x01/gm,"<");u="[Fleur.XQueryX.computedCommentConstructor,[[Fleur.XQueryX.argExpr,[[Fleur.XQueryX.stringConstantExpr,[[Fleur.XQueryX.value,['"+d+"']]]]]]]]";if(""===y)return g+"."+u;y+=z+u;z=",";if(e===h)break;g=e}g+=3}else{if("[CDATA["===b.substr(g,7)){g+=7;e=b.indexOf("]]\x3e",g);if(e!==g){-1===e&&(e=h);d="";for(c=g;c<e;)d+=b.charAt(c++);d=d.replace(/\x01/gm,
      "<");""!==d&&(y+=z+"[Fleur.XQueryX.stringConstantExpr,[[Fleur.XQueryX.value,['"+d+"']]]]",z=",");if(e===h)break;g=e}g+=3}}else if("?"===b.charAt(g)){g++;q=b.charAt(g++);for(f="";-1===" \t\n\r?".indexOf(q);)f+=q,q=b.charAt(g++);e=b.indexOf("?>",g-1);-1===e&&(e=h);if("xml"===f.toLowerCase())throw Error("Invalid processing instruction");if(""!==f){d="";for(c=g;c<e;)d+=b.charAt(c++);d=d.replace(/\x01/gm,"<");u="[Fleur.XQueryX.computedPIConstructor,[[Fleur.XQueryX.piTarget,['"+f+"']],[Fleur.XQueryX.piValueExpr,[[Fleur.XQueryX.stringConstantExpr,[[Fleur.XQueryX.value,['"+
      d+"']]]]]]]]";if(""===y)return String(e+2)+"."+u;y+=z+u;z=","}if(e===h)break;g=e+2}else{if("/"===b.charAt(g)){g++;q=b.charAt(g++);for(f="";-1===" \t\n\r>".indexOf(q)&&g<=h;)f+=q,q=b.charAt(g++);if(f===p){y=","!==z?y+"]]":y+"]]]]";z=",";if(1===n.length)return g+"."+y;p=n.pop()}else throw Error("Malformed XML fragment");g=b.indexOf(">",g-1)+1}else{q=b.charAt(g++);for(f="";-1===" \t\n\r/>".indexOf(q)&&g<=h;)f+=q,q=b.charAt(g++);e=b.indexOf(">",g-1);if(""!==f){for(k in C)C.hasOwnProperty(k);for(m={};g<=
      h;){for(;-1!==" \t\n\r".indexOf(q)&&g<=h;)q=b.charAt(g++);if("/"===q||">"===q||g===h)break;for(l="";-1===" \t\n\r=/<>".indexOf(q)&&g<=h;)l+=q,q=b.charAt(g++);if(""===l)throw Error("Invalid character: "+q);for(;-1!==" \t\n\r".indexOf(q)&&g<=h;)q=b.charAt(g++);if("="===q){for(q=b.charAt(g++);-1!==" \t\n\r".indexOf(q)&&g<=h;)q=b.charAt(g++);k="";d=[];if("'"===q||'"'===q){t=r=q;q=b.charAt(g++);x=b.charAt(g);v=0;k="";for(c=g;(q!==r||x===r||0!==v)&&g<=h;){if("{"===q)0===v&&""!==k&&(d.push([0,k]),k=""),
      t===q?(v--,0===v&&(k=(0<d.length?d.pop()[1]:"")+"{")):v++;else if("}"===q)1===v&&""!==k&&(d.push([1,k]),k=""),t===q?(v++,0===v&&(k+="}")):v--;else if(q===x&&q===r){k+=q;t=q;q=b.charAt(++g);x=b.charAt(++g);continue}else k+=q;t=q;q=x;x=b.charAt(++g)}""!==k&&d.push([0,k]);q=x;g++}else{for(;-1===" \t\n\r/>".indexOf(q)&&g<=h;)k+=q,q=b.charAt(g++);d=[[0,k]]}}else d=[[0,l]];v=l.indexOf(":");k=-1!==v?l.substr(0,v):" ";v=-1!==v?l.substr(v+1):l;m[k]||(m[k]={});m[k][v]=d}v=f.indexOf(":");u=-1===v?z+"[Fleur.XQueryX.elementConstructor,[[Fleur.XQueryX.tagName,['"+
      f+"']]":z+"[Fleur.XQueryX.elementConstructor,[[Fleur.XQueryX.tagName,['"+f.substr(v+1)+"',[Fleur.XQueryX.prefix,['"+f.substr(0,v)+"']]]]";if(Object.keys(m).length){z=",[Fleur.XQueryX.attributeList,[";m[" "]&&m[" "].xmlns&&(u+=z+"[Fleur.XQueryX.namespaceDeclaration,[[Fleur.XQueryX.uri,["+(0!==m[" "].xmlns.length?"'"+m[" "].xmlns[0][1]+"'":"")+"]]]]",z=",",delete m[" "].xmlns);for(l in m.xmlns)m.xmlns.hasOwnProperty(l)&&(u+=z+"[Fleur.XQueryX.namespaceDeclaration,[[Fleur.XQueryX.prefixElt,['"+l+"']],[Fleur.XQueryX.uri,['"+
      m.xmlns[l][0][1]+"']]]]",z=",");delete m.xmlns;for(k in m)if(m.hasOwnProperty(k))for(l in m[k])m[k].hasOwnProperty(l)&&(u+=z+"[Fleur.XQueryX.attributeConstructor,[[Fleur.XQueryX.attributeName,['"+l+"'"," "!==k&&(u+=",[Fleur.XQueryX.prefix,['"+k+"']]"),u+="]],",0===m[k][l].length?(u+="[Fleur.XQueryX.attributeValue,[]]",z=","):1===m[k][l].length&&0===m[k][l][0][0]?(u+="[Fleur.XQueryX.attributeValue,['"+a.DocumentType.resolveEntities(null,m[k][l][0][1]).replace(/'/gm,"\\'").replace(/\x01/gm,"<")+"']]",
      z=","):(z="[Fleur.XQueryX.attributeValueExpr,[",m[k][l].forEach(function(A){u+=z;u=0===A[0]?u+("[Fleur.XQueryX.stringConstantExpr,[[Fleur.XQueryX.value,['"+a.DocumentType.resolveEntities(null,A[1]).replace(/'/gm,"\\'")+"']]]]"):u+a.XPathEvaluator._xp2js(A[1],"","");z=","}),u+="]]"),u+="]]");u+="]]"}if("/"!==b.charAt(g-1))z=",[Fleur.XQueryX.elementContent,[",n.push(p),p=f,y+=u;else{if(""===y)return String(g+1)+"."+u+"]]";y+=u+"]]";z=","}}else throw Error("Invalid element name");g=e+1}if(0===g)break}}};
      a.XPathEvaluator._getPredParam=function(b,c,d,e,f,g,h,l){d=d||0;var k=!1;if("?"===b){var m=a.XPathEvaluator._skipSpaces(c,0),n=c.charAt(m),p=c.substr(m+1);if(""!==n&&-1!=="0123456789".indexOf(n)){var q=a.XPathEvaluator._getNumber(n+p);p="[Fleur.XQueryX.lookup,[[Fleur.XQueryX.integerConstantExpr,[[Fleur.XQueryX.value,['"+q.replace(/e\+/,"e")+"']]]]]]";var r=q.length+1+"."+p;q=q.length+1}else""!==n&&-1!=="_ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".indexOf(n)?(q=a.XPathEvaluator._getName(n+
      p),r=q.length+1+".[Fleur.XQueryX.lookup,[[Fleur.XQueryX.NCName,['"+(q+"']]]]"),q=q.length+1):"*"===n?(r="2.[Fleur.XQueryX.lookup,[[Fleur.XQueryX.star,[]]]]",q=2):"("===n&&(r=a.XPathEvaluator._xp2js(c.substr(m+1),"","5.999.("),q=c.length-parseInt(r.substr(0,r.indexOf(".")),10)+1+m,r=String(q)+".[Fleur.XQueryX.lookup,[[Fleur.XQueryX.expr,["+r.substr(r.indexOf(".")+1)+"]]]]")}else q="",-1!==e.indexOf("[Fleur.XQueryX.nameTest,['")&&(q=e.substr(e.indexOf("[Fleur.XQueryX.nameTest,['")+25),q=q.substr(0,
      q.length-6)),"'function'"===q?(r="function",q=c.length):(r=a.XPathEvaluator._xp2js(c,"",0===d?"":"[Fleur.XQueryX.quantifiedExpr,[[Fleur.XQueryX.quantifier,"===e.substr(0,57)?"5.999.q":"5.999.("),q=c.length-parseInt(r.substr(0,r.indexOf(".")),10)+1);if(-1!==r.indexOf("~~~~")){d=r+"~#~#";d=d.substr(0,d.indexOf("~#~#"));d=d.replace('"',"");f='"~~~~'+d.substr(d.indexOf("~~~~")+4)+"in '"+c+"'~#~#\"";var t=q+"."+f;throw Error(d.substr(d.indexOf("~~~~")+4)+"in '"+c+"'");}if(""===r)throw t=q+".\"~~~~Unrecognized expression '"+
      (c+"'~#~#\""),Error("Unrecognized expression '"+c+"'");if("{"===b)if(b=r.substr(r.indexOf(".")+1),"[Fleur.XQueryX.arguments,"===b.substr(0,25)&&(b="[Fleur.XQueryX.sequenceExpr,"+b.substr(25)),"[Fleur.XQueryX.computedEntryConstructor,"===e.substr(0,40)||"[Fleur.XQueryX.computedElementConstructor,"===e.substr(0,42)||"[Fleur.XQueryX.computedAttributeConstructor,"===e.substr(0,44))t=q+"."+e.substr(0,e.length-2)+",[Fleur.XQueryX.valueExpr,["+b+"]]]]";else if("[Fleur.XQueryX.computedPIConstructor,"===e.substr(0,
      37))t=q+"."+e.substr(0,e.length-2)+",[Fleur.XQueryX.piValueExpr,["+b+"]]]]";else switch(r=e.substr(e.indexOf("[Fleur.XQueryX.nameTest,['")+25),r.substr(0,r.length-6)){case "'document'":t=q+".[Fleur.XQueryX.computedDocumentConstructor,[[Fleur.XQueryX.argExpr,["+b+"]]]]";break;case "'comment'":t=q+".[Fleur.XQueryX.computedCommentConstructor,[[Fleur.XQueryX.argExpr,["+b+"]]]]";break;case "'map'":b="[Fleur.XQueryX.arguments,["===b.substr(0,26)?b.substr(26,b.length-28):b;t=q+".[Fleur.XQueryX.mapConstructor,["+
      b+"]]";break;case "'array'":b="[Fleur.XQueryX.arguments,["===b.substr(0,26)?b.substr(26,b.length-28):b;t=q+".[Fleur.XQueryX.arrayConstructor,["+b+"]]";break;case "'entry'":t=q+".[Fleur.XQueryX.computedEntryConstructor,[[Fleur.XQueryX.tagNameExpr,["+b+"]]]]";break;case "'element'":t=q+".[Fleur.XQueryX.computedElementConstructor,[[Fleur.XQueryX.tagNameExpr,["+b+"]]]]";break;case "'attribute'":t=q+".[Fleur.XQueryX.computedAttributeConstructor,[[Fleur.XQueryX.tagNameExpr,["+b+"]]]]";break;case "'processing-instruction'":t=
      q+".[Fleur.XQueryX.computedPIConstructor,[[Fleur.XQueryX.piTargetExpr,["+b+"]]]]";break;case "'text'":t=q+".[Fleur.XQueryX.computedTextConstructor,[[Fleur.XQueryX.argExpr,["+b+"]]]]";break;case "'try'":t=q+".[Fleur.XQueryX.tryCatchExpr,[[Fleur.XQueryX.tryClause,["+b+"]]]]";break;default:if(l.startsWith("8.31.catch")||l.startsWith("3.8.|8.31.catch"))e=e.substr(86),e=e.substr(0,e.length-4),t=q+".[Fleur.XQueryX.catchErrorList,["+e+"]],[Fleur.XQueryX.catchExpr,["+b+"]]"}else if("("===b)if("[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['"===
      e.substr(0,77))switch(b=e.substr(e.indexOf("[Fleur.XQueryX.nameTest,['")+25),b=b.substr(0,b.length-6),r=r.substr(r.indexOf(".")+1),p="[Fleur.XQueryX.arguments,["===r.substr(0,26)?r.substr(26,r.length-28):r,b){case "'array'":t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['array']]]]"))+"[Fleur.XQueryX.arrayTest,[]]]]]]";break;case "'attribute'":b=a.XPathEvaluator._testFormat(p,"Fleur.XQueryX.attributeName");t=q+".[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['attribute']],[Fleur.XQueryX.attributeTest,["+
      b+"]]]]]]";break;case "'comment'":t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['comment']]]]"))+"[Fleur.XQueryX.commentTest,[]]]]]]";break;case "'document-node'":""!==p?(b=p.substr(p.indexOf("[Fleur.XQueryX.elementTest,[")),b=b.substr(0,b.length-4)):b="";t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['document-node']]]]"))+"[Fleur.XQueryX.documentTest,["+b+"]]]]]]";break;case "'element'":b=a.XPathEvaluator._testFormat(p,"Fleur.XQueryX.elementName");t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['element']]]]"))+
      "[Fleur.XQueryX.elementTest,["+b+"]]]]]]";break;case "'entry'":b=a.XPathEvaluator._testFormat(p,"Fleur.XQueryX.entryName");t=q+".[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['entry']],[Fleur.XQueryX.entryTest,["+b+"]]]]]]";break;case "'function'":q=-1;r=0;e="[Fleur.XQueryX.paramList,[";t=c.length;do if(q=a.XPathEvaluator._skipSpaces(c,q+1),b=c.charAt(q),")"!==b){if("$"!==b)throw Error("Unexpected char at '"+c.substr(q)+"'");q++;b=c.charAt(q);p=c.substr(q+1);if(-1===
      "abcdefghijklmnopqrstuvwxyz".indexOf(b))throw Error("Unexpected char at '"+c.substr(q)+"'");m=a.XPathEvaluator._getName(b+p);q=a.XPathEvaluator._skipSpaces(c,q+m.length);b=c.charAt(q);n="";-1!=="abcdefghijklmnopqrstuvwxyz".indexOf(b)&&(p=c.substr(q+1),p=a.XPathEvaluator._getName(b+p),"as"===p&&(q=a.XPathEvaluator._skipSpaces(c,q+p.length),b=c.charAt(q),-1!=="abcdefghijklmnopqrstuvwxyz".indexOf(b)&&(p=c.substr(q+1),p=a.XPathEvaluator._getName(b+p),b=p.indexOf(":"),n=-1===b?"'"+p+"'":"'"+p.substr(b+
      1)+"',[Fleur.XQueryX.prefix,['"+p.substr(0,b)+"']]",b=c.charAt(q+p.length),n=",[Fleur.XQueryX.typeDeclaration,[[Fleur.XQueryX.atomicType,["+n+"]]",-1!=="?+*".indexOf(b)&&(n+=",[Fleur.XQueryX.occurrenceIndicator,['"+b+"']]",q++),n+="]]",q=a.XPathEvaluator._skipSpaces(c,q+p.length),b=c.charAt(q))));0!==r&&(e+=",");e+="[Fleur.XQueryX.param,[[Fleur.XQueryX.varName,['"+m+"']]"+n+"]]";r++}while(","===b);if(")"!==b)throw Error("Unexpected char at '"+c.substr(q)+"'");e+="]]";q=a.XPathEvaluator._skipSpaces(c,
      q+1);b=c.charAt(q);"a"===b&&(p=c.substr(q+1),p=a.XPathEvaluator._getName(b+p),"as"===p&&(q=a.XPathEvaluator._skipSpaces(c,q+p.length),b=c.charAt(q),-1!=="abcdefghijklmnopqrstuvwxyz".indexOf(b)&&(p=c.substr(q+1),p=a.XPathEvaluator._getName(b+p),b=p.indexOf(":"),n=-1===b?"'"+p+"'":"'"+p.substr(b+1)+"',[Fleur.XQueryX.prefix,['"+p.substr(0,b)+"']]",b=c.charAt(q+p.length),e+=",[Fleur.XQueryX.typeDeclaration,[[Fleur.XQueryX.atomicType,["+n+"]]",-1!=="?+*".indexOf(b)&&(e+=",[Fleur.XQueryX.occurrenceIndicator,['"+
      b+"']]",q++),e+="]]",q=a.XPathEvaluator._skipSpaces(c,q+p.length),b=c.charAt(q))));if("{"===b){e+=",[Fleur.XQueryX.functionBody,[";r=1;for(p="";("}"!==b||0!==r)&&q!==t;)b=c.charAt(++q),"{"===b?r++:"}"===b&&r--,0!==r&&(p+=b);""!==p&&(e+=a.XPathEvaluator._xp2js(p,"",""))}else throw Error("Unexpected char at '"+c.substr(q)+"'");q+=2;t=q+".[Fleur.XQueryX.inlineFunctionExpr,["+(e+"]]]]");break;case "'item'":t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['item']]]]"))+"[Fleur.XQueryX.anyItemType,[]]]]]]";
      break;case "'map'":t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['map']]]]"))+"[Fleur.XQueryX.mapTest,[]]]]]]";break;case "'namespace-node'":t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['namespace-node']]]]"))+"[Fleur.XQueryX.namespaceTest,[]]]]]]";break;case "'node'":t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['node']]]]"))+"[Fleur.XQueryX.anyKindTest,[]]]]]]";break;case "'processing-instruction'":t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['processing-instruction']]]]"))+
      "[Fleur.XQueryX.piTest,["+(p?"[Fleur.XQueryX.piTarget,["+p.substr(57):"]]")+"]]]]";break;case "'schema-attribute'":b=r.substr(r.indexOf("[Fleur.XQueryX.nameTest,['")+25);b=b.substr(0,b.length-6);t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['schema-attribute']]]]"))+"[Fleur.XQueryX.schemaAttributeTest,["+b+"]]]]]]";break;case "'schema-element'":b=r.substr(r.indexOf("[Fleur.XQueryX.nameTest,['")+25);b=b.substr(0,b.length-6);t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['schema-element']]]]"))+
      "[Fleur.XQueryX.schemaElementTest,["+b+"]]]]]]";break;case "'text'":t=q+"."+e.substr(0,e.indexOf("[Fleur.XQueryX.nameTest,['text']]]]"))+"[Fleur.XQueryX.textTest,[]]]]]]";break;default:t=q+".[Fleur.XQueryX.functionCallExpr,[[Fleur.XQueryX.functionName,["+b+"]],[Fleur.XQueryX.arguments,["+p+"]]]]"}else"[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.filterExpr,["===e.substr(0,77)?(t=!1,-1!==e.indexOf(",[Fleur.XQueryX.predicates,[")?(b=e.substr(0,e.indexOf(",[Fleur.XQueryX.predicates,[")).substr(77),
      e=e.substr(e.indexOf(",[Fleur.XQueryX.predicates,[")+28),e=e.substr(0,e.length-6)):-1!==e.indexOf(",[Fleur.XQueryX.lookup,[")?(t=!0,b=e.substr(0,e.indexOf(",[Fleur.XQueryX.lookup,[")).substr(77),e=e.substr(e.indexOf(",[Fleur.XQueryX.lookup,[")+24),e=e.substr(0,e.length-6)):(b=e.substr(0,e.length-8).substr(77),e=""),r=r.substr(r.indexOf(".")+1),p="[Fleur.XQueryX.arguments,["===r.substr(0,26)?r.substr(26,r.length-28):r,t=q+".[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.filterExpr,[[Fleur.XQueryX.dynamicFunctionInvocationExpr,[[Fleur.XQueryX.functionItem,["+
      b+(""===e?"":(t?",[Fleur.XQueryX.lookup,[":",[Fleur.XQueryX.predicates,[")+e+"]]")+(""===p?"":",[Fleur.XQueryX.arguments,["+p+"]]")+"]]]]]]]]"):"[Fleur.XQueryX.namedFunctionRef,"===e.substr(0,32)?t=q+".[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.filterExpr,[[Fleur.XQueryX.dynamicFunctionInvocationExpr,[[Fleur.XQueryX.functionItem,["+e+"]]]]]]]]]]":"[Fleur.XQueryX.flworExpr,[]]"===e?(r=r.substr(r.indexOf(".")+1),p="[Fleur.XQueryX.arguments,["===r.substr(0,26)?r.substr(26,r.length-
      28):r,t=q+".[Fleur.XQueryX.flworExpr,["+p+"]]",k=!0):"[Fleur.XQueryX.quantifiedExpr,[[Fleur.XQueryX.quantifier,"===e.substr(0,57)?(r=r.substr(r.indexOf(".")+1),p="[Fleur.XQueryX.arguments,["===r.substr(0,26)?r.substr(26,r.length-28):r,t=q+"."+e.substr(0,e.length-2)+","+p+"]]",k=!0):""!==e?(r=r.substr(r.indexOf(".")+1),p="[Fleur.XQueryX.arguments,["===r.substr(0,26)?r.substr(26,r.length-28):r,t=q+".[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.filterExpr,[[Fleur.XQueryX.dynamicFunctionInvocationExpr,[[Fleur.XQueryX.functionItem,["+
      e+"]]"+(""===p?"":",[Fleur.XQueryX.arguments,["+p+"]]")+"]]]]]]]]"):t=q+"."+r.substr(r.indexOf(".")+1);else"[Fleur.XQueryX.pathExpr,["!==e.substr(0,25)&&(e="[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.filterExpr,["+e+"]]]]]]"),"?"===b?(t=-1===e.indexOf(",[Fleur.XQueryX.predicates,[")?q+"."+e.substr(0,e.length-4)+","+r.substr(r.indexOf(".")+1)+"]]]]":q+"."+e.substr(0,g)+h.reduce(function(x,v){return x+",[Fleur.XQueryX.predicate,["+v+"]]"},"")+","+r.substr(r.indexOf(".")+1)+"]]]]",
      f=!1):-1===e.indexOf(",[Fleur.XQueryX.predicates,[")?(f&&(h=[],h.push(r.substr(r.indexOf(".")+1)),g=e.length-4),t=q+"."+e.substr(0,e.length-4)+",["+(f?"Fleur.XQueryX.predicates":"Fleur.XQueryX.predicate")+",["+r.substr(r.indexOf(".")+1)+"]]]]]]"):(f&&h.push(r.substr(r.indexOf(".")+1)),t=q+"."+e.substr(0,e.length-6)+","+r.substr(r.indexOf(".")+1)+"]]]]]]");return k||(k=a.XPathEvaluator._skipSpaces(c,q-1),b=c.charAt(k),"("!==b&&"["!==b&&"{"!==b&&"?"!==b)?d+q+"."+t.substr(t.indexOf(".")+1):a.XPathEvaluator._getPredParam(b,
      c.substr(k+1),d+k+1,t.substr(t.indexOf(".")+1),f,g,h,l)};a.XPathEvaluator._getPredParams=function(b,c,d,e){var f=a.XPathEvaluator._skipSpaces(b,0);return"("===b.charAt(f)||"["===b.charAt(f)||"{"===b.charAt(f)||"?"===b.charAt(f)&&"13.6.instance of"!==e.substr(0,16)&&"9.3.cast as"!==e.substr(0,16)&&"13.4.castable as"!==e.substr(0,16)?a.XPathEvaluator._getPredParam(b.charAt(f),b.substr(f+1),c+f,d,!0,0,[],e):c+f+"."+d};a.XPathEvaluator._getStringLiteral=function(b){var c=a.XPathEvaluator._skipSpaces(b,
      0),d=b.substr(c+1);if("'"===b.charAt(c)){b=d.indexOf("'");for(c=d.substr(0,d.indexOf("'"));"'"===d.substr(b+1,1);){var e=d.substr(b+2);c+="\\'"+e.substr(0,e.indexOf("'"));b+=2+e.indexOf("'")}d="'"+a.DocumentType.resolveEntities(null,c)+"'";"''"===d&&(d="");return b+2+"."+d}if('"'===b.charAt(c)){b=d.indexOf('"');for(c=d.substr(0,d.indexOf('"'));'"'===d.substr(b+1,1);)e=d.substr(b+2),c+='\\"'+e.substr(0,e.indexOf('"')),b+=2+e.indexOf('"');d='"'+a.DocumentType.resolveEntities(null,c)+'"';'""'===d&&(d=
      "");return b+2+"."+d}};a.XPathEvaluator._getNumber=function(b,c){c=c||"";if(""===b)return c;var d=b.charAt(0);"E"===d&&(d="e");return-1!=="0123456789".indexOf(d)||("."===d||"e"===d)&&-1===c.indexOf(d)||("-"===d||"+"===d)&&c.endsWith("e")?a.XPathEvaluator._getNumber(b.substr(1),c+d):c};a.XPathEvaluator._xp2js=function(b,c,d){var e=a.XPathEvaluator._skipSpaces(b,0),f=b.charAt(e),g=b.substr(e+1),h="";if("."!==f||""!==g&&-1!=="0123456789".indexOf(g.charAt(0)))if(")"===f||"}"===f)h="0.";else if("/"===
      f)e=a.XPathEvaluator._skipSpaces(g,0),h=(""===g.charAt(0)||-1==="/@*.(_abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(g.charAt(e))?"1":"0")+".[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.rootExpr,[]]]]";else if("@"===f)h=a.XPathEvaluator._getNameStep(g,1);else if("'"===f){h=g.indexOf("'");for(var l=a.DocumentType.resolveEntities(null,g.substr(0,g.indexOf("'"))).replace(/[\\]/g,"\\\\").replace(/["]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,
      "\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");"'"===g.substr(h+1,1);)e=g.substr(h+2),l+="\\'"+a.DocumentType.resolveEntities(null,e.substr(0,e.indexOf("'"))).replace(/[\\]/g,"\\\\").replace(/["]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t"),h+=2+e.indexOf("'");e="'"+l+"'";"''"===e&&(e="");h=h+2+".[Fleur.XQueryX.stringConstantExpr,[[Fleur.XQueryX.value,["+e+"]]]]"}else if('"'===f){e=g.indexOf('"');
      for(h=a.DocumentType.resolveEntities(null,g.substr(0,g.indexOf('"'))).replace(/[\\]/g,"\\\\").replace(/[']/g,"\\'").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t");'"'===g.substr(e+1,1);)l=g.substr(e+2),h+='\\"'+a.DocumentType.resolveEntities(null,l.substr(0,l.indexOf('"'))).replace(/[\\]/g,"\\\\").replace(/[']/g,"\\'").replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,
      "\\r").replace(/[\t]/g,"\\t"),e+=2+l.indexOf('"');h='"'+h+'"';'""'===h&&(h="");h=e+2+".[Fleur.XQueryX.stringConstantExpr,[[Fleur.XQueryX.value,["+h+"]]]]"}else if("("===f)e=a.XPathEvaluator._skipSpaces(g,0),h=")"===g.charAt(e)?String(2+e)+".[Fleur.XQueryX.sequenceExpr,[]]":"0.";else if("-"===f||"+"===f)f="~"+f,h="0.";else if(""!==f&&-1!==".0123456789".indexOf(f))e=a.XPathEvaluator._getNumber(f+g),h=e.length+".["+(-1!==e.indexOf("e")?"Fleur.XQueryX.doubleConstantExpr":-1!==e.indexOf(".")?"Fleur.XQueryX.decimalConstantExpr":
      "Fleur.XQueryX.integerConstantExpr")+",[[Fleur.XQueryX.value,['"+e.replace(/e\+/,"e")+"']]]]";else if("$"===f)e=a.XPathEvaluator._getName(g),h=(-1===e.indexOf(":")?":":"")+e,l=d.startsWith("11.30.group by")||d.startsWith("5.29.~,11.30.group by")?"[Fleur.XQueryX.groupingSpec,[[Fleur.XQueryX.varName,[":"[Fleur.XQueryX.varRef,[[Fleur.XQueryX.name,[",h=e.length+1+"."+l+"'"+h.substr(h.indexOf(":")+1)+"'"+(":"===h.charAt(0)?"":",[Fleur.XQueryX.prefix,['"+h.substr(0,h.indexOf(":"))+"']]")+"]]]]";else if("?"===
      f)e=g.charAt(0),g=g.substr(1),""!==e&&-1!=="0123456789".indexOf(e)?(e=a.XPathEvaluator._getNumber(e+g),h=String(e.length)+".[Fleur.XQueryX.unaryLookup,[[Fleur.XQueryX.integerConstantExpr,[[Fleur.XQueryX.value,['"+e.replace(/e\+/,"e")+"']]]]]]"):""!==e&&-1!=="_ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".indexOf(e)?(e=a.XPathEvaluator._getName(e+g),h=String(e.length)+".[Fleur.XQueryX.unaryLookup,[[Fleur.XQueryX.NCName,['"+e+"']]]]"):"*"===e?h="1.[Fleur.XQueryX.unaryLookup,[[Fleur.XQueryX.star,[]]]]":
      "("===e&&(e=a.XPathEvaluator._xp2js(g,"","5.999.("),h=g.length-parseInt(e.substr(0,e.indexOf(".")),10)+1,h=String(h)+".[Fleur.XQueryX.unaryLookup,[[Fleur.XQueryX.expr,["+e.substr(e.indexOf(".")+1)+"]]]]");else if(""!==f&&-1!=="_ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz*".indexOf(f))if(l=a.XPathEvaluator._getName(f+g),-1!==["element","attribute","entry","processing-instruction"].indexOf(l)){var k=a.XPathEvaluator._skipSpaces(b,e+l.length),m=b.charAt(k);if(""!==m&&-1!=="_ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".indexOf(m))switch(b=
      b.substr(k+1),m=a.XPathEvaluator._getName(m+b),l){case "element":h=String(k-e+m.length)+".[Fleur.XQueryX.computedElementConstructor,[[Fleur.XQueryX.tagName,['"+m+"']]]]";break;case "attribute":h=String(k-e+m.length)+".[Fleur.XQueryX.computedAttributeConstructor,[[Fleur.XQueryX.tagName,['"+m+"']]]]";break;case "processing-instruction":h=String(k-e+m.length)+".[Fleur.XQueryX.computedPIConstructor,[[Fleur.XQueryX.piTarget,['"+m+"']]]]";break;case "entry":h=String(k-e+m.length)+".[Fleur.XQueryX.computedEntryConstructor,[[Fleur.XQueryX.tagName,['"+
      m+"']]]]"}else h=a.XPathEvaluator._getNameStep(f+g,0)}else h=a.XPathEvaluator._getNameStep(f+g,0);else if("<"===f)h=a.XPathEvaluator._getNodeConstructor(f+g);else throw Error("Unexpected char at '"+f+g+"'");else h="."===g.charAt(0)?"2.[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['parent']],[Fleur.XQueryX.anyKindTest,[]]]]]]":"1.[Fleur.XQueryX.contextItemExpr,[]]";if(-1!==h.indexOf("~~~~"))return h;b=parseInt(h.substr(0,h.indexOf(".")),10);var n=h.substr(h.indexOf(".")+
      1);e=0===b?f+g:g.substr(b-1);h=a.XPathEvaluator._getPredParams(e,b,n,d);b=parseInt(h.substr(0,h.indexOf(".")),10);n=h.substr(h.indexOf(".")+1);h=n.length+"."+n+c;l=0===b?f+g:g.substr(b-1);var p=a.XPathEvaluator._skipSpaces(l,0);m=l.charAt(p);k=l.substr(l.indexOf(m));e=f="null";if(("ascending"===k.substr(0,9)||"descending"===k.substr(0,10))&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt("a"===m?9:10))){k=a.XPathEvaluator._precedence.substr(a.XPathEvaluator._precedence.indexOf(".~~"+
      ("a"===m?"ascending":"descending")+".")+("a"===m?13:14));k=k.substr(k.indexOf("&")+1);k=k.substr(0,k.indexOf("."));d=a.XPathEvaluator._calc(h,d,parseInt(k,10));var q=d.substr(0,d.indexOf("."));h=d.substr(d.indexOf(".")+1).substr(0,parseInt(q,10));d=d.substr(q.length+1+parseInt(q,10));q=d.substr(0,d.indexOf("."));d=k.length+1+("a"===m?11:12)+"."+k+".~~"+("a"===m?"ascending":"descending")+d.substr(d.indexOf(".")+1).substr(0,parseInt(q,10));l=l.substr(p+("a"===m?9:10));p=a.XPathEvaluator._skipSpaces(l,
      0);m=l.charAt(p);k=l.substr(l.indexOf(m))}if("13.6.instance of"===d.substr(0,16)){if("+"===m||"?"===m||"*"===m)d="14.6.instance of"+m+d.substr(16),p=a.XPathEvaluator._skipSpaces(l,1),m=l.charAt(p),k=l.substr(l.indexOf(m))}else if("10.5.treat as"===d.substr(0,13)){if("+"===m||"?"===m||"*"===m)d="11.5.treat as"+m+d.substr(13),p=a.XPathEvaluator._skipSpaces(l,1),m=l.charAt(p),k=l.substr(l.indexOf(m))}else"9.3.cast as"===d.substr(0,11)?"?"===m&&(d="10.3.cast as"+m+d.substr(11),p=a.XPathEvaluator._skipSpaces(l,
      1),m=l.charAt(p),k=l.substr(l.indexOf(m))):"13.4.castable as"===d.substr(0,16)&&"?"===m&&(d="14.4.castable as"+m+d.substr(16),p=a.XPathEvaluator._skipSpaces(l,1),m=l.charAt(p),k=l.substr(l.indexOf(m)));if(""===m)return d=a.XPathEvaluator._calc(h,d,9999999),c=d.substr(d.indexOf(".")+1),c=c.substr(0,c.indexOf(".")),d=d.substr(d.indexOf(".")+1),d.substr(d.indexOf(".")+1).substr(0,parseInt(c,10));if("]"===m||")"===m||"}"===m||"return"===k.substr(0,6)&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(6))||
      "satisfies"===k.substr(0,9)&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(9)))return d=a.XPathEvaluator._calc(h,d,998),c=d.substr(d.indexOf(".")+1),c=c.substr(0,c.indexOf(".")),d=d.substr(d.indexOf(".")+1),l.substr(l.indexOf(m)+1).length-("r"===m?5:"s"===m?8:0)+"."+d.substr(d.indexOf(".")+1).substr(0,parseInt(c,10));if("$"===m){switch(n){case "[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['for']]]]]]":n=
      "[Fleur.XQueryX.flworExpr,[]]";f="for";break;case "[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['let']]]]]]":n="[Fleur.XQueryX.flworExpr,[]]";f="let";break;case "[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['every']]]]]]":n="[Fleur.XQueryX.quantifiedExpr,[[Fleur.XQueryX.quantifier,['every']]]]";f="every";break;case "[Fleur.XQueryX.pathExpr,[[Fleur.XQueryX.stepExpr,[[Fleur.XQueryX.xpathAxis,['child']],[Fleur.XQueryX.nameTest,['some']]]]]]":n=
      "[Fleur.XQueryX.quantifiedExpr,[[Fleur.XQueryX.quantifier,['some']]]]",f="some"}"null"!==f&&(h=a.XPathEvaluator._getPredParams("("+l,b,n),b=parseInt(h.substr(0,h.indexOf(".")),10),n=h.substr(h.indexOf(".")+1),h=n.length+"."+n+c,f="for"===f||"let"===f?"return":"satisfies",l=g.substr(b-2-f.length),k=l.substr(1))}else if("intersect"===k.substr(0,9)&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(9)))f=k.substr(0,9);else if("allowing"===k.substr(0,8)&&-1===
      "_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(8)))f=k.substr(0,8);else if("instance"===k.substr(0,8)&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(8)))f=k.substr(0,a.XPathEvaluator._skipSpaces(k,8)+2),e="instance of";else if("castable"===k.substr(0,8)&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(8)))f=k.substr(0,a.XPathEvaluator._skipSpaces(k,8)+2),e="castable as";else if(("except"===
      k.substr(0,6)||"before"===k.substr(0,6))&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(6)))f=k.substr(0,6);else if("treat"===k.substr(0,5)&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(5)))f=k.substr(0,a.XPathEvaluator._skipSpaces(k,5)+2),e="treat as";else if("group"===k.substr(0,5)&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(5)))f=k.substr(0,a.XPathEvaluator._skipSpaces(k,
      5)+2),e="group by";else if("order"===k.substr(0,5)&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(5)))f=k.substr(0,a.XPathEvaluator._skipSpaces(k,5)+2),e="order by";else if(("union"===k.substr(0,5)||"every"===k.substr(0,5)||"nodes"===k.substr(0,5)||"after"===k.substr(0,5)||"value"===k.substr(0,5)||"count"===k.substr(0,5)||"where"===k.substr(0,5)||"empty"===k.substr(0,5)||"catch"===k.substr(0,5))&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(5)))f=
      k.substr(0,5);else if("cast"===k.substr(0,4)&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(4)))f=k.substr(0,a.XPathEvaluator._skipSpaces(k,4)+2),e="cast as";else if(("idiv"===k.substr(0,4)||"some"===k.substr(0,4)||"then"===k.substr(0,4)||"else"===k.substr(0,4)||"node"===k.substr(0,4)||"with"===k.substr(0,4)||"into"===k.substr(0,4))&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(4)))f=k.substr(0,4);else if(("div"===
      k.substr(0,3)||"and"===k.substr(0,3)||"mod"===k.substr(0,3)||"let"===k.substr(0,3)||"for"===k.substr(0,3))&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(3)))f=k.substr(0,3);else if(("or"===k.substr(0,2)||"eq"===k.substr(0,2)||"ne"===k.substr(0,2)||"lt"===k.substr(0,2)||"le"===k.substr(0,2)||"gt"===k.substr(0,2)||"ge"===k.substr(0,2)||"is"===k.substr(0,2)||"to"===k.substr(0,2)||"in"===k.substr(0,2)||"as"===k.substr(0,2)||"at"===k.substr(0,2)||"by"===k.substr(0,
      2))&&-1==="_.-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz:".indexOf(k.charAt(2)))f=k.substr(0,2);else if("!="===k.substr(0,2)||"<="===k.substr(0,2)||">="===k.substr(0,2)||"<<"===k.substr(0,2)||">>"===k.substr(0,2)||"//"===k.substr(0,2)||"~+"===k.substr(0,2)||"~-"===k.substr(0,2)||":="===k.substr(0,2)||"||"===k.substr(0,2)||"!!"===k.substr(0,2))f=k.substr(0,2);else if(-1!=="+-*=|,;<>/!{:".indexOf(m)&&(f=m,","===f))if(d.startsWith("5.18.:=")||d.startsWith("11.30.group by")||d.startsWith("5.29.~,11.30.group by"))e=
      "~,";else for(c=d;""!==c;){if(c.startsWith("11.30.order by")){e="~,";break}g=parseInt(c.substr(0,c.indexOf(".")),10);m=c.substring(c.indexOf(".")+1,g);if(30<parseInt(m.substr(0,m.indexOf(".")),10))break;c=c.substr(c.indexOf(".")+1+g)}if("null"!==f)return c=a.XPathEvaluator._precedence.substr(a.XPathEvaluator._precedence.indexOf("."+("null"!==e?e:f)+".")+("null"!==e?e:f).length+2),c=c.substr(c.indexOf("&")+1),c=c.substr(0,c.indexOf(".")),g=a.XPathEvaluator._calc(h,d,parseInt(c,10)),h=g.substr(0,g.indexOf(".")),
      d=g.substr(g.indexOf(".")+1).substr(0,parseInt(h,10)),g=g.substr(h.length+1+parseInt(h,10)),h=g.substr(0,g.indexOf(".")),g=g.substr(g.indexOf(".")+1).substr(0,parseInt(h,10)),h=k.substr(f.length),a.XPathEvaluator._xp2js(h,d,c.length+1+("null"!==e?e:f).length+"."+c+"."+("null"!==e?e:f)+g);throw Error("Unknown operator at '"+l+"'");};a.XPathEvaluator._getVersion=function(b){var c=a.XPathEvaluator._skipSpaces(b,0),d=b.charAt(c),e=b.substr(c+1);if(""===d||-1==="abcdefghijklmnopqrstuvwxyz".indexOf(d))return c+
      ".";d=a.XPathEvaluator._getName(d+e);if("xquery"===d){var f=a.XPathEvaluator._skipSpaces(b,c+d.length);d=b.charAt(f);e=b.substr(f+1);if(""===d||-1==="abcdefghijklmnopqrstuvwxyz".indexOf(d))return c+".";d=a.XPathEvaluator._getName(d+e);if("version"===d){f=a.XPathEvaluator._skipSpaces(b,f+d.length);d=b.charAt(f);e=b.substr(f+1);if("'"!==d&&'"'!==d)return c+".";d=a.XPathEvaluator._getStringLiteral(d+e);e=d.substr(0,d.indexOf("."));var g=d.substr(e.length+1);f=a.XPathEvaluator._skipSpaces(b,f+parseInt(e,
      10));d=b.charAt(f);if(";"===d)return f+1+".[Fleur.XQueryX.versionDecl,[[Fleur.XQueryX.version,["+g+"]]]],";e=b.substr(f+1);d=a.XPathEvaluator._getName(d+e)}if("encoding"===d){f=a.XPathEvaluator._skipSpaces(b,f+d.length);d=b.charAt(f);e=b.substr(f+1);if("'"!==d&&'"'!==d)return c+".";d=a.XPathEvaluator._getStringLiteral(d+e);var h=d.substr(0,d.indexOf("."));e=d.substr(h.length+1);f=a.XPathEvaluator._skipSpaces(b,f+parseInt(h,10));d=b.charAt(f);if(";"===d)return f+1+".[Fleur.XQueryX.versionDecl,["+(g?
      "[Fleur.XQueryX.version,["+g+"]],":"")+"[Fleur.XQueryX.encoding,["+e+"]]]],"}}return c+"."}}("undefined"===typeof exports?this.Fleur={}:exports));var XsltForms_xpathAxis={ANCESTOR_OR_SELF:"ancestor-or-self",ANCESTOR:"ancestor",ATTRIBUTE:"attribute",CHILD:"child",DESCENDANT_OR_SELF:"descendant-or-self",DESCENDANT:"descendant",ENTRY:"entry",FOLLOWING_SIBLING:"following-sibling",FOLLOWING:"following",NAMESPACE:"namespace",PARENT:"parent",PRECEDING_SIBLING:"preceding-sibling",PRECEDING:"preceding",SELF:"self"};
      console.info('XSLTForms 1.7 (664), XForms 1.1+ Engine, copyright (C) 2023 agenceXML - Alain Couthures, contact at xsltforms@agencexml.com\nYou can use fleur() Javascript function to evaluate an expression. Example: fleur("instance()")');
      var XsltForms_context,XsltForms_globals={fileVersion:"1.7",fileVersionNumber:664,language:"navigator",debugMode:!1,debugButtons:[{label:"Profiler",name:"profiler"},{label:"Trace Log",name:"tracelog"}],cont:0,ready:!1,body:null,models:[],changes:[],newChanges:[],building:!1,posibleBlur:!1,bindErrMsgs:[],transformtime:"unknown",htmltime:0,creatingtime:0,inittime:0,refreshtime:0,refreshcount:0,validationError:!0,counters:{component:0,group:0,input:0,item:0,itemset:0,label:0,output:0,repeat:0,select:0,
      trigger:0,upload:0,xvar:0},nbsubforms:0,componentLoads:[],jslibraries:{},htmlversion:"4",hasusername:!1,haspassword:!1,debugging:function(){if(8===document.documentElement.childNodes[0].nodeType||XsltForms_browser.isIE&&document.documentElement.childNodes[0].childNodes[1]&&8===document.documentElement.childNodes[0].childNodes[1].nodeType)XsltForms_browser.isXhtml?document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","body"):document.getElementsByTagName("body"),this.debugMode?XsltForms_debugger.open():
      XsltForms_debugger.close()},xmlrequest:function(a,b,c){if("string"!==typeof a)return'<error xmlns="">Invalid method "'+a+'"</error>';a=a.toLowerCase();switch(a){case "get":switch(b){case "xsltforms-profiler":return XsltForms_globals.profiling_data();case "xsltforms-tracelog":try{return XsltForms_browser.saveDoc(XsltForms_browser.debugConsole.doc_,"application/xml",!0)}catch(e){return XsltForms_browser.debugConsole.write("ERROR: Could not open xsltforms-tracelog "+e.message),'<error xmlns="">Could not open xsltforms-tracelog "'+
      e.message+'"</error>'}default:var d=b.indexOf("/");if(-1===d)return(d=document.getElementById(b))?XsltForms_browser.saveDoc(d.xfElement.doc,"application/xml",!0):'<error xmlns="">Unknown resource "'+b+'" for method "'+a+'"</error>';c=b.substr(d+1);d=document.getElementById(b.substr(0,d));if(!d)return'<error xmlns="">Unknown resource "'+b+'" for method "'+a+'"</error>';c=d.xfElement.archive[c];if(!c)return'<error xmlns="">Unknown resource "'+b+'" for method "'+a+'"</error>';c.doc||(c.doc=XsltForms_browser.createXMLDocument("<dummy/>"),
      a=XsltForms_browser.getDocMeta(d.xfElement.doc,"model"),XsltForms_browser.loadDoc(c.doc,XsltForms_browser.utf8decode(zip_inflate(c.compressedFileData))),XsltForms_browser.setDocMeta(c.doc,"instance",idRef),XsltForms_browser.setDocMeta(c.doc,"model",a));return XsltForms_browser.saveDoc(c.doc,"application/xml",!0)}case "put":d=document.getElementById(b);if(!d)return'<error xmlns="">Unknown resource "'+b+'" for method "'+a+'"</error>';d.xfElement.setDoc(c,!1,!0);a=XsltForms_browser.getDocMeta(d.xfElement.doc,
      "model");XsltForms_globals.addChange(a);XsltForms_globals.closeChanges();return'<ok xmlns=""/>';default:return'<error xmlns="">Unknown method "'+a+'"</error>'}},countdesc:function(a){var b=0;a.attributes&&(b=a.attributes.length);if(a.childNodes){b+=a.childNodes.length;for(var c=0,d=a.childNodes.length;c<d;c++)b+=XsltForms_globals.countdesc(a.childNodes[c])}return b},profiling_data:function(){var a='<xsltforms:dump xmlns:xsltforms="http://www.agencexml.com/xsltforms"><xsltforms:date>'+(XsltForms_browser.i18n.format(new Date,
      "yyyy-MM-ddThh:mm:ssz",!0)+"</xsltforms:date>");a+="<xsltforms:location>"+XsltForms_browser.escape(window.location.href)+"</xsltforms:location>";a+="<xsltforms:appcodename>"+navigator.appCodeName+"</xsltforms:appcodename>";a+="<xsltforms:appname>"+navigator.appName+"</xsltforms:appname>";a+="<xsltforms:appversion>"+navigator.appVersion+"</xsltforms:appversion>";a+="<xsltforms:platform>"+navigator.platform+"</xsltforms:platform>";a+="<xsltforms:useragent>"+navigator.userAgent+"</xsltforms:useragent>";
      a+="<xsltforms:xsltengine>"+this.xsltEngine+"</xsltforms:xsltengine>";var b=XsltForms_browser.transformText("<dummy/>","<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:msxsl=\"urn:schemas-microsoft-com:xslt\">  <xsl:output method=\"xml\"/>  <xsl:template match=\"/\">    <xsl:variable name=\"version\">      <xsl:if test=\"system-property('xsl:vendor')='Microsoft'\">        <xsl:value-of select=\"system-property('msxsl:version')\"/>      </xsl:if>    </xsl:variable>    <properties><xsl:value-of select=\"concat('|',system-property('xsl:vendor'),' ',system-property('xsl:vendor-url'),' ',$version,'|')\"/></properties>  </xsl:template></xsl:stylesheet>",
      !0).split("|");a+="<xsltforms:xsltengine2>"+b[1]+"</xsltforms:xsltengine2>";a+="<xsltforms:version>"+this.fileVersion+"</xsltforms:version>";a+="<xsltforms:instances>";for(var c=b=0,d=XsltForms_globals.models.length;c<d;c++)if(XsltForms_globals.models[c].element.id!==XsltForms_browser.idPf+"model-config")for(var e in XsltForms_globals.models[c].instances)if(XsltForms_globals.models[c].instances.hasOwnProperty(e)){var f=1+XsltForms_globals.countdesc(XsltForms_globals.models[c].instances[e].doc);a+=
      '<xsltforms:instance id="'+e+'">'+f+"</xsltforms:instance>";if(XsltForms_globals.models[c].instances[e].archive)for(var g in XsltForms_globals.models[c].instances[e].archive)XsltForms_globals.models[c].instances[e].archive.hasOwnProperty(g)&&(XsltForms_globals.models[c].instances[e].archive[g].doc||(XsltForms_globals.models[c].instances[e].archive[g].doc=XsltForms_browser.createXMLDocument("<dummy/>"),XsltForms_browser.loadDoc(XsltForms_globals.models[c].instances[e].archive[g].doc,XsltForms_browser.utf8decode(zip_inflate(XsltForms_globals.models[c].instances[e].archive[g].compressedFileData))),
      XsltForms_browser.setDocMeta(XsltForms_globals.models[c].instances[e].archive[g].doc,"instance",e),XsltForms_browser.setDocMeta(XsltForms_globals.models[c].instances[e].archive[g].doc,"model",c)),f=1+XsltForms_globals.countdesc(XsltForms_globals.models[c].instances[e].archive[g].doc),a+='<xsltforms:instance id="'+e+"/"+g+'">'+f+"</xsltforms:instance>");b++}a=a+'</xsltforms:instances><xsltforms:controls><xsltforms:control type="group">'+(XsltForms_globals.counters.group+"</xsltforms:control>");a+=
      '<xsltforms:control type="input">'+XsltForms_globals.counters.input+"</xsltforms:control>";a+='<xsltforms:control type="item">'+XsltForms_globals.counters.item+"</xsltforms:control>";a+='<xsltforms:control type="itemset">'+XsltForms_globals.counters.itemset+"</xsltforms:control>";a+='<xsltforms:control type="output">'+XsltForms_globals.counters.output+"</xsltforms:control>";a+='<xsltforms:control type="repeat">'+XsltForms_globals.counters.repeat+"</xsltforms:control>";a+='<xsltforms:control type="select">'+
      XsltForms_globals.counters.select+"</xsltforms:control>";a+='<xsltforms:control type="trigger">'+XsltForms_globals.counters.trigger+"</xsltforms:control>";a+="</xsltforms:controls>";e=/<\w/g;g=0;for(b=document.documentElement.innerHTML;e.exec(b);)g++;a=a+("<xsltforms:htmlelements>"+g+"</xsltforms:htmlelements><xsltforms:transformtime>")+(this.transformtime+"</xsltforms:transformtime>");a+="<xsltforms:htmltime>"+this.htmltime+"</xsltforms:htmltime>";a+="<xsltforms:creatingtime>"+this.creatingtime+
      "</xsltforms:creatingtime>";a+="<xsltforms:inittime>"+this.inittime+"</xsltforms:inittime>";a+="<xsltforms:refreshcount>"+this.refreshcount+"</xsltforms:refreshcount>";a+="<xsltforms:refreshtime>"+this.refreshtime+"</xsltforms:refreshtime>";e=[];for(var h in XsltForms_xpath.expressions)XsltForms_xpath.expressions.hasOwnProperty(h)&&XsltForms_xpath.expressions[h]&&(e[e.length]={expr:h,evaltime:XsltForms_xpath.expressions[h].evaltime});e.sort(function(l,k){return k.evaltime-l.evaltime});h=0;a+="<xsltforms:xpaths>";
      if(0<e.length){for(g=0;g<e.length&&20>g;g++)a+='<xsltforms:xpath expr="'+XsltForms_browser.escape(e[g].expr).replace(/"/g,"&quot;")+'">'+e[g].evaltime+"</xsltforms:xpath>",h+=e[g].evaltime;if(20<e.length){g=0;for(b=20;b<e.length;b++)g+=e[b].evaltime;a+='<xsltforms:others count="'+(e.length-20)+'">'+g+"</xsltforms:others>";h+=g}a+="<xsltforms:total>"+h+"</xsltforms:total>"}return a+"</xsltforms:xpaths></xsltforms:dump>"},opentab:function(a){var b=XsltForms_browser.openRequest("GET",XsltForms_browser.debugROOT+
      "xsltforms_"+a+(XsltForms_browser.debugROOT===XsltForms_browser.ROOT?".xhtml":".xml"),!1);b.overrideMimeType&&b.overrideMimeType("application/xml");try{b.send(null)}catch(c){alert("File not found: "+XsltForms_browser.debugROOT+"xsltforms_"+a+(XsltForms_browser.debugROOT===XsltForms_browser.ROOT?".xhtml":".xml"))}if(200===b.status||0===b.status){a="";try{a=XsltForms_browser.transformText(b.responseText,XsltForms_browser.xslROOT+"xsltforms.xsl",!1,"xsltforms_debug","false","baseuri",XsltForms_browser.xslROOT)}catch(c){XsltForms_browser.debugConsole.write("ERROR: Could not get contents of xsltforms_debug - "+
      c.message)}'<?xml version="1.0"?>'===a.substring(0,21)&&(a='<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'+a.substring(21));b=window.open("about:blank","_blank");b.document.write(a);b.document.close()}else XsltForms_browser.debugConsole.write("File not found ("+b.status+"): "+XsltForms_browser.ROOT+"xsltforms_"+a+".xhtml")},init:function(){XsltForms_browser.setValue(document.getElementById("xsltforms-status-panel"),XsltForms_browser.i18n.get("status"));
      XsltForms_globals.htmlversion=XsltForms_browser.i18n.get("html");var a=XsltForms_browser.i18n.get("format.time.AM"),b=XsltForms_browser.i18n.get("format.time.PM"),c=XsltForms_browser.isEdge||XsltForms_browser.isIE||XsltForms_browser.isChrome?(new Date).toLocaleTimeString():(new Date).toLocaleTimeString(navigator.language);XsltForms_globals.AMPM=""!==a&&(-1!==c.indexOf(a)||-1!==c.indexOf(b));a=XsltForms_browser.isXhtml?document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","body")[0]:document.getElementsByTagName("body")[0];
      XsltForms_globals.body=a;document.onhelp=function(){return!1};window.onhelp=function(){return!1};XsltForms_browser.events.attach(document,"keydown",function(d){if(112===d.keyCode)return XsltForms_globals.debugMode=!XsltForms_globals.debugMode,XsltForms_globals.debugging(),d.stopPropagation?(d.stopPropagation(),d.preventDefault()):d.cancelBubble=!0,!1},!1);XsltForms_browser.events.attach(a,"click",function(d){for(var e=XsltForms_browser.events.getTarget(d),f=e;f&&f.nodeType===Fleur.Node.ELEMENT_NODE;)"xforms-repeat-item"!==
      f.localName.toLowerCase()&&"repeat-item"!==f.getAttribute("xforms-name")||XsltForms_repeat.selectItem(f),f=f.parentNode;for(f=e;f&&f.nodeType===Fleur.Node.ELEMENT_NODE;){var g=f.xfElement;if(g){if("undefined"!==typeof f.node&&f.node&&g.focus&&!XsltForms_browser.getBoolMeta(f.node,"readonly")){var h=e.nodeName.toLowerCase();g.focus("input"===h||"textarea"===h,d)}if(g.click&&g.input&&!g.input.disabled){g.click(e,d);break}}f=f.parentNode}},!1);XsltForms_browser.events.onunload=function(){XsltForms_globals.close()};
      XsltForms_globals.openAction("XsltForms_globals.init");XsltForms_xmlevents.dispatchList(XsltForms_globals.models,"xforms-model-construct");a=0;for(b=XsltForms_globals.componentLoads.length;a<b;a++)eval(XsltForms_globals.componentLoads[a]);XsltForms_globals.refresh();XsltForms_globals.closeAction("XsltForms_globals.init");XsltForms_globals.ready=!0;XsltForms_browser.dialog.hide("xsltforms-status-panel",!1)},close:function(){if(XsltForms_globals.body){this.openAction("XsltForms_globals.close");for(var a=
      0,b=XsltForms_listener.destructs.length;a<b;a++)XsltForms_listener.destructs[a].callback({target:XsltForms_listener.destructs[a].observer});this.closeAction("XsltForms_globals.close");XsltForms_idManager.clear();this.defaultModel=null;this.changes=[];this.models=[];this.body=null;this.cont=0;this.dispose(document.documentElement);XsltForms_listener.destructs=[];XsltForms_schema.all={};XsltForms_typeDefs.initAll();XsltForms_calendar.INSTANCE=null;this.building=this.ready=!1;XsltForms_globals.posibleBlur=
      !1}},openActions:[],openAction:function(a){this.openActions.push(a);0===this.cont++&&XsltForms_browser.debugConsole.clear()},closeAction:function(a){this.openActions.pop();1===this.cont&&this.closeChanges();this.cont--},closeChanges:function(a){for(var b=this.changes,c=0,d=b.length;c<d;c++){var e=b[c];e&&e.instances&&(e.rebuilded?XsltForms_xmlevents.dispatch(e,"xforms-rebuild"):XsltForms_xmlevents.dispatch(e,"xforms-recalculate"))}if(0<b.length||a)this.refresh(),0<this.changes.length&&this.closeChanges()},
      error:function(a,b,c,d){XsltForms_browser.dialog.hide("xsltforms-status-panel",!1);XsltForms_browser.setValue(document.getElementById("xsltforms-status-panel"),c);XsltForms_browser.dialog.show("xsltforms-status-panel",null,!1);a&&XsltForms_xmlevents.dispatch(a,b);d&&(c+=" : "+d);XsltForms_browser.debugConsole.write("Error: "+c);throw b;},refresh:function(){var a=new Date;this.building=!0;this.build(this.body,this.defaultModel.getInstanceDocument()?this.defaultModel.getInstanceDocument().documentElement:
      null,!0);0<this.newChanges.length?(this.changes=this.newChanges,this.newChanges=[]):this.changes.length=0;for(var b=0,c=this.models.length;b<c;b++){var d=this.models[b];0<d.newNodesChanged.length||d.newRebuilded?(d.nodesChanged=d.newNodesChanged,d.newNodesChanged=[],d.rebuilded=d.newRebuilded,d.newRebuilded=!1,XsltForms_globals.ready&&XsltForms_xmlevents.dispatch(d,"xforms-recalculate")):(d.nodesChanged.length=0,d.rebuilded=!1)}this.building=!1;this.bindErrMsgs.length&&(this.error(this.defaultModel,
      "xforms-binding-exception","Binding Errors: \n"+this.bindErrMsgs.join("\n  ")),this.bindErrMsgs=[]);this.refreshtime+=new Date-a;this.refreshcount++},build:function(a,b,c){if(a.nodeType!==Fleur.Node.ELEMENT_NODE||"xsltforms-console"===a.id||!1===a.hasXFElement)return{ctx:b,hasXFElement:!1};var d=a.xfElement,e=!!d;"true"===a.getAttribute("mixedrepeat")&&(c=a.selected);if(d)if(d instanceof Array)for(var f=0,g=d.length;f<g;f++)d[f].build(b);else d.build(b),d.isRepeat&&d.refresh(c);b=a.node||b;f=a.children||
      a.childNodes;g=a.selected;"undefined"!==typeof g&&(c=g);if(!d||d instanceof Array||!d.isRepeat||0<d.nodes.length)for(var h=g=1,l=[],k=0,m=0,n=0;n<f.length&&this.building;n++)if(f[n].nodeType!==Fleur.Node.TEXT_NODE){if(1!==h){var p=l[m];h--}else 0!==k?(k--,m++,p=l[m],h=g):p=b;if(!f[n].getAttribute("cloned")){var q=f[n];p=this.build(f[n],p,c);f[n]!==q?n--:(f[n].xfElement&&f[n].xfElement.nbsiblings&&1<f[n].xfElement.nbsiblings&&(g=f[n].xfElement.nbsiblings,l=f[n].xfElement.nodes,k=l.length,m=0,h=g),
      e=p.hasXFElement||e)}}if(this.building){if(d instanceof Array)for(f=0,g=d.length;f<g;f++)d[f]&&d[f].changed&&(d[f].refresh(c),d[f].changed=!1);else d&&d.changed&&(d.refresh(c),d.changed=!1);a.hasXFElement||(a.hasXFElement=e)}return{ctx:b,hasXFElement:e}},addChange:function(a){var b=this.building?this.newChanges:this.changes;XsltForms_browser.inArray(a,b)||b.push(a)},dispose:function(a){if(a.nodeType===Fleur.Node.ELEMENT_NODE&&"xsltforms-console"!==a.id){var b=a.xfElement;b&&void 0!==b.dispose&&b.dispose();
      a.listeners=null;a.node=null;a.hasXFElement=null;a=a.childNodes;for(b=0;b<a.length;b++)this.dispose(a[b])}},blur:function(a){if((a||this.posibleBlur)&&this.focus){if(this.focus.element){this.openAction("XsltForms_globals.blur");XsltForms_xmlevents.dispatch(this.focus,"DOMFocusOut");this.focus.element.removeAttribute("xf-focus");try{this.focus.blur()}catch(b){}this.closeAction("XsltForms_globals.blur")}this.posibleBlur=!1;this.focus=null}},add32:function(a,b){var c=(a&65535)+(b&65535);return((a>>>
      16)+(b>>>16)+(c>>>16)&65535)<<16|c&65535},str2msg:function(a){var b,c={length:a.length,arr:[]};for(b=0;b<c.length;b++)c.arr[b>>2]|=(a.charCodeAt(b)&255)<<(3-b%4<<3);return c},crypto:function(a,b){var c,d,e=XsltForms_globals.add32;switch(b){case "SHA-1":b=8*a.length;a.arr[b>>5]|=128<<24-b%32;a.arr[(b+65>>9<<4)+15]=b;var f=a.arr.length;var g=[];b=[1732584193,4023233417,2562383102,271733878,3285377520];var h=function(A,w){return A<<w|A>>>32-w};for(c=0;c<f;c+=16){var l=b[0];var k=b[1];var m=b[2];var n=
      b[3];var p=b[4];for(d=0;20>d;d++){var q=e(e(e(e(h(l,5),k&m^~k&n),p),1518500249),g[d]=16>d?a.arr[d+c]:h(g[d-3]^g[d-8]^g[d-14]^g[d-16],1));p=n;n=m;m=h(k,30);k=l;l=q}for(d=20;40>d;d++)q=e(e(e(e(h(l,5),k^m^n),p),1859775393),g[d]=h(g[d-3]^g[d-8]^g[d-14]^g[d-16],1)),p=n,n=m,m=h(k,30),k=l,l=q;for(d=40;60>d;d++)q=e(e(e(e(h(l,5),k&m^k&n^m&n),p),2400959708),g[d]=h(g[d-3]^g[d-8]^g[d-14]^g[d-16],1)),p=n,n=m,m=h(k,30),k=l,l=q;for(d=60;80>d;d++)q=e(e(e(e(h(l,5),k^m^n),p),3395469782),g[d]=h(g[d-3]^g[d-8]^g[d-14]^
      g[d-16],1)),p=n,n=m,m=h(k,30),k=l,l=q;b[0]=e(l,b[0]);b[1]=e(k,b[1]);b[2]=e(m,b[2]);b[3]=e(n,b[3]);b[4]=e(p,b[4])}return{length:20,arr:b};case "MD5":f=a.length;var r=function(A,w,D,E,B,H){w=e(e(w,A),e(E,H));return e(w<<B|w>>>32-B,D)},t=function(A,w,D,E,B,H,I){return r(w&D|~w&E,A,w,B,H,I)},x=function(A,w,D,E,B,H,I){return r(w&E|D&~E,A,w,B,H,I)},v=function(A,w,D,E,B,H,I){return r(D^(w|~E),A,w,B,H,I)};p=function(A,w){l=A[0];k=A[1];m=A[2];n=A[3];l=t(l,k,m,n,w[0],7,-680876936);n=t(n,l,k,m,w[1],12,-389564586);
      m=t(m,n,l,k,w[2],17,606105819);k=t(k,m,n,l,w[3],22,-1044525330);l=t(l,k,m,n,w[4],7,-176418897);n=t(n,l,k,m,w[5],12,1200080426);m=t(m,n,l,k,w[6],17,-1473231341);k=t(k,m,n,l,w[7],22,-45705983);l=t(l,k,m,n,w[8],7,1770035416);n=t(n,l,k,m,w[9],12,-1958414417);m=t(m,n,l,k,w[10],17,-42063);k=t(k,m,n,l,w[11],22,-1990404162);l=t(l,k,m,n,w[12],7,1804603682);n=t(n,l,k,m,w[13],12,-40341101);m=t(m,n,l,k,w[14],17,-1502002290);k=t(k,m,n,l,w[15],22,1236535329);l=x(l,k,m,n,w[1],5,-165796510);n=x(n,l,k,m,w[6],9,-1069501632);
      m=x(m,n,l,k,w[11],14,643717713);k=x(k,m,n,l,w[0],20,-373897302);l=x(l,k,m,n,w[5],5,-701558691);n=x(n,l,k,m,w[10],9,38016083);m=x(m,n,l,k,w[15],14,-660478335);k=x(k,m,n,l,w[4],20,-405537848);l=x(l,k,m,n,w[9],5,568446438);n=x(n,l,k,m,w[14],9,-1019803690);m=x(m,n,l,k,w[3],14,-187363961);k=x(k,m,n,l,w[8],20,1163531501);l=x(l,k,m,n,w[13],5,-1444681467);n=x(n,l,k,m,w[2],9,-51403784);m=x(m,n,l,k,w[7],14,1735328473);k=x(k,m,n,l,w[12],20,-1926607734);l=r(k^m^n,l,k,w[5],4,-378558);n=r(l^k^m,n,l,w[8],11,-2022574463);
      m=r(n^l^k,m,n,w[11],16,1839030562);k=r(m^n^l,k,m,w[14],23,-35309556);l=r(k^m^n,l,k,w[1],4,-1530992060);n=r(l^k^m,n,l,w[4],11,1272893353);m=r(n^l^k,m,n,w[7],16,-155497632);k=r(m^n^l,k,m,w[10],23,-1094730640);l=r(k^m^n,l,k,w[13],4,681279174);n=r(l^k^m,n,l,w[0],11,-358537222);m=r(n^l^k,m,n,w[3],16,-722521979);k=r(m^n^l,k,m,w[6],23,76029189);l=r(k^m^n,l,k,w[9],4,-640364487);n=r(l^k^m,n,l,w[12],11,-421815835);m=r(n^l^k,m,n,w[15],16,530742520);k=r(m^n^l,k,m,w[2],23,-995338651);l=v(l,k,m,n,w[0],6,-198630844);
      n=v(n,l,k,m,w[7],10,1126891415);m=v(m,n,l,k,w[14],15,-1416354905);k=v(k,m,n,l,w[5],21,-57434055);l=v(l,k,m,n,w[12],6,1700485571);n=v(n,l,k,m,w[3],10,-1894986606);m=v(m,n,l,k,w[10],15,-1051523);k=v(k,m,n,l,w[1],21,-2054922799);l=v(l,k,m,n,w[8],6,1873313359);n=v(n,l,k,m,w[15],10,-30611744);m=v(m,n,l,k,w[6],15,-1560198380);k=v(k,m,n,l,w[13],21,1309151649);l=v(l,k,m,n,w[4],6,-145523070);n=v(n,l,k,m,w[11],10,-1120210379);m=v(m,n,l,k,w[2],15,718787259);k=v(k,m,n,l,w[9],21,-343485551);A[0]=e(l,A[0]);A[1]=
      e(k,A[1]);A[2]=e(m,A[2]);A[3]=e(n,A[3])};b=[1732584193,-271733879,-1732584194,271733878];for(c=0;c<=f-64;){d=[];do d.push((a.arr[c>>2]&4278190080)>>>24|(a.arr[c>>2]&16711680)>>>8|(a.arr[c>>2]&65280)<<8|(a.arr[c>>2]&255)<<24),c+=4;while(0!==c%64);p(b,d)}d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(g=0;c<f;)d[g>>2]=(a.arr[c>>2]&4278190080)>>>24|(a.arr[c>>2]&16711680)>>>8|(a.arr[c>>2]&65280)<<8|(a.arr[c>>2]&255)<<24,c++,g++;d[g>>2]|=128<<(g%4<<3);55<g&&(p(b,d),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);d[14]=8*
      f;p(b,d);c=0;for(f=b.length;c<f;c++)b[c]=(b[c]&255)<<24|(b[c]>>8&255)<<16|(b[c]>>16&255)<<8|b[c]>>24&255;return{length:16,arr:b};case "SHA-256":b=8*a.length;a.arr[b>>5]|=128<<24-b%32;a.arr[(b+65>>9<<4)+15]=b;var C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,
      3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];g=[];b=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];f=a.arr.length;
      for(c=0;c<f;c+=16){l=b[0];k=b[1];m=b[2];n=b[3];p=b[4];q=b[5];h=b[6];var u=b[7];for(d=0;64>d;d++){if(16>d)g[d]=a.arr[c+d];else{var y=g[d-15],z=g[d-2];g[d]=e(e(e((y<<25|y>>>7)^(y<<14|y>>>18)^y>>>3,g[d-7]),(z<<15|z>>>17)^(z<<13|z>>>19)^z>>>10),g[d-16])}y=e(e(e(e(u,(p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25)),p&q^~p&h),C[d]),g[d]);z=e((l<<30|l>>>2)^(l<<19|l>>>13)^(l<<10|l>>>22),l&k^l&m^k&m);u=h;h=q;q=p;p=e(n,y);n=m;m=k;k=l;l=e(y,z)}b[0]=e(l,b[0]);b[1]=e(k,b[1]);b[2]=e(m,b[2]);b[3]=e(n,b[3]);b[4]=e(p,b[4]);
      b[5]=e(q,b[5]);b[6]=e(h,b[6]);b[7]=e(u,b[7])}return{length:32,arr:b};case "BASE64":a=a.replace(/\r\n/g,"\n");d=a.length;f="";for(c=0;c<d;c++)b=a.charCodeAt(c),f+=128>b?a.charAt(c):127<b&&2048>b?String.fromCharCode(b>>6|192,b&63|128):String.fromCharCode(b>>12|224,b>>6&63|128,b&63|128);d=f.length;b="";for(c=0;c<d;c+=3)a=f.charCodeAt(c),p=c+1<d?f.charCodeAt(c+1):0,g=c+2<d?f.charCodeAt(c+2):0,b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((a&
      3)<<4|p>>4)+(c+1<d?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((p&15)<<2|g>>6):"=")+(c+2<d?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g&63):"=");return b}},hex32:function(a){var b=a>>>16;a&=65535;return(4096<=b?"":256<=b?"0":16<=b?"00":"000")+b.toString(16)+(4096<=a?"":256<=a?"0":16<=a?"00":"000")+a.toString(16)},encode:function(a,b){var c="";if("base64"===b){var d=0;for(b=a.length;d<b;d+=3){var e=a.arr[d>>2]>>24-d%4*8&255;var f=d+1<b?a.arr[d+
      1>>2]>>24-(d+1)%4*8&255:0;var g=d+2<b?a.arr[d+2>>2]>>24-(d+2)%4*8&255:0;c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((e&3)<<4|f>>4)+(d+1<b?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt((f&15)<<2|g>>6):"=")+(d+2<b?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(g&63):"=")}return c}c="";d=0;for(b=a.length>>2;d<b;d++)c+=XsltForms_globals.hex32(a.arr[d]);
      0!==a.length%4&&(c+=(a.arr[a.length>>2]>>>8*(4-a.length%4)).toString(16));return c}},XsltForms_browser={jsFileName:"xsltforms.js",isOpera:null!==navigator.userAgent.match(/\bOpera\b/),isIE:null!==navigator.userAgent.match(/\bMSIE\b/)&&null===navigator.userAgent.match(/\bOpera\b/),isIE9:null!==navigator.userAgent.match(/\bMSIE\b/)&&null===navigator.userAgent.match(/\bOpera\b/)&&window.addEventListener,isIE6:null!==navigator.userAgent.match(/\bMSIE 6\.0/),isIE11:null!==navigator.userAgent.match(/\bTrident\/7\.0/),
      isMozilla:null!==navigator.userAgent.match(/\bGecko\b/),isSafari:null!==navigator.userAgent.match(/\bAppleWebKit/)&&null===navigator.userAgent.match(/\bEdge/)&&!window.FileReader,isChrome:null!==navigator.userAgent.match(/\bAppleWebKit/)&&null===navigator.userAgent.match(/\bEdge/),isEdge:null!==navigator.userAgent.match(/\bEdge/),isFF2:null!==navigator.userAgent.match(/\bFirefox[\/\s]2\.\b/),isXhtml:!1,setClass:function(a,b,c){XsltForms_browser.assert(a&&b);c?this.hasClass(a,b)||("string"===typeof a.className?
      a.className=(a.className+" "+b).trim():a.className.baseVal=(a.className.baseVal+" "+b).trim()):a.className&&("string"===typeof a.className?a.className=a.className.replace(b,"").replace(/ +/g," ").trim():a.className.baseVal=a.className.baseVal.replace(b,"").replace(/ +/g," ").trim())},hasClass:function(a,b){a=a.className;a="string"===typeof a?a:a.baseVal;return XsltForms_browser.inArray(b,a&&a.split(" ")||[])},initHover:function(a){XsltForms_browser.events.attach(a,"mouseover",function(b){XsltForms_browser.setClass(XsltForms_browser.events.getTarget(b),
      "xsltforms-listHover",!0)});XsltForms_browser.events.attach(a,"mouseout",function(b){XsltForms_browser.setClass(XsltForms_browser.events.getTarget(b),"xsltforms-listHover",!1)})},getEventPos:function(a){a=a||window.event;return{x:a.pageX||a.clientX+window.document.body.scrollLeft||0,y:a.pageY||a.clientY+window.document.body.scrollTop||0}},getAbsolutePos:function(a){var b=XsltForms_browser.getPos(a);a.offsetParent&&(a=XsltForms_browser.getAbsolutePos(a.offsetParent),b.x+=a.x,b.y+=a.y);return b},getPos:function(a){var b=
      /^div$/i.test(a.tagName);return{x:a.offsetLeft-(b&&a.scrollLeft?a.scrollLeft:0),y:a.offsetTop-(b&&a.scrollTop?a.scrollTop:0)}},setPos:function(a,b,c){if(a.offsetParent){var d=XsltForms_browser.getAbsolutePos(a.offsetParent);b-=d.x;c-=d.y}a.style.top=c+"px";a.style.left=b+"px"},loadProperties:function(a,b){var c=!b,d=XsltForms_browser.openRequest("GET",this.ROOT+a,!c);a=function(){if(c||4===d.readyState){try{1223===d.status&&(d.status=204,d.statusText="No Content");for(var e=(0!==d.status&&(200>d.status||
      300<=d.status)?XsltForms_browser.createXMLDocument(XsltForms_browser.configElt.children[0].textContent):XsltForms_browser.createXMLDocument(d.responseText)).documentElement;e&&"properties"!==e.nodeName;)if(e.firstChild)e=e.firstChild;else{for(;e&&!e.nextSibling;)e=e.parentNode;e&&e.nextSibling&&(e=e.nextSibling)}XsltForms_browser.config||(XsltForms_browser.configElt.xfElement||(XsltForms_browser.configElt.parentNode.xfElement||(XsltForms_browser.configElt.parentNode.xfElement=new XsltForms_model(XsltForms_subform.subforms["xsltforms-mainform"],
      XsltForms_browser.configElt.parentNode)),XsltForms_browser.configElt.xfElement=new XsltForms_instance(XsltForms_subform.subforms["xsltforms-mainform"],XsltForms_browser.configElt),XsltForms_browser.configElt.xfElement.construct(XsltForms_subform.subforms["xsltforms-mainform"])),XsltForms_browser.config=XsltForms_browser.configElt.xfElement.doc.documentElement);var f=XsltForms_browser.config.ownerDocument.importNode(e,!0);XsltForms_browser.config.parentNode.replaceChild(f,XsltForms_browser.config);
      var g=XsltForms_browser.configElt.xfElement;XsltForms_browser.config=g.doc.documentElement;g.srcDoc=XsltForms_browser.saveDoc(g.doc,"application/xml");XsltForms_browser.setDocMeta(g.doc,"instance","xsltforms-instance-config");XsltForms_browser.setDocMeta(g.doc,"model","xsltforms-model-config");XsltForms_globals.language=XsltForms_browser.selectSingleNodeText("language",XsltForms_browser.config);XsltForms_globals.valuesSeparator=XsltForms_browser.selectSingleNodeText("valuesseparator",XsltForms_browser.config,
      " ");XsltForms_globals.loadingMsg=XsltForms_browser.selectSingleNodeText("status",XsltForms_browser.config)}catch(h){}c||b()}};c||(d.onreadystatechange=a);d.overrideMimeType&&d.overrideMimeType("application/xml");d.send(null);c&&a()},constructURI:function(a){if(a.match(/^[a-zA-Z0-9+\.\-]+:\/\//))return a;if("/"===a.charAt(0))return document.location.href.substr(0,document.location.href.replace(/:\/\//,":\\\\").indexOf("/"))+a;var b=document.location.href,c=b.indexOf("?");b=-1===c?b:b.substr(0,c);
      c=b.replace(/:\/\//,":\\\\").lastIndexOf("/");return b.length>c+1?(-1===c?b:b.substr(0,c))+"/"+a:b+a},createElement:function(a,b,c,d){a=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml",a):document.createElement(a);d&&(a.className=d);b&&b.appendChild(a);c&&a.appendChild(document.createTextNode(c));return a},getWindowSize:function(){var a=0,b=0,c=0,d=0,e=0,f=0;XsltForms_browser.isIE||XsltForms_browser.isIE11?document.documentElement&&(document.documentElement.clientWidth||
      document.documentElement.clientHeight)&&(a=document.documentElement.clientWidth,b=document.documentElement.clientHeight,c=Math.max(document.documentElement.clientWidth,document.body.clientWidth),d=Math.max(document.documentElement.clientHeight,document.body.clientHeight),e=document.body.parentNode.scrollLeft,f=document.body.parentNode.scrollTop):(a=document.body?document.body.clientWidth:document.documentElement.clientWidth,b=document.documentElement.clientHeight,c=document.body?Math.max(document.documentElement.clientWidth,
      document.body.clientWidth):document.documentElement.clientWidth,d=document.body?Math.max(document.documentElement.clientHeight,document.body.clientHeight):document.documentElement.clientHeight,e=window.scrollX,f=window.scrollY);return{height:b,width:a,offsetX:c,offsetY:d,scrollX:e,scrollY:f}},addLoadListener:function(a){if(window.addEventListener)window.addEventListener("load",a,!1);else if(document.addEventListener)document.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",
      a);else if("function"!==typeof window.onload)window.onload=a;else{var b=window.onload;window.onload=function(){b();a()}}}};if(XsltForms_browser.isIE||XsltForms_browser.isIE11){try{var xmlDoc0=new ActiveXObject("Msxml2.DOMDocument.6.0");xmlDoc0=null;XsltForms_browser.MSXMLver="6.0"}catch(a){XsltForms_browser.MSXMLver="3.0"}document.write("<script type='text/vbscript'>Function XsltForms_browser_BinaryToArray_ByteStr(Binary)\r\nXsltForms_browser_BinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction XsltForms_browser_BinaryToArray_ByteStr_Last(Binary)\r\nDim lastIndex\r\nlastIndex = LenB(Binary)\r\nif lastIndex mod 2 Then\r\nXsltForms_browser_BinaryToArray_ByteStr_Last = Chr(AscB(MidB(Binary,lastIndex,1)))\r\nElse\r\nXsltForms_browser_BinaryToArray_ByteStr_Last = \"\"\r\nEnd If\r\nEnd Function\r\n\x3c/script>\r\n")}
      if(XsltForms_browser.isIE)if(window.ActiveXObject)XsltForms_browser.openRequest=function(a,b,c){try{var d=new XMLHttpRequest}catch(e){try{d=new ActiveXObject("Msxml2.XMLHTTP."+XsltForms_browser.MSXMLver)}catch(f){try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(g){throw Error("This browser does not support XHRs(Ajax)! \n Cause: "+(g.message||g.description||g)+" \n Enable Javascript or ActiveX controls (on IE) or lower security restrictions.");}}}d.open(a,XsltForms_browser.constructURI(b),c);return d},
      XsltForms_browser.StringToBinary=function(a){for(var b=function(f){return String.fromCharCode(9<f?f+55:f+48)},c="",d=0,e=a.length;d<e;d++)c+=b((a.charCodeAt(d)&240)>>4)+b(a.charCodeAt(d)&15);a=(new ActiveXObject("Msxml2.DOMDocument."+XsltForms_browser.MSXMLver)).createElement("dummy");a.dataType="bin.hex";a.text=c;return a.nodeTypedValue};else throw Error("This browser does not support XHRs(Ajax)! \n Enable Javascript or ActiveX controls (on IE) or lower security restrictions.");else XsltForms_browser.openRequest=
      function(a,b,c){var d=new XMLHttpRequest;try{d.open(a,XsltForms_browser.constructURI(b),c)}catch(e){throw Error("This browser does not support XHRs(Ajax)! \n Cause: "+(e.message||e.description||e)+" \n Enable Javascript or ActiveX controls (on IE) or lower security restrictions.");}XsltForms_browser.isMozilla&&d.overrideMimeType("text/xml");return d};
      XsltForms_browser.transformText=XsltForms_browser.isIE||XsltForms_browser.isIE11?function(a,b,c){var d=new ActiveXObject("MSXML2.DOMDocument."+XsltForms_browser.MSXMLver);d.setProperty("AllowDocumentFunction",!0);d.preserveWhiteSpace=!0;d.validateOnParse=!1;d.setProperty("ProhibitDTD",!1);d.loadXML(a);var e=new ActiveXObject("MSXML2.FreeThreadedDOMDocument."+XsltForms_browser.MSXMLver);e.setProperty("AllowDocumentFunction",!0);e.preserveWhiteSpace=!0;e.validateOnParse=!1;e.setProperty("ProhibitDTD",
      !1);c?e.loadXML(b):(e.async=!1,e.load(b));var f=new ActiveXObject("MSXML2.XSLTemplate."+XsltForms_browser.MSXMLver);f.stylesheet=e;e=f.createProcessor();e.input=d;d=3;for(f=arguments.length-1;d<f;d+=2)e.addParameter(arguments[d],arguments[d+1],"");e.transform();return e.output}:function(a,b,c){var d=new DOMParser,e=new XMLSerializer,f=d.parseFromString(a,"text/xml");if(c)d=d.parseFromString(b,"text/xml");else{var g=new XMLHttpRequest;g.open("GET",b,!1);g.send("");g.responseXML&&""!==g.responseXML.xml?
      d=g.responseXML:(b=g.responseText,d=d.parseFromString(b,"text/xml"))}g=new XSLTProcessor;XsltForms_browser.isMozilla||XsltForms_browser.isOpera||g.setParameter(null,"xsltforms_caller","true");try{g.setParameter(null,"xsltforms_lang",XsltForms_globals.language),g.setParameter(null,"xsltforms_replacement_for","xsltforms-replacement-for-")}catch(m){}for(var h=3,l=arguments.length-1;h<l;h+=2)g.setParameter(null,arguments[h],arguments[h+1]);try{g.importStylesheet(d);var k=g.transformToDocument(f);if(!k)return alert("transformToDocument: null return value"),
      "";f="";f=XsltForms_browser.isMozilla&&"transformiix:result"===k.documentElement.nodeName||XsltForms_browser.isOpera&&"result"===k.documentElement.nodeName?k.documentElement.textContent:(XsltForms_browser.isChrome||XsltForms_browser.isEdge)&&"html"===k.documentElement.nodeName.toLowerCase()&&"pre"===k.documentElement.children[1].children[0].nodeName.toLowerCase()?k.documentElement.children[1].children[0].textContent:e.serializeToString(k);return f.replace(/xsltforms-replacement-for-/gm,"")}catch(m){return alert(m),
      ""}};XsltForms_browser.scripts=XsltForms_browser.isXhtml?document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","script"):document.getElementsByTagName("script");
      for(var __i=0,__len=XsltForms_browser.scripts.length;__i<__len;__i++){var __src=XsltForms_browser.scripts[__i].src;if(-1!==__src.indexOf(XsltForms_browser.jsFileName)){XsltForms_browser.ROOT=__src.replace(XsltForms_browser.jsFileName,"");-1!==XsltForms_browser.ROOT.indexOf("?")&&(XsltForms_browser.ROOT=XsltForms_browser.ROOT.substring(0,XsltForms_browser.ROOT.indexOf("?")));XsltForms_browser.imgROOT="js/"===XsltForms_browser.ROOT.substr(XsltForms_browser.ROOT.length-3,3)?XsltForms_browser.ROOT+"../img/":
      XsltForms_browser.ROOT;XsltForms_browser.xslROOT="js/"===XsltForms_browser.ROOT.substr(XsltForms_browser.ROOT.length-3,3)?XsltForms_browser.ROOT+"../xsl/":XsltForms_browser.ROOT;XsltForms_browser.debugROOT="js/"===XsltForms_browser.ROOT.substr(XsltForms_browser.ROOT.length-3,3)?XsltForms_browser.ROOT+"../debug/":XsltForms_browser.ROOT;break}}
      XsltForms_browser.MIME2extensions={"application/javascript":[".js",".mjs"],"application/xhtml+xml":[".xhtml",".xht",".xhtm"],"application/xml":[".xml"],"text/css":[".css"],"text/html":[".html",".htm",".shtml",".shtm"],"text/plain":[".txt",".text"]};XsltForms_browser.readFile=function(a,b,c){a=document.createElement("input");a.type="file";a.click();return!0};
      XsltForms_browser.writeFile=async function(a,b,c,d){b=new Blob([d],{type:c+";charset="+b});if(window.showSaveFilePicker){a={types:[{accept:{}}]};a.types[0].accept[c]=XsltForms_browser.MIME2extensions[c];try{const e=await (await window.showSaveFilePicker(a)).createWritable();await e.write(b);await e.close()}catch(e){}}else c=document.createElement("a"),c.download=a,c.href=URL.createObjectURL(b),c.click();return!0};XsltForms_browser.xsltsrc='<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">';
      XsltForms_browser.xsltsrc+='  <xsl:output method="xml" omit-xml-declaration="yes"/>';XsltForms_browser.xsltsrc+="  <xsl:template match=\"@*[starts-with(translate(name(),'ABCDEFGHIJKLMNOPQRSTUVWXYZ','abcdefghijklmnopqrstuvwxyz'),'xsltforms_')]\" priority=\"1\"/>";XsltForms_browser.xsltsrc+='  <xsl:template match="@*|node()" priority="0">';XsltForms_browser.xsltsrc+="    <xsl:copy>";XsltForms_browser.xsltsrc+='      <xsl:apply-templates select="@*|node()"/>';XsltForms_browser.xsltsrc+="    </xsl:copy>";
      XsltForms_browser.xsltsrc+="  </xsl:template>";XsltForms_browser.xsltsrc+="</xsl:stylesheet>";XsltForms_browser.xsltsrcanyuri='<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0">';XsltForms_browser.xsltsrcanyuri+='  <xsl:output method="xml" omit-xml-declaration="yes"/>';XsltForms_browser.xsltsrcanyuri+="  <xsl:template match=\"*[(substring-after(@xsltforms_type,':') = 'anyURI' or substring-after(@xsi:type,':') = 'anyURI') and . != '']\" priority=\"2\">";
      XsltForms_browser.xsltsrcanyuri+="    <xsl:copy>";XsltForms_browser.xsltsrcanyuri+='      <xsl:apply-templates select="@*"/>';XsltForms_browser.xsltsrcanyuri+="      <xsl:text>$!$!$!$!$!</xsl:text>";XsltForms_browser.xsltsrcanyuri+='      <xsl:apply-templates select="node()"/>';XsltForms_browser.xsltsrcanyuri+="      <xsl:text>%!%!%!%!%!</xsl:text>";XsltForms_browser.xsltsrcanyuri+="    </xsl:copy>";XsltForms_browser.xsltsrcanyuri+="  </xsl:template>";XsltForms_browser.xsltsrcanyuri+="  <xsl:template match=\"@*[starts-with(translate(name(),'ABCDEFGHIJKLMNOPQRSTUVWXYZ','abcdefghijklmnopqrstuvwxyz'),'xsltforms_')]\" priority=\"1\"/>";
      XsltForms_browser.xsltsrcanyuri+='  <xsl:template match="@*" priority="0">';XsltForms_browser.xsltsrcanyuri+="    <xsl:choose>";XsltForms_browser.xsltsrcanyuri+="      <xsl:when test=\"parent::*/attribute::*[local-name() = concat('xsltforms_',local-name(current()),'_type') and substring-after(.,':') = 'anyURI'] and . != ''\">";XsltForms_browser.xsltsrcanyuri+="        <xsl:copy>";XsltForms_browser.xsltsrcanyuri+="          <xsl:text>$!$!$!$!$!</xsl:text>";XsltForms_browser.xsltsrcanyuri+='          <xsl:apply-templates select="node()"/>';
      XsltForms_browser.xsltsrcanyuri+="          <xsl:text>%!%!%!%!%!</xsl:text>";XsltForms_browser.xsltsrcanyuri+="        </xsl:copy>";XsltForms_browser.xsltsrcanyuri+="      </xsl:when>";XsltForms_browser.xsltsrcanyuri+="      <xsl:otherwise>";XsltForms_browser.xsltsrcanyuri+="        <xsl:copy>";XsltForms_browser.xsltsrcanyuri+='          <xsl:apply-templates select="node()"/>';XsltForms_browser.xsltsrcanyuri+="        </xsl:copy>";XsltForms_browser.xsltsrcanyuri+="      </xsl:otherwise>";
      XsltForms_browser.xsltsrcanyuri+="    </xsl:choose>";XsltForms_browser.xsltsrcanyuri+="  </xsl:template>";XsltForms_browser.xsltsrcanyuri+='  <xsl:template match="node()" priority="0">';XsltForms_browser.xsltsrcanyuri+="    <xsl:copy>";XsltForms_browser.xsltsrcanyuri+='      <xsl:apply-templates select="@*|node()"/>';XsltForms_browser.xsltsrcanyuri+="    </xsl:copy>";XsltForms_browser.xsltsrcanyuri+="  </xsl:template>";XsltForms_browser.xsltsrcanyuri+="</xsl:stylesheet>";
      XsltForms_browser.xsltsrcindent='<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">';XsltForms_browser.xsltsrcindent+='  <xsl:output method="xml" omit-xml-declaration="yes"/>';XsltForms_browser.xsltsrcindent+="  <xsl:template match=\"@*[starts-with(translate(name(),'ABCDEFGHIJKLMNOPQRSTUVWXYZ','abcdefghijklmnopqrstuvwxyz'),'xsltforms_')]\" priority=\"1\"/>";XsltForms_browser.xsltsrcindent+='  <xsl:template match="@*" priority="0">';XsltForms_browser.xsltsrcindent+="    <xsl:copy/>";
      XsltForms_browser.xsltsrcindent+="  </xsl:template>";XsltForms_browser.xsltsrcindent+='  <xsl:template match="text()" priority="0">';XsltForms_browser.xsltsrcindent+='    <xsl:value-of select="normalize-space(.)"/>';XsltForms_browser.xsltsrcindent+="  </xsl:template>";XsltForms_browser.xsltsrcindent+='  <xsl:template match="*" priority="0">';XsltForms_browser.xsltsrcindent+='    <xsl:param name="offset"/>';XsltForms_browser.xsltsrcindent+="    <xsl:text>&#10;</xsl:text>";
      XsltForms_browser.xsltsrcindent+='    <xsl:value-of select="$offset"/>';XsltForms_browser.xsltsrcindent+="    <xsl:copy>";XsltForms_browser.xsltsrcindent+='      <xsl:apply-templates select="@*|node()">';XsltForms_browser.xsltsrcindent+='        <xsl:with-param name="offset" select="concat($offset,\'    \')"/>';XsltForms_browser.xsltsrcindent+="      </xsl:apply-templates>";XsltForms_browser.xsltsrcindent+="    </xsl:copy>";XsltForms_browser.xsltsrcindent+='    <xsl:if test="not(following-sibling::*)">';
      XsltForms_browser.xsltsrcindent+="      <xsl:text>&#10;</xsl:text>";XsltForms_browser.xsltsrcindent+='      <xsl:value-of select="substring($offset,5)"/>';XsltForms_browser.xsltsrcindent+="    </xsl:if>";XsltForms_browser.xsltsrcindent+="  </xsl:template>";XsltForms_browser.xsltsrcindent+="</xsl:stylesheet>";XsltForms_browser.xsltsrcrelevant='<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" version="1.0">';XsltForms_browser.xsltsrcrelevant+='  <xsl:output method="xml" omit-xml-declaration="yes"/>';
      XsltForms_browser.xsltsrcrelevant+='  <xsl:template match="*[@xsltforms_notrelevant = \'true\']" priority="1"/>';XsltForms_browser.xsltsrcrelevant+="  <xsl:template match=\"@*[starts-with(translate(name(),'ABCDEFGHIJKLMNOPQRSTUVWXYZ','abcdefghijklmnopqrstuvwxyz'),'xsltforms_')]\" priority=\"1\"/>";XsltForms_browser.xsltsrcrelevant+='  <xsl:template match="@*" priority="0">';XsltForms_browser.xsltsrcrelevant+="    <xsl:choose>";XsltForms_browser.xsltsrcrelevant+="      <xsl:when test=\"parent::*/attribute::*[local-name() = concat('xsltforms_',local-name(current()),'_notrelevant')] = 'true'\"/>";
      XsltForms_browser.xsltsrcrelevant+="      <xsl:otherwise>";XsltForms_browser.xsltsrcrelevant+="        <xsl:copy>";XsltForms_browser.xsltsrcrelevant+='          <xsl:apply-templates select="node()"/>';XsltForms_browser.xsltsrcrelevant+="        </xsl:copy>";XsltForms_browser.xsltsrcrelevant+="      </xsl:otherwise>";XsltForms_browser.xsltsrcrelevant+="    </xsl:choose>";XsltForms_browser.xsltsrcrelevant+="  </xsl:template>";XsltForms_browser.xsltsrcrelevant+='  <xsl:template match="node()" priority="0">';
      XsltForms_browser.xsltsrcrelevant+="    <xsl:copy>";XsltForms_browser.xsltsrcrelevant+='      <xsl:apply-templates select="@*|node()"/>';XsltForms_browser.xsltsrcrelevant+="    </xsl:copy>";XsltForms_browser.xsltsrcrelevant+="  </xsl:template>";XsltForms_browser.xsltsrcrelevant+="</xsl:stylesheet>";XsltForms_browser.xsltsrcrelevany='<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1.0">';
      XsltForms_browser.xsltsrcrelevany+='  <xsl:output method="xml" omit-xml-declaration="yes"/>';XsltForms_browser.xsltsrcrelevany+='  <xsl:template match="*[@xsltforms_notrelevant = \'true\']" priority="2"/>';XsltForms_browser.xsltsrcrelevany+="  <xsl:template match=\"*[(substring-after(@xsltforms_type,':') = 'anyURI' or substring-after(@xsi:type,':') = 'anyURI') and . != '']\" priority=\"2\">";XsltForms_browser.xsltsrcrelevany+="    <xsl:copy>";XsltForms_browser.xsltsrcrelevany+='      <xsl:apply-templates select="@*"/>';
      XsltForms_browser.xsltsrcrelevany+="      <xsl:text>$!$!$!$!$!</xsl:text>";XsltForms_browser.xsltsrcrelevany+='      <xsl:apply-templates select="node()"/>';XsltForms_browser.xsltsrcrelevany+="      <xsl:text>%!%!%!%!%!</xsl:text>";XsltForms_browser.xsltsrcrelevany+="    </xsl:copy>";XsltForms_browser.xsltsrcrelevany+="  </xsl:template>";XsltForms_browser.xsltsrcrelevany+="  <xsl:template match=\"@*[starts-with(translate(name(),'ABCDEFGHIJKLMNOPQRSTUVWXYZ','abcdefghijklmnopqrstuvwxyz'),'xsltforms_')]\" priority=\"1\"/>";
      XsltForms_browser.xsltsrcrelevany+='  <xsl:template match="@*" priority="0">';XsltForms_browser.xsltsrcrelevany+="    <xsl:choose>";XsltForms_browser.xsltsrcrelevany+="      <xsl:when test=\"parent::*/attribute::*[local-name() = concat('xsltforms_',local-name(current()),'_notrelevant')] = 'true'\"/>";XsltForms_browser.xsltsrcrelevany+="      <xsl:when test=\"parent::*/attribute::*[local-name() = concat('xsltforms_',local-name(current()),'_type') and substring-after(.,':') = 'anyURI'] and . != ''\">";
      XsltForms_browser.xsltsrcrelevany+="        <xsl:copy>";XsltForms_browser.xsltsrcrelevany+="          <xsl:text>$!$!$!$!$!</xsl:text>";XsltForms_browser.xsltsrcrelevany+='          <xsl:apply-templates select="node()"/>';XsltForms_browser.xsltsrcrelevany+="          <xsl:text>%!%!%!%!%!</xsl:text>";XsltForms_browser.xsltsrcrelevany+="        </xsl:copy>";XsltForms_browser.xsltsrcrelevany+="      </xsl:when>";XsltForms_browser.xsltsrcrelevany+="      <xsl:otherwise>";
      XsltForms_browser.xsltsrcrelevany+="        <xsl:copy>";XsltForms_browser.xsltsrcrelevany+='          <xsl:apply-templates select="node()"/>';XsltForms_browser.xsltsrcrelevany+="        </xsl:copy>";XsltForms_browser.xsltsrcrelevany+="      </xsl:otherwise>";XsltForms_browser.xsltsrcrelevany+="    </xsl:choose>";XsltForms_browser.xsltsrcrelevany+="  </xsl:template>";XsltForms_browser.xsltsrcrelevany+='  <xsl:template match="node()" priority="0">';XsltForms_browser.xsltsrcrelevany+="    <xsl:copy>";
      XsltForms_browser.xsltsrcrelevany+='      <xsl:apply-templates select="@*|node()"/>';XsltForms_browser.xsltsrcrelevany+="    </xsl:copy>";XsltForms_browser.xsltsrcrelevany+="  </xsl:template>";XsltForms_browser.xsltsrcrelevany+="</xsl:stylesheet>";XsltForms_browser.loadTextNode=function(a,b){if(a.nodeType===Fleur.Node.ATTRIBUTE_NODE)a.value=b;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(a.ownerDocument.createTextNode(b))}};
      if(Fleur.DOMParser||!XsltForms_browser.isIE&&!XsltForms_browser.isIE11){XsltForms_browser.createXMLDocument=function(a){return XsltForms_browser.parser.parseFromString(a,"text/xml")};XsltForms_browser.setAttributeNS=function(a,b,c,d){try{a.setAttributeNS(b,c,d)}catch(e){XsltForms_browser.debugConsole.write("ERROR: Could not set "+(""!==b?"Q{"+b+"}":"")+c+" with value "+d+" on "+XsltForms_browser.name2string(a))}};XsltForms_browser.selectSingleNode=function(a,b){try{return b.evaluate?b.evaluate(a,
      b,b.createNSResolver(b.documentElement),XPathResult.ANY_TYPE,null).iterateNext():b.ownerDocument.evaluate(a,b,b.ownerDocument.createNSResolver(b),XPathResult.ANY_TYPE,null).iterateNext()}catch(c){return null}};XsltForms_browser.selectSingleNodeText=function(a,b,c){if(Fleur.minimal){try{if(b.evaluate)return b.evaluate(a,b,b.createNSResolver(b.documentElement),XPathResult.ANY_TYPE,null).iterateNext().textContent;var d=b.ownerDocument.evaluate(a,b,b.ownerDocument.createNSResolver(b),XPathResult.ANY_TYPE,
      null).iterateNext();if(d)return d.textContent}catch(f){}if("properties"===b.nodeName){d=0;for(var e=b.childNodes.length;d<e;d++)if(b.childNodes[d].nodeName===a)return b.childNodes[d].textContent}return c||""}if("properties"===b.nodeName)for(d=0,e=b.childNodes.length;d<e;d++)if(b.childNodes[d].nodeName===a)return b.childNodes[d].textContent;return c||""};XsltForms_browser.selectNodesLength=function(a,b){try{if(!Fleur.minimal)throw Error();return b.evaluate?b.evaluate(a,b,b.createNSResolver(b.documentElement),
      XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength:b.ownerDocument.evaluate(a,b,b.ownerDocument.createNSResolver(b),XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength}catch(f){var c=0;switch(a){case "preceding::* | ancestor::*":for(;b;)b.previousSibling?(c+=b.nodeType===Fleur.Node.ELEMENT_NODE?1:0,b=b.previousSibling):b.parentNode?(c++,b=b.parentNode):b=null;break;case "descendant::node() | descendant::*/@*[not(starts-with(local-name(),'xsltforms_'))]":if(a=b.firstChild)for(;a!==
      b;){c++;if(a.attributes)for(var d=0,e=a.attributes.length;d<e;d++)c+="xsltforms_"!==a.attributes[d].name.substring(0,10)?1:0;if(a.firstChild)a=a.firstChild;else{for(;!a.nextSibling&&a!==b;)a=a.parentNode;a!==b&&(a=a.nextSibling)}}}return c}};XsltForms_browser.selectNodes=function(a,b){try{return b.evaluate?b.evaluate(a,b,b.createNSResolver(b.documentElement),XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null):b.ownerDocument.evaluate(a,b,b.ownerDocument.createNSResolver(b),XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,
      null)}catch(c){}};try{XsltForms_browser.parser=Fleur.DOMParser?new Fleur.DOMParser:new DOMParser}catch(a){}Fleur.DOMParser?(XsltForms_browser.serializer=new Fleur.Serializer,XsltForms_browser.loadNode=function(a,b,c){var d;try{var e=XsltForms_browser.parser.parseFromString(b,c);switch(a.nodeType){case Fleur.Node.ELEMENT_NODE:var f=0;for(d=e.childNodes.length;f<d;f++){var g=a.ownerDocument.importNode(e.childNodes[f],!0);a.parentNode.insertBefore(g,a)}a.parentNode.removeChild(a);break;case Fleur.Node.DOCUMENT_NODE:f=
      0;for(d=a.childNodes.length;f<d;f++)a.removeChild(a.childNodes[0]);f=0;for(d=e.childNodes.length;f<d;f++)g=a.importNode(e.childNodes[f],!0),a.appendChild(g)}}catch(h){XsltForms_globals.error(document.getElementById(XsltForms_browser.getDocMeta(a.ownerDocument,"model")).xfElement,"xforms-link-exception","Unable to parse source")}},XsltForms_browser.loadDoc=XsltForms_browser.loadNode,XsltForms_browser.saveNode=function(a,b,c,d,e,f){return XsltForms_browser.serializer.serializeToString(a,b,"yes"===d)},
      XsltForms_browser.saveDoc=XsltForms_browser.saveNode,XsltForms_browser.selectMeta=function(a,b){return b}):(XsltForms_browser.serializer=new XMLSerializer,XsltForms_browser.loadNode=function(a,b){b=XsltForms_browser.parser.parseFromString(b,"text/xml");"parsererror"===b.documentElement.localName||b.documentElement.textContent&&"This page contains the following errors:"===b.documentElement.textContent.substring(0,40)?XsltForms_globals.error(document.getElementById(XsltForms_browser.getDocMeta(a.ownerDocument,
      "model")).xfElement,"xforms-link-exception","Unable to parse XML"):(b=a.ownerDocument.importNode(b.documentElement,!0),a.parentNode.replaceChild(b,a))},XsltForms_browser.loadDoc=function(a,b){XsltForms_browser.loadNode(a.documentElement,b)},XsltForms_browser.saveNode=function(a,b,c,d,e,f){if(a.nodeType===Fleur.Node.ATTRIBUTE_NODE)return a.nodeValue;if(a.nodeType===Fleur.Node.TEXT_NODE){for(d="";a&&a.nodeType===Fleur.Node.TEXT_NODE;)d+=a.nodeValue,a=a.nextSibling;return d}a=XsltForms_browser.createXMLDocument(XsltForms_browser.serializer.serializeToString(a));
      if(c&&a.selectNodes){b=a.selectNodes("descendant::*[@xsltforms_notrelevant = 'true']",!1,a.documentElement);for(var g=0,h=b.length;g<h;g++){var l=b[g];try{l.parentNode.removeChild(l)}catch(r){}}b=a.selectNodes("descendant::*[@*[. = 'true' and starts-with(local-name(),'xsltforms_') and substring(local-name(), string-length(local-name()) - 11, 12) = '_notrelevant']]",!1,a.documentElement);g=0;for(h=b.length;g<h;g++){l=b[g];try{var k=[];c=0;for(var m=l.attributes.length;c<m;c++){var n=l.attributes[c];
      if("true"===n.nodeValue&&n.nodeName.startsWith("xsltforms_")&&n.nodeName.endsWith("_notrelevant")){var p=n.nodeName.substr(10);p=p.substr(0,p.indexOf("_notrelevant"));k.push(p)}}c=0;for(m=k.length;c<m;c++)l.removeAttribute(k[c])}catch(r){}}}if(e){m=a.selectNodes("descendant::*[(substring-after(@xsltforms_type,':') = 'anyURI' or substring-after(@*[local-name() = 'type' and namespace-uri()='http://www.w3.org/2001/XMLSchema-instance'],':') = 'anyURI') and . != '']",!1,a.documentElement);c=0;for(n=m.length;c<
      n;c++){p=m[c];try{p.insertBefore(p.ownerDocument.createTextNode("$!$!$!$!$!"),p.firstChild),p.appendChild(p.ownerDocument.createTextNode("%!%!%!%!%!"))}catch(r){}}m=a.selectNodes("descendant::*[@*[starts-with(local-name(), 'xsltforms_') and substring(local-name(), string-length(local-name()) - 4, 5) = '_type' and local-name() != 'xsltforms_type' and substring-after(.,':') = 'anyURI']]",!1,a.documentElement);c=0;for(n=m.length;c<n;c++)for(p=m[c],b=0;b<p.attributes.length;)if(g=p.attributes[b].name,
      h=p.getAttribute(g),"xsltforms_"===g.substring(0,10)&&"_type"===g.substr(g.length-5,5)&&"xsltforms_type"!==g&&"anyURI"===h.substr(h.indexOf(":")+1))try{var q=g.substr(10,g.length-15);""!==p.getAttribute(q)&&p.setAttribute(q,"$!$!$!$!$!"+p.getAttribute(q)+"%!%!%!%!%!")}catch(r){}else b++}q=a.selectNodes?a.selectNodes("descendant-or-self::*[@*[starts-with(name(),'xsltforms_')]]",!1,a.documentElement):XsltForms_browser.selectMeta(a.documentElement,[]);c=0;for(m=q.length;c<m;c++)for(n=q[c],p=0;p<n.attributes.length;)"xsltforms_"===
      n.attributes[p].name.substring(0,10)?n.removeAttribute(n.attributes[p].name):p++;if(e){d=XsltForms_browser.serializer.serializeToString(a);e=[];for(f=d.indexOf("$!$!$!$!$!");-1!==f;)a=d.indexOf("%!%!%!%!%!",f+10),q=d.substring(f+10,a),""!==q&&(q=q.substr(q.indexOf("?id=")+4),e.push(q),q="cid:"+q),d=d.substr(0,f)+q+d.substr(a+10),f=d.indexOf("$!$!$!$!$!");f="xsltformsrev"+XsltForms_globals.fileVersionNumber;d="--"+f+"\r\nContent-Type: application/xml; charset=UTF-8\r\nContent-ID: <xsltforms_main>\r\n\r\n"+
      d+"\r\n--"+f+"\r\n";a=0;for(q=e.length;a<q;a++){m="";if(XsltForms_browser.isSafari)for(c=XsltForms_upload.contents[e[a]],n=0,p=c.length;n<p;n++)b=c.charCodeAt(n),m=128>b?m+String.fromCharCode(b):191<b&&224>b?m+String.fromCharCode((b&31)<<6|c.charCodeAt(++n)&63):m+String.fromCharCode((b&15)<<12|(c.charCodeAt(++n)&63)<<6|c.charCodeAt(++n)&63);else for(c=new Uint8Array(XsltForms_upload.contents[e[a]]),n=0,p=c.length;n<p;n++)m+=String.fromCharCode(c[n]);d+="Content-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\nContent-ID: <"+
      e[a]+">\r\n\r\n"+m+"\r\n--"+f+(a===q-1?"--\r\n":"\r\n")}e=[];f=0;for(a=d.length;f<a;f++)e.push(d.charCodeAt(f)&255);try{return(new Uint8Array(e)).buffer}catch(r){return XsltForms_browser.StringToBinary(d)}}else if(d||f)return(new Fleur.XMLSerializer).serializeToString(a,d,f);return XsltForms_browser.serializer.serializeToString(a)},XsltForms_browser.saveDoc=function(a,b,c,d,e,f){return XsltForms_browser.saveNode(a.documentElement,b,c,d,e,f)},XsltForms_browser.selectMeta=function(a,b){var c;var d=
      0;for(c=a.attributes.length;d<c;){if(0===a.attributes[d].nodeName.indexOf("xsltforms_")){b.push(a);break}d++}d=0;for(c=a.children.length;d<c;)XsltForms_browser.selectMeta(a.children[d++],b);return b})}else XsltForms_browser.createXMLDocument=function(a){var b=new ActiveXObject("MSXML2.DOMDocument."+XsltForms_browser.MSXMLver);b.setProperty("SelectionLanguage","XPath");b.validateOnParse=!1;b.setProperty("ProhibitDTD",!1);b.loadXML(a);return b},XsltForms_browser.setAttributeNS=function(a,b,c,d){try{a.setAttributeNode(a.ownerDocument.createNode(Fleur.Node.ATTRIBUTE_NODE,
      c,b)),a.setAttribute(c,d)}catch(e){XsltForms_browser.debugConsole.write("ERROR: Could not set @"+(""!==b?"Q{"+b+"}":"")+c+" with value "+d+" on "+XsltForms_browser.name2string(a))}},XsltForms_browser.selectSingleNode=function(a,b){try{return b.selectSingleNode(a)}catch(c){return null}},XsltForms_browser.selectSingleNodeText=function(a,b,c){try{return b.selectSingleNode(a).text}catch(d){return c||""}},XsltForms_browser.selectNodesLength=function(a,b){try{return b.selectNodes(a).length}catch(c){return 0}},
      XsltForms_browser.xsltDoc=new ActiveXObject("MSXML2.DOMDocument."+XsltForms_browser.MSXMLver),XsltForms_browser.xsltDoc.loadXML(XsltForms_browser.xsltsrc),XsltForms_browser.xsltDocAnyURI=new ActiveXObject("MSXML2.DOMDocument."+XsltForms_browser.MSXMLver),XsltForms_browser.xsltDocAnyURI.loadXML(XsltForms_browser.xsltsrcanyuri),XsltForms_browser.xsltDocRelevant=new ActiveXObject("MSXML2.DOMDocument."+XsltForms_browser.MSXMLver),XsltForms_browser.xsltDocRelevant.loadXML(XsltForms_browser.xsltsrcrelevant),
      XsltForms_browser.xsltDocRelevantAnyURI=new ActiveXObject("MSXML2.DOMDocument."+XsltForms_browser.MSXMLver),XsltForms_browser.xsltDocRelevantAnyURI.loadXML(XsltForms_browser.xsltsrcrelevany),XsltForms_browser.xsltDocIndent=new ActiveXObject("MSXML2.DOMDocument."+XsltForms_browser.MSXMLver),XsltForms_browser.xsltDocIndent.loadXML(XsltForms_browser.xsltsrcindent),XsltForms_browser.loadNode=function(a,b){var c=new ActiveXObject("MSXML2.DOMDocument."+XsltForms_browser.MSXMLver);c.setProperty("SelectionLanguage",
      "XPath");c.setProperty("ProhibitDTD",!1);c.validateOnParse=!1;c.loadXML(b)?(b=c.documentElement.cloneNode(!0),a.parentNode.replaceChild(b,a)):XsltForms_globals.error(document.getElementById(XsltForms_browser.getDocMeta(a.ownerDocument,"model")).xfElement,"xforms-link-exception","Unable to parse XML")},XsltForms_browser.loadDoc=function(a,b){XsltForms_browser.loadNode(a.documentElement,b)},XsltForms_browser.saveNode=function(a,b,c,d,e,f){if(a.nodeType===Fleur.Node.ATTRIBUTE_NODE)return a.nodeValue;
      if(a.nodeType===Fleur.Node.TEXT_NODE){for(d="";a&&a.nodeType===Fleur.Node.TEXT_NODE;)d+=a.nodeValue,a=a.nextSibling;return d}b=new ActiveXObject("MSXML2.DOMDocument."+XsltForms_browser.MSXMLver);b.setProperty("SelectionLanguage","XPath");b.appendChild(a.documentElement?a.documentElement.cloneNode(!0):a.cloneNode(!0));if(f){if(c)for(a=b.documentElement.selectNodes("descendant::*[@xsltforms_notrelevant = 'true']"),c=0,e=a.length;c<e;c++){var g=a[c];try{g.parentNode.removeChild(g)}catch(l){}}a=b.documentElement.selectNodes("descendant-or-self::*[@*[starts-with(name(),'xsltforms_')]]");
      c=0;for(e=a.length;c<e;c++){g=a[c];for(var h=0;h<g.attributes.length;)"xsltforms_"===g.attributes[h].name.substring(0,10)?g.removeAttribute(g.attributes[h].name):h++}return(new Fleur.XMLSerializer).serializeToString(b,d,f)}if(d)return b.transformNode(XsltForms_browser.xsltDocIndent);if(e){d=c?b.transformNode(XsltForms_browser.xsltDocRelevantAnyURI):b.transformNode(XsltForms_browser.xsltDocAnyURI);f=[];for(b=d.indexOf("$!$!$!$!$!");-1!==b;)a=d.indexOf("%!%!%!%!%!",b+10),c=d.substring(b+10,a),""!==
      c&&(c=c.substr(c.indexOf("?id=")+4),f.push(c),c="cid:"+c),d=d.substr(0,b)+c+d.substr(a+10),b=d.indexOf("$!$!$!$!$!");b="xsltformsrev"+XsltForms_globals.fileVersionNumber;d="--"+b+"\r\nContent-Type: application/xml; charset=UTF-8\r\nContent-ID: <xsltforms_main>\r\n\r\n"+d+"\r\n--"+b+"\r\n";a=0;for(c=f.length;a<c;a++){d+="Content-Type: application/octet-stream\r\nContent-Transfer-Encoding: binary\r\nContent-ID: <"+f[a]+">\r\n\r\n";if(XsltForms_upload.contents[f[a]]instanceof ArrayBuffer)for(e=new Uint8Array(XsltForms_upload.contents[f[a]]),
      g=0,h=e.length;g<h;g++)d+=String.fromCharCode(e[g]);else d+=XsltForms_upload.contents[f[a]];d+="\r\n--"+b+(a===c-1?"--\r\n":"\r\n")}f=[];b=0;for(a=d.length;b<a;b++)f.push(d.charCodeAt(b)&255);try{return(new Uint8Array(f)).buffer}catch(l){return XsltForms_browser.StringToBinary(d)}}return c?b.transformNode(XsltForms_browser.xsltDocRelevant):b.transformNode(XsltForms_browser.xsltDoc)},XsltForms_browser.saveDoc=XsltForms_browser.saveNode;
      XsltForms_browser.unescape=function(a){if(!a)return"";a.match(/^\s*</)||(a=a.replace(/&lt;/g,"<"),a=a.replace(/&gt;/g,">"),a=a.replace(/&amp;/g,"&"));return a};XsltForms_browser.escape=function(a){if(!a)return"";"string"===typeof a&&(a=a.replace(/&/g,"&amp;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"));return a};
      XsltForms_browser.escapeJS=function(a){if(!a)return"";"string"===typeof a&&(a=a.replace(/\\/gm,"\\\\"),a=a.replace(/\t/gm,"\\t"),a=a.replace(/\n/gm,"\\n"),a=a.replace(/\r/gm,"\\r"),a=a.replace(/"/gm,'\\"'));return a};
      XsltForms_browser.utf8decode=function(a){for(var b="",c=0,d=a.length;c<d;){var e=a.charCodeAt(c);128>e?(b+=String.fromCharCode(e),c++):191<e&&224>e?(b+=String.fromCharCode((e&31)<<6|a.charCodeAt(c+1)&63),c+=2):(b+=String.fromCharCode((e&15)<<12|(a.charCodeAt(c+1)&63)<<6|a.charCodeAt(c+2)&63),c+=3)}return b};
      XsltForms_browser.utf8encode=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0,d=a.length;c<d;c++){var e=a.charCodeAt(c);b+=128>e?String.fromCharCode(e):127<e&&2048>e?String.fromCharCode(e>>6|192)+String.fromCharCode(e&63|128):String.fromCharCode(e>>12|224)+String.fromCharCode(e>>6&63|128)+String.fromCharCode(e&63|128)}return b};
      XsltForms_browser.crc32_arr=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,
      1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,
      1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,
      2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,
      733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,
      3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];XsltForms_browser.crc32=function(a){for(var b=-1,c=0,d=a.length;c<d;c++)b=b>>>8^XsltForms_browser.crc32_arr[(b^a.charCodeAt(c))&255];return b^-1};
      Fleur.DOMParser?(XsltForms_browser.getMeta=function(a,b){return a.getUserData(b)},XsltForms_browser.getDocMeta=XsltForms_browser.getMeta,XsltForms_browser.getBoolMeta=function(a,b){return!!a.getUserData(b)},XsltForms_browser.getType=function(a){var b=a.getUserData("type");return b&&""!==b?b:a.getAttributeNS?a.getAttributeNS("http://www.w3.org/2001/XMLSchema-instance","type"):null},XsltForms_browser.setMeta=function(a,b,c){a.setUserData(b,c)},XsltForms_browser.setDocMeta=XsltForms_browser.setMeta,
      XsltForms_browser.clearMeta=function(a){a.clearUserData();if(a.attributes)for(var b=0,c=a.attributes.length;b<c;b++)XsltForms_browser.clearMeta(a.attributes[b]);if(a.childNodes)for(b=0,c=a.childNodes.length;b<c;b++)XsltForms_browser.clearMeta(a.childNodes[b])},XsltForms_browser.setBoolMeta=function(a,b,c){a&&a.setUserData(b,c)},XsltForms_browser.setTrueBoolMeta=function(a,b){a&&a.setUserData(b,!0)},XsltForms_browser.setFalseBoolMeta=function(a,b){a&&a.setUserData(b,!1)},XsltForms_browser.setType=
      function(a,b){a&&a.setUserData("type",b)}):(XsltForms_browser.getMeta=function(a,b){return!a.nodeType||a.nodeType!==Fleur.Node.ELEMENT_NODE&&a.nodeType!==Fleur.Node.ATTRIBUTE_NODE?null:a.nodeType===Fleur.Node.ELEMENT_NODE?a.getAttribute("xsltforms_"+b):a.ownerElement?a.ownerElement.getAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b):a.oldOwnerElement?a.oldOwnerElement.getAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b):a.selectSingleNode("..").getAttribute("xsltforms_"+
      (a.localName?a.localName:a.baseName)+"_"+b)},XsltForms_browser.getDocMeta=function(a,b){return XsltForms_browser.getMeta(a.documentElement,b)},XsltForms_browser.getBoolMeta=function(a,b){return!!(a.nodeType===Fleur.Node.ELEMENT_NODE?a.getAttribute("xsltforms_"+b):a.nodeType===Fleur.Node.ATTRIBUTE_NODE&&(a.ownerElement?a.ownerElement.getAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b):a.selectSingleNode("..").getAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b)))},
      XsltForms_browser.getType=function(a){if(a.nodeType===Fleur.Node.ELEMENT_NODE){var b=a.getAttribute("xsltforms_type");return b&&""!==b?b:a.getAttributeNS?a.getAttributeNS("http://www.w3.org/2001/XMLSchema-instance","type"):(a=a.selectSingleNode("@*[local-name()='type' and namespace-uri()='http://www.w3.org/2001/XMLSchema-instance']"))&&""!==a.value?a.value:null}if(!a.nodeType||a.nodeType===Fleur.Node.DOCUMENT_NODE)return null;if(a.ownerElement)return a.ownerElement.getAttribute("xsltforms_"+(a.localName?
      a.localName:a.baseName)+"_type");try{return a.selectSingleNode("..").getAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_type")}catch(c){return null}},XsltForms_browser.setMeta=function(a,b,c){a&&a.nodeType&&(a.nodeType===Fleur.Node.ELEMENT_NODE||a.nodeType===Fleur.Node.ATTRIBUTE_NODE)&&(a.nodeType===Fleur.Node.ELEMENT_NODE?a.setAttribute("xsltforms_"+b,c):a.ownerElement?a.ownerElement.setAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b,c):a.oldOwnerElement?a.oldOwnerElement.setAttribute("xsltforms_"+
      (a.localName?a.localName:a.baseName)+"_"+b,c):a.selectSingleNode("..").setAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b,c))},XsltForms_browser.setDocMeta=function(a,b,c){XsltForms_browser.setMeta(a.documentElement,b,c)},XsltForms_browser.clearMeta=function(a){var b=0;if(a&&a.nodeType&&a.nodeType===Fleur.Node.ELEMENT_NODE){if(a.attributes)for(;a.attributes[b];){var c=a.attributes[b].localName?a.attributes[b].localName:a.attributes[b].baseName;"xsltforms_"===c.substr(0,10)?a.removeAttribute(c):
      b++}if(a.children)for(b=0,c=a.children.length;b<c;b++)XsltForms_browser.clearMeta(a.children[b])}},XsltForms_browser.setBoolMeta=function(a,b,c){a&&(c?a.nodeType===Fleur.Node.ELEMENT_NODE?a.setAttribute("xsltforms_"+b,"true"):a.ownerElement?a.ownerElement.setAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b,"true"):a.selectSingleNode("..").setAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b,"true"):a.nodeType===Fleur.Node.ELEMENT_NODE?a.removeAttribute("xsltforms_"+
      b):a.ownerElement?a.ownerElement.removeAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b):a.selectSingleNode("..").removeAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b))},XsltForms_browser.setTrueBoolMeta=function(a,b){a&&(a.nodeType===Fleur.Node.ELEMENT_NODE?a.setAttribute("xsltforms_"+b,"true"):a.ownerElement?a.ownerElement.setAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b,"true"):a.selectSingleNode("..").setAttribute("xsltforms_"+(a.localName?
      a.localName:a.baseName)+"_"+b,"true"))},XsltForms_browser.setFalseBoolMeta=function(a,b){a&&(a.nodeType===Fleur.Node.ELEMENT_NODE?a.removeAttribute("xsltforms_"+b):a.ownerElement?a.ownerElement.removeAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b):a.selectSingleNode("..").removeAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_"+b))},XsltForms_browser.setType=function(a,b){a&&(a.nodeType===Fleur.Node.ELEMENT_NODE?a.setAttribute("xsltforms_type",b):a.ownerElement?a.ownerElement.setAttribute("xsltforms_"+
      (a.localName?a.localName:a.baseName)+"_type",b):a.selectSingleNode("..").setAttribute("xsltforms_"+(a.localName?a.localName:a.baseName)+"_type",b))});XsltForms_browser.getNil=function(a){return a.nodeType===Fleur.Node.ELEMENT_NODE?a.getAttributeNS?"true"===a.getAttributeNS("http://www.w3.org/2001/XMLSchema-instance","nil"):(a=a.selectSingleNode("@*[local-name()='nil' and namespace-uri()='http://www.w3.org/2001/XMLSchema-instance']"))&&"true"===a.value:!1};
      XsltForms_browser.rmValueMeta=function(a,b,c){if(a){var d=XsltForms_browser.getMeta(a,b);d||="";c=" "+c+" ";var e=d.indexOf(c);-1!==e&&XsltForms_browser.setMeta(a,b,d.substring(0,e)+d.substring(e+c.length))}};XsltForms_browser.addValueMeta=function(a,b,c){if(a){var d=XsltForms_browser.getMeta(a,b);d||="";c=" "+c+" ";-1===d.indexOf(c)&&XsltForms_browser.setMeta(a,b,d+c)}};XsltForms_browser.inValueMeta=function(a,b,c){if(a)return-1!==String(XsltForms_browser.getMeta(a,b)).indexOf(" "+c+" ")};
      XsltForms_browser.md2string=function(a){var b=a.split("\n"),c=[],d=[];a=[];for(var e="",f=0,g=b.length;f<g;f++)""!==b[f].trim()?(c.push(b[f]),d.push(0)):0!==d.length&&d[d.length-1]++;var h=function(u){u=u.trim();for(var y=u.length-1;0<=y;y--)if("#"!==u.charAt(y))return u.substr(0,y+1).trim();return""},l,k=!0,m=!1,n=function(u){l=0;var y=u.charCodeAt(l);if(k||42!==y||43!==y||45!==y){for(;48<=y&&57>=y;)l++,y=u.charCodeAt(l);return 46===y&&0!==l&&32===u.charCodeAt(l+1)?l+2:-1}return 32===u.charCodeAt(1)?
      2:-1},p,q=!0,r=!1,t=function(u){p=0;var y=u.charCodeAt(p);if(42===y||43===y||45===y)return 32===u.charCodeAt(1)?2:-1;for(;48<=y&&57>=y;)p++,y=u.charCodeAt(p);return q||46!==y||0===p||32!==u.charCodeAt(p+1)?-1:p+2},x=function(u){for(var y="",z=!0,A=!0,w=!0,D=0,E=u.length;D<E;D++){var B=u.charAt(D);if("*"===B||"_"===B)u.charAt(D+1)===B?A&&-1!==u.substr(D+2).indexOf(B+B)||!A?(y+="<"+(A?"":"/")+"strong>",A=!A,D++):y+=B+B:z&&-1!==u.substr(D+1).replace(B+B,"").indexOf(B)||!z?(y+="<"+(z?"":"/")+"em>",z=
      !z):y+=B;else if("~"===B&&"~"===u.charAt(D+1))w&&-1!==u.substr(D+2).indexOf("~~")||!w?(y+="<"+(w?"":"/")+"del>",w=!w,D++):y+="~~";else if("["===B){var H="",I="";for(B=u.charAt(++D);D<E&&"]"!==B;)H+=B,B=u.charAt(++D);B=u.charAt(++D);if("("===B){for(B=u.charAt(++D);D<E&&")"!==B;)I+=B,B=u.charAt(++D);y+="<a href='"+I+"'>"+H+"</a>"}}else y+=B}return y},v=0;f=0;for(g=c.length;f<g;f++)if(c[f].startsWith("# "))a.push(["h1",x(h(c[f].substr(2)))]);else if(c[f].startsWith("## "))a.push(["h2",x(h(c[f].substr(3)))]);
      else if(c[f].startsWith("### "))a.push(["h3",x(h(c[f].substr(4)))]);else if(c[f].startsWith("#### "))a.push(["h4",x(h(c[f].substr(5)))]);else if(c[f].startsWith("##### "))a.push(["h5",x(h(c[f].substr(6)))]);else if(c[f].startsWith("###### "))a.push(["h6",x(h(c[f].substr(7)))]);else if(c[f].startsWith("---")&&c[f].trim()==="-".repeat(c[f].trim().length))0===a.length||"p"!==a[a.length-1][0]||0!==d[f-1]?a.push(["hr"]):a[a.length-1][0]="h2";else if(c[f].startsWith("===")&&c[f].trim()==="=".repeat(c[f].trim().length)&&
      0!==a.length&&"p"===a[a.length-1][0]&&0===d[f-1])a[a.length-1][0]="h1";else if(-1!==n(c[f])&&q){k&&(m=!1);var C=l;a.push(["",(k?"<ol><li>":"<li>")+(0!==d[f]&&f!==g-1&&-1!==n(c[f+1])||m?"<p>":"")+x(c[f].substr(C+1).trim())+(0!==d[f]&&f!==g-1&&-1!==n(c[f+1])||m?"</p>":"")+"</li></ol>"]);k||(a[v][1]=a[v][1].substr(0,a[v][1].length-5));v=a.length-1;k=!1;m=0!==d[f]}else-1!==t(c[f])?(q&&(r=!1),C=p,a.push(["",(q?"<ul><li>":"<li>")+(0!==d[f]&&f!==g-1&&-1!==t(c[f+1])||r?"<p>":"")+x(c[f].substr(C+1).trim())+
      (0!==d[f]&&f!==g-1&&-1!==t(c[f+1])||r?"</p>":"")+"</li></ul>"]),q||(a[v][1]=a[v][1].substr(0,a[v][1].length-5)),v=a.length-1,q=!1,r=0!==d[f]):0===a.length||"p"!==a[a.length-1][0]||0!==d[f-1]?a.push([1===b.length?"":"p",[x(c[f])]]):a[a.length-1][1].push(x(c[f]));f=0;for(g=a.length;f<g;f++){""!==a[f][0]&&(e+="<"+a[f][0]+">");if("p"===a[f][0])for(b=0,c=a[f][1].length;b<c;b++)0!==b&&(e+="<br/>"),e+=a[f][1][b];else 2===a[f].length&&(e+=a[f][1]);""!==a[f][0]&&(e+="</"+a[f][0]+">")}return e};
      XsltForms_browser.name2string=function(a){var b="";if(!a.nodeType)return"#notanode ("+a+")";switch(a.nodeType){case Fleur.Node.ATTRIBUTE_NODE:b="@";case Fleur.Node.ELEMENT_NODE:return a.namespaceURI&&""!==a.namespaceURI&&(b+="Q{"+a.namespaceURI+"}"),b+(a.baseName||a.localName);case Fleur.Node.ENTRY_NODE:return"?"+(a.baseName||a.localName);case Fleur.Node.TEXT_NODE:return"#text";case Fleur.Node.CDATA_NODE:return"#cdata";case Fleur.Node.PROCESSING_INSTRUCTION_NODE:return"#processing-instruction";case Fleur.Node.COMMENT_NODE:return"#comment";
      case Fleur.Node.DOCUMENT_NODE:return"#document";case Fleur.Node.MAP_NODE:return"#map";case Fleur.Node.ARRAY_NODE:return"#array";case Fleur.Node.SEQUENCE_NODE:return"#sequence"}};
      if(!XsltForms_browser.isIE&&!XsltForms_browser.isIE11){if("undefined"===typeof XMLDocument)var XMLDocument=Document;XMLDocument.prototype.selectNodes=function(a,b,c){try{var d=this.evaluate(a,c?c:this,this.createNSResolver(this.documentElement),b?XPathResult.FIRST_ORDERED_NODE_TYPE:XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);if(b)return d.singleNodeValue?d.singleNodeValue:null;b=0;for(var e=d.snapshotLength,f=[];b<e;b++)f.push(d.snapshotItem(b));return f}catch(g){d=[];switch(a){case "@*[local-name()='type' and namespace-uri()='http://www.w3.org/2001/XMLSchema-instance']":a=
      0;for(e=c.attributes.length;a<e;a++)if("type"===c.attributes[a].name&&"http://www.w3.org/2001/XMLSchema-instance"===c.attributes[a].namespaceURI){d.push(c.attributes[a]);break}break;case "@*[local-name()='nil' and namespace-uri()='http://www.w3.org/2001/XMLSchema-instance']":a=0;for(e=c.attributes.length;a<e;a++)if("nil"===c.attributes[a].name&&"http://www.w3.org/2001/XMLSchema-instance"===c.attributes[a].namespaceURI){d.push(c.attributes[a]);break}break;case "descendant::*[@xsltforms_notrelevant = 'true']":if(a=
      c.firstChild)for(;a!==c;)if(a.nodeType===Fleur.Node.ELEMENT_NODE&&"true"===a.getAttribute("xsltforms_notrelevant")&&d.push(a),a.firstChild)a=a.firstChild;else{for(;!a.nextSibling&&a!==c;)a=a.parentNode;a!==c&&(a=a.nextSibling)}break;case "descendant-or-self::*[@*[starts-with(name(),'xsltforms_')]]":if(c=c.parentNode,a=c.firstChild)for(;a!==c;){if(a.nodeType===Fleur.Node.ELEMENT_NODE)for(e=0,b=a.attributes.length;e<b;e++)if("xsltforms_"===a.attributes[e].name.substring(0,10)){d.push(a);break}if(a.firstChild)a=
      a.firstChild;else{for(;!a.nextSibling&&a!==c;)a=a.parentNode;a!==c&&(a=a.nextSibling)}}}return d}};XMLDocument.prototype.selectSingleNode=function(a){return this.selectNodes(a,!0)[0]};XMLDocument.prototype.createNode=function(a,b,c){switch(a){case Fleur.Node.ELEMENT_NODE:return this.createElementNS(c,b);case Fleur.Node.ATTRIBUTE_NODE:return this.createAttributeNS(c,b);default:return null}};Node.prototype.selectNodes=function(a){return this.ownerDocument.selectNodes(a,!1,this)};Node.prototype.selectSingleNode=
      function(a){return this.ownerDocument.selectNodes(a,!0,this)}}
      XsltForms_browser.debugConsole={element_:null,doc_:null,isInit_:!1,time_:0,init_:function(){this.element_=document.getElementById("xsltforms-console");this.isInit_=!0;this.time_=(new Date).getTime()},write:function(a){try{this.doc_||(this.doc_=XsltForms_browser.createXMLDocument('<tracelog xmlns=""/>'));var b=this.doc_.createElement("event");b.appendChild(this.doc_.createTextNode(XsltForms_browser.i18n.format(new Date,"yyyy-MM-ddThh:mm:ssz",!0)+" "+a));this.doc_.documentElement.appendChild(b);200===
      this.doc_.documentElement.children.length&&this.doc_.documentElement.removeChild(this.doc_.documentElement.firstChild)}catch(c){}},clear:function(){if(this.isOpen()){for(;this.element_.firstChild;)this.element_.removeChild(this.element_.firstChild);this.time_=(new Date).getTime()}},isOpen:function(){this.isInit_||this.init_();return this.element_}};
      XsltForms_browser.dialog={openPosition:{},dialogs:[],init:!1,initzindex:50,zindex:0,selectstack:[],dialogDiv:function(a){var b="string"!==typeof a?(b=a.getAttribute("id"))&&""!==b?XsltForms_idManager.find(b):a:XsltForms_idManager.find(a);b||XsltForms_browser.debugConsole.write("Unknown dialog("+a+")!");return b},show:function(a,b,c){if((a=this.dialogDiv(a))&&this.dialogs[this.dialogs.length-1]!==a){this.dialogs=XsltForms_browser.removeArrayItem(this.dialogs,a);this.dialogs.push(a);if(c){var d=document.getElementsByTagName("xforms-dialog-surround")[0];
      d.style.display="block";d.style.zIndex=2*(this.zindex+this.initzindex);this.zindex++}a.style.display="block";a.style.zIndex=2*(this.zindex+this.initzindex)-1;this.showSelects(a,!1,c);b?(c=XsltForms_browser.getAbsolutePos(b),XsltForms_browser.setPos(a,c.x,c.y+b.offsetHeight)):(b=XsltForms_browser.getWindowSize(),c=b.scrollY+(b.height-a.offsetHeight)/2,XsltForms_browser.setPos(a,(b.width-a.offsetWidth)/2,0<c?c:100))}},hide:function(a,b){if(a=this.dialogDiv(a)){var c=this.dialogs.length;this.dialogs=
      XsltForms_browser.removeArrayItem(this.dialogs,a);this.dialogs.length!==c&&(this.showSelects(a,!0,b),a.style.display="none",b&&(this.dialogs.length?(this.zindex--,document.getElementsByTagName("xforms-dialog-surround")[0].style.zIndex=2*(this.zindex+this.initzindex)-2,this.dialogs.length&&(this.dialogs[this.dialogs.length-1].style.zIndex=2*(this.zindex+this.initzindex)-1)):(this.zindex=0,document.getElementsByTagName("xforms-dialog-surround")[0].style.display="none",window.onscroll=null,window.onresize=
      null)))}},knownSelect:function(a){if(XsltForms_browser.isIE6)for(var b=0,c=this.zindex;b<c;b++)for(var d=0,e=this.selectstack[b].length;d<e;d++)if(this.selectstack[b][d].select===a)return!0;return!1},showSelects:function(a,b,c){if(XsltForms_browser.isIE6){for(var d=XsltForms_browser.isXhtml?document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","select"):document.getElementsByTagName("select"),e=XsltForms_browser.getAbsolutePos(a),f=a.offsetWidth,g=a.offsetHeight,h=[],l=0,k=d.length;l<k;l++){for(var m=
      d[l],n=m.parentNode;n&&n!==a;)n=n.parentNode;if(n!==a){n=XsltForms_browser.getAbsolutePos(m);var p=m.offsetHeight;n=n.x+m.offsetWidth>e.x&&n.x<e.x+f&&n.y+p>e.y&&n.y<e.y+g;if(c)if(b)for(h=this.selectstack[this.zindex],n=0,p=h.length;n<p;n++){if(h[n].select===m){m.disabled=h[n].disabled;m.style.visibility=h[n].visibility;break}}else h[h.length]={select:m,disabled:m.disabled,visibility:m.style.visibility},n?m.style.visibility="hidden":m.disabled=!0;else n&&(m.style.visibility=b?"":"hidden")}}c&&!b&&
      (this.selectstack[this.zindex-1]=h)}}};XsltForms_browser.events={};
      XsltForms_browser.isIE&&!XsltForms_browser.isIE9?(XsltForms_browser.events.attach=function(a,b,c,d){a.attachEvent("on"+b,function(e){c.call(window.event.srcElement,e)})},XsltForms_browser.events.detach=function(a,b,c,d){a.detachEvent("on"+b,c)},XsltForms_browser.events.getTarget=function(){return window.event.srcElement},XsltForms_browser.events.dispatch=function(a,b){a.fireEvent("on"+b,document.createEventObject())}):(XsltForms_browser.events.attach=function(a,b,c,d){a!==window||window.addEventListener||
      (a=document);a.addEventListener(b,c,d)},XsltForms_browser.events.detach=function(a,b,c,d){a!==window||window.addEventListener||(a=document);a.removeEventListener(b,c,d)},XsltForms_browser.events.getTarget=function(a){return a.target},XsltForms_browser.events.dispatch=function(a,b){var c=document.createEvent("Event");c.initEvent(b,!0,!0);a.dispatchEvent(c)});
      XsltForms_browser.i18n={messages:null,lang:null,langs:"cz de el en en_us es fr gl ko it ja nb_no nl nn_no pl pt ro ru si sk zh zh_cn zh_tw".split(" "),asyncinit:function(a){document.documentElement.lang&&(XsltForms_globals.language=document.documentElement.lang.replace("-","_").toLowerCase());if(!(XsltForms_globals.standalone||"navigator"!==XsltForms_globals.language&&XsltForms_browser.config&&XsltForms_globals.language===XsltForms_browser.selectSingleNodeText("language",XsltForms_browser.config))){var b=
      "navigator"===XsltForms_globals.language?navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage||"undefined":XsltForms_globals.language;b=b.replace("-","_").toLowerCase();var c=XsltForms_browser.inArray(b,XsltForms_browser.i18n.langs);c||(c=b.indexOf("_"),-1!==c&&(b=b.substring(0,c)),c=XsltForms_browser.inArray(b,XsltForms_browser.i18n.langs));XsltForms_globals.language="default";if(c){XsltForms_browser.loadProperties("config_"+b+".xsl",a);return}}a()},config_data:{"default":{"calendar.label":"...",
      "calendar.day0":"Mon","calendar.day1":"Tue","calendar.day2":"Wed","calendar.day3":"Thu","calendar.day4":"Fri","calendar.day5":"Sat","calendar.day6":"Sun","calendar.initDay":"6","calendar.month0":"January","calendar.month1":"February","calendar.month2":"March","calendar.month3":"April","calendar.month4":"May","calendar.month5":"June","calendar.month6":"July","calendar.month7":"August","calendar.month8":"September","calendar.month9":"October","calendar.month10":"November","calendar.month11":"December",
      "calendar.close":"Close","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":".",status:"... Loading ..."},cz:{"calendar.label":"...","calendar.day0":"Po","calendar.day1":"\u00dat","calendar.day2":"St","calendar.day3":"\u010ct","calendar.day4":"P\u00e1","calendar.day5":"So","calendar.day6":"Ne","calendar.initDay":"0","calendar.month0":"leden","calendar.month1":"\u00fanor","calendar.month2":"b\u0159ezen","calendar.month3":"duben","calendar.month4":"kv\u011bten","calendar.month5":"\u010derven",
      "calendar.month6":"\u010dervenec","calendar.month7":"srpen","calendar.month8":"z\u00e1\u0159\u00ed","calendar.month9":"\u0159\u00edjen","calendar.month10":"listopad","calendar.month11":"prosinec","calendar.close":"zav\u0159\u00edt","format.date":"dd.MM. yyyy","format.datetime":"dd.MM. yyyy, hh.mm:ss","format.decimal":",",status:"... Nahr\u00e1v\u00e1m ..."},de:{"calendar.label":"...","calendar.day0":"Mo","calendar.day1":"Di","calendar.day2":"Mi","calendar.day3":"Do","calendar.day4":"Fr","calendar.day5":"Sa",
      "calendar.day6":"So","calendar.initDay":"0","calendar.month0":"Januar","calendar.month1":"Februar","calendar.month2":"M\u00e4rz","calendar.month3":"April","calendar.month4":"Mai","calendar.month5":"Juni","calendar.month6":"Juli","calendar.month7":"August","calendar.month8":"September","calendar.month9":"Oktober","calendar.month10":"November","calendar.month11":"Dezember","calendar.close":"Schlie\u00dfen","format.date":"dd.MM.yyyy","format.datetime":"dd.MM.yyyy hh:mm:ss","format.decimal":",",status:"... Lade ..."},
      el:{"calendar.label":"...","calendar.day0":"\u0394\u03b5\u03c5","calendar.day1":"\u03a4\u03c1\u03b9","calendar.day2":"\u03a4\u03b5\u03c4","calendar.day3":"\u03a0\u03b5\u03bc","calendar.day4":"\u03a0\u03b1\u03c1","calendar.day5":"\u03a3\u03b1\u03b2","calendar.day6":"\u039a\u03c5\u03c1","calendar.initDay":"0","calendar.month0":"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","calendar.month1":"\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2","calendar.month2":"\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2",
      "calendar.month3":"\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2","calendar.month4":"\u039c\u03ac\u03b9\u03bf\u03c2","calendar.month5":"\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2","calendar.month6":"\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2","calendar.month7":"\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2","calendar.month8":"\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","calendar.month9":"\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2","calendar.month10":"\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2",
      "calendar.month11":"\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2","calendar.close":"\u039a\u03bf\u03bd\u03c4\u03ac","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":".",status:"... \u03a6\u03bf\u03c1\u03c4\u03ce\u03bd\u03bf\u03bd\u03c4\u03b1\u03b9 ..."},en:{"calendar.label":"...","calendar.day0":"Mon","calendar.day1":"Tue","calendar.day2":"Wed","calendar.day3":"Thu","calendar.day4":"Fri","calendar.day5":"Sat","calendar.day6":"Sun","calendar.initDay":"6",
      "calendar.month0":"January","calendar.month1":"February","calendar.month2":"March","calendar.month3":"April","calendar.month4":"May","calendar.month5":"June","calendar.month6":"July","calendar.month7":"August","calendar.month8":"September","calendar.month9":"October","calendar.month10":"November","calendar.month11":"December","calendar.close":"Close","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":".",status:"... Loading ..."},en_us:{"calendar.label":"...","calendar.day0":"Mon",
      "calendar.day1":"Tue","calendar.day2":"Wed","calendar.day3":"Thu","calendar.day4":"Fri","calendar.day5":"Sat","calendar.day6":"Sun","calendar.initDay":"6","calendar.month0":"January","calendar.month1":"February","calendar.month2":"March","calendar.month3":"April","calendar.month4":"May","calendar.month5":"June","calendar.month6":"July","calendar.month7":"August","calendar.month8":"September","calendar.month9":"October","calendar.month10":"November","calendar.month11":"December","calendar.close":"Close",
      "format.date":"MM/dd/yyyy","format.datetime":"MM/dd/yyyy hh:mm:ss","format.decimal":".","format-number.decimal-separator-sign":".","format-number.exponent-separator-sign":"e","format-number.grouping-separator-sign":",","format-number.infinity":"Infinity","format-number.minus-sign":"-","format-number.NaN":"NaN","format-number.percent-sign":"%","format-number.per-mille-sign":"\u2030",status:"... Loading ..."},es:{"calendar.label":"...","calendar.day0":"Lun","calendar.day1":"Mar","calendar.day2":"Mie",
      "calendar.day3":"Jue","calendar.day4":"Vie","calendar.day5":"Sab","calendar.day6":"Dom","calendar.initDay":"0","calendar.month0":"Enero","calendar.month1":"Febrero","calendar.month2":"Marzo","calendar.month3":"Abril","calendar.month4":"Mayo","calendar.month5":"Junio","calendar.month6":"Julio","calendar.month7":"Agosto","calendar.month8":"Septiembre","calendar.month9":"Octubre","calendar.month10":"Noviembre","calendar.month11":"Diciembre","calendar.close":"Cerrar","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss",
      "format.decimal":",",status:"... Cargando ..."},fr:{"calendar.label":"...","calendar.day0":"Lun","calendar.day1":"Mar","calendar.day2":"Mer","calendar.day3":"Jeu","calendar.day4":"Ven","calendar.day5":"Sam","calendar.day6":"Dim","calendar.initDay":"0","calendar.month0":"Janvier","calendar.month1":"F\u00e9vrier","calendar.month2":"Mars","calendar.month3":"Avril","calendar.month4":"Mai","calendar.month5":"Juin","calendar.month6":"Juillet","calendar.month7":"Ao\u00fbt","calendar.month8":"Septembre",
      "calendar.month9":"Octobre","calendar.month10":"Novembre","calendar.month11":"D\u00e9cembre","calendar.close":"Fermer","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":",","format-number.decimal-separator-sign":",","format-number.exponent-separator-sign":".10^","format-number.grouping-separator-sign":" ","format-number.infinity":"Infini","format-number.minus-sign":"-","format-number.NaN":"Non num\u00e9rique","format-number.percent-sign":"%","format-number.per-mille-sign":"\u2030",
      status:"Traitement en cours"},gl:{"calendar.label":"...","calendar.day0":"Lun","calendar.day1":"Mar","calendar.day2":"Mer","calendar.day3":"Xov","calendar.day4":"Ven","calendar.day5":"Sab","calendar.day6":"Dom","calendar.initDay":"0","calendar.month0":"Xaneiro","calendar.month1":"Febreiro","calendar.month2":"Marzo","calendar.month3":"Abril","calendar.month4":"Maio","calendar.month5":"Xu\u00f1o","calendar.month6":"Xulio","calendar.month7":"Agosto","calendar.month8":"Septembro","calendar.month9":"Outubro",
      "calendar.month10":"Novembro","calendar.month11":"Decembro","calendar.close":"Preto","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":",",status:"... Loading ..."},it:{"calendar.label":"...","calendar.day0":"Lun","calendar.day1":"Mar","calendar.day2":"Mer","calendar.day3":"Gio","calendar.day4":"Ven","calendar.day5":"Sab","calendar.day6":"Dom","calendar.initDay":"0","calendar.month0":"Gennaio","calendar.month1":"Febbraio","calendar.month2":"Marzo","calendar.month3":"Aprile",
      "calendar.month4":"Maggio","calendar.month5":"Giugno","calendar.month6":"Luglio","calendar.month7":"Agosto","calendar.month8":"Settembre","calendar.month9":"Ottobre","calendar.month10":"Novembre","calendar.month11":"Dicembre","calendar.close":"Chiudi","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":",",status:"Caricamento in corso"},ja:{"calendar.label":"...","calendar.day0":"\u6708","calendar.day1":"\u706b","calendar.day2":"\u6c34","calendar.day3":"\u6728","calendar.day4":"\u91d1",
      "calendar.day5":"\u571f","calendar.day6":"\u65e5","calendar.initDay":"6","calendar.month0":"1\u6708","calendar.month1":"2\u6708","calendar.month2":"3\u6708","calendar.month3":"4\u6708","calendar.month4":"5\u6708","calendar.month5":"6\u6708","calendar.month6":"7\u6708","calendar.month7":"8\u6708","calendar.month8":"9\u6708","calendar.month9":"10\u6708","calendar.month10":"11\u6708","calendar.month11":"12\u6708","calendar.close":"\u9589\u3058\u308b","format.date":"yyyy/MM/dd","format.datetime":"yyyy/MM/dd hh:mm:ss",
      "format.decimal":".",status:"... \u8aad\u307f\u8fbc\u307f\u4e2d ..."},ko:{"calendar.label":"...","calendar.day0":"\uc6d4","calendar.day1":"\ud654","calendar.day2":"\uc218","calendar.day3":"\ubaa9","calendar.day4":"\uae08","calendar.day5":"\ud1a0","calendar.day6":"\uc77c","calendar.initDay":"6","calendar.month0":"1\uc6d4","calendar.month1":"2\uc6d4","calendar.month2":"3\uc6d4","calendar.month3":"4\uc6d4","calendar.month4":"5\uc6d4","calendar.month5":"6\uc6d4","calendar.month6":"7\uc6d4","calendar.month7":"8\uc6d4",
      "calendar.month8":"9\uc6d4","calendar.month9":"10\uc6d4","calendar.month10":"11\uc6d4","calendar.month11":"12\uc6d4","calendar.close":"\ub2eb\uae30","format.date":"yyyy-MM-dd","format.datetime":"yyyy-MM-dd hh:mm:ss","format.decimal":".",status:"... \ub85c\ub4dc\ud558\ub294 \uc911 ..."},nb_no:{"calendar.label":"...","calendar.day0":"Man","calendar.day1":"Tir","calendar.day2":"Ons","calendar.day3":"Tor","calendar.day4":"Fre","calendar.day5":"L\u00f8r","calendar.day6":"S\u00f8n","calendar.initDay":"0",
      "calendar.month0":"Januar","calendar.month1":"Februar","calendar.month2":"Mars","calendar.month3":"April","calendar.month4":"Mai","calendar.month5":"Juni","calendar.month6":"Juli","calendar.month7":"August","calendar.month8":"September","calendar.month9":"Oktober","calendar.month10":"November","calendar.month11":"Desember","calendar.close":"Lukk","format.date":"dd.MM.yyyy","format.datetime":"dd.MM.yyyy kl. hh.mm.ss","format.decimal":",",status:"... Loading ..."},nl:{"calendar.label":"...","calendar.day0":"Ma",
      "calendar.day1":"Di","calendar.day2":"Wo","calendar.day3":"Do","calendar.day4":"Vr","calendar.day5":"Za","calendar.day6":"Zo","calendar.initDay":"6","calendar.month0":"januari","calendar.month1":"februari","calendar.month2":"maart","calendar.month3":"april","calendar.month4":"mei","calendar.month5":"juni","calendar.month6":"juli","calendar.month7":"augustus","calendar.month8":"september","calendar.month9":"oktober","calendar.month10":"november","calendar.month11":"december","calendar.close":"dichtbij",
      "format.date":"dd-MM-yyyy","format.datetime":"dd-MM-yyyy hh:mm:ss","format.decimal":",",status:"... Laden ..."},nn_no:{"calendar.label":"...","calendar.day0":"M\u00e5n","calendar.day1":"Tys","calendar.day2":"Ons","calendar.day3":"Tor","calendar.day4":"Fre","calendar.day5":"Lau","calendar.day6":"Sun","calendar.initDay":"0","calendar.month0":"Januar","calendar.month1":"Februar","calendar.month2":"Mars","calendar.month3":"April","calendar.month4":"Mai","calendar.month5":"Juni","calendar.month6":"Juli",
      "calendar.month7":"August","calendar.month8":"September","calendar.month9":"Oktober","calendar.month10":"November","calendar.month11":"Desember","calendar.close":"Lukk","format.date":"dd.MM.yyyy","format.datetime":"dd.MM.yyyy kl. hh.mm.ss","format.decimal":",",status:"... Loading ..."},pl:{"calendar.label":"...","calendar.day0":"Pon","calendar.day1":"Wt","calendar.day2":"\u015ar","calendar.day3":"Czw","calendar.day4":"Pt","calendar.day5":"Sob","calendar.day6":"Niedz","calendar.initDay":"0","calendar.month0":"Stycze\u0144",
      "calendar.month1":"Luty","calendar.month2":"Marzec","calendar.month3":"Kwiecie\u0144","calendar.month4":"Maj","calendar.month5":"Czerwiec","calendar.month6":"Lipiec","calendar.month7":"Sierpie\u0144","calendar.month8":"Wrzesie\u0144","calendar.month9":"Pa\u017adziernik","calendar.month10":"Listopad","calendar.month11":"Grudzie\u0144","calendar.close":"Blisko","format.date":"yyyy-MM-dd","format.datetime":"yyyy-MM-dd hh:mm:ss","format.decimal":".",status:"... Wczytywanie ..."},pt:{"calendar.label":"...",
      "calendar.day0":"Seg","calendar.day1":"Ter","calendar.day2":"Qua","calendar.day3":"Qui","calendar.day4":"Sex","calendar.day5":"Sab","calendar.day6":"Dom","calendar.initDay":"0","calendar.month0":"Janeiro","calendar.month1":"Fevereiro","calendar.month2":"Mar\u00e7o","calendar.month3":"Abril","calendar.month4":"Maio","calendar.month5":"Junho","calendar.month6":"Julho","calendar.month7":"Agosto","calendar.month8":"Setembro","calendar.month9":"Outubro","calendar.month10":"Novembro","calendar.month11":"Dezembro",
      "calendar.close":"Fechar","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":",",status:"... A carregar ..."},ro:{"calendar.label":"...","calendar.day0":"Lun","calendar.day1":"Mar","calendar.day2":"Mie","calendar.day3":"Joi","calendar.day4":"Vin","calendar.day5":"S\u00e2m","calendar.day6":"Dum","calendar.initDay":"0","calendar.month0":"Ianurie","calendar.month1":"Februarie","calendar.month2":"Martie","calendar.month3":"Aprilie","calendar.month4":"Mai","calendar.month5":"Iunie",
      "calendar.month6":"Iulie","calendar.month7":"August","calendar.month8":"Septembrie","calendar.month9":"Octombrie","calendar.month10":"Noiembrie","calendar.month11":"Decembrie","calendar.close":"\u00cenchide","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":",",status:"... \u00cenc\u0103rcare pagin\u0103 ..."},ru:{"calendar.label":"...","calendar.day0":"\u041f\u043e\u043d","calendar.day1":"\u0412\u0442\u043e","calendar.day2":"\u0421\u0440\u0435","calendar.day3":"\u0427\u0435\u0442",
      "calendar.day4":"\u041f\u044f\u0442","calendar.day5":"\u0421\u0443\u0431","calendar.day6":"\u0412\u043e\u0441","calendar.initDay":"0","calendar.month0":"\u042f\u043d\u0432\u0430\u0440\u044c","calendar.month1":"\u0424\u0435\u0432\u0440\u0430\u043b\u044c","calendar.month2":"\u041c\u0430\u0440\u0442","calendar.month3":"\u0410\u043f\u0440\u0435\u043b\u044c","calendar.month4":"\u041c\u0430\u0439","calendar.month5":"\u0418\u044e\u043d\u044c","calendar.month6":"\u0418\u044e\u043b\u044c","calendar.month7":"\u0410\u0432\u0433\u0443\u0441\u0442",
      "calendar.month8":"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","calendar.month9":"\u041e\u043a\u0442\u044f\u0431\u0440\u044c","calendar.month10":"\u041d\u043e\u044f\u0431\u0440\u044c","calendar.month11":"\u0414\u0435\u043a\u0430\u0431\u0440\u044c","calendar.close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c","format.date":"dd.MM.yyyy","format.datetime":"dd.MM.yyyy hh:mm:ss","format.decimal":",",status:"... \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 ..."},si:{"calendar.label":"...","calendar.day0":"Pon",
      "calendar.day1":"Tor","calendar.day2":"Sre","calendar.day3":"\u010cet","calendar.day4":"Pet","calendar.day5":"Sob","calendar.day6":"Ned","calendar.initDay":"0","calendar.month0":"Januar","calendar.month1":"Februar","calendar.month2":"Marec","calendar.month3":"April","calendar.month4":"Maj","calendar.month5":"Junij","calendar.month6":"Julij","calendar.month7":"Avgust","calendar.month8":"September","calendar.month9":"Oktober","calendar.month10":"November","calendar.month11":"December","calendar.close":"Zapri",
      "format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":",",status:"... Nalagam ..."},sk:{"calendar.label":"...","calendar.day0":"pondelok","calendar.day1":"utorok","calendar.day2":"streda","calendar.day3":"\u0161tvrtok","calendar.day4":"piatok","calendar.day5":"sobota","calendar.day6":"nede\u013ea","calendar.initDay":"0","calendar.month0":"Janu\u00e1r","calendar.month1":"Febru\u00e1r","calendar.month2":"Marec","calendar.month3":"Apr\u00edl","calendar.month4":"M\u00e1j",
      "calendar.month5":"J\u00fan","calendar.month6":"J\u00fal","calendar.month7":"August","calendar.month8":"September","calendar.month9":"Okt\u00f3ber","calendar.month10":"November","calendar.month11":"December","calendar.close":"Zavrie\u0165","format.date":"dd/MM/yyyy","format.datetime":"dd/MM/yyyy hh:mm:ss","format.decimal":",",status:"... Na\u010d\u00edtavam ..."},zh_cn:{"calendar.label":"...","calendar.day0":"\u5468\u4e00","calendar.day1":"\u5468\u4e8c","calendar.day2":"\u5468\u4e09","calendar.day3":"\u5468\u56db",
      "calendar.day4":"\u5468\u4e94","calendar.day5":"\u5468\u516d","calendar.day6":"\u5468\u65e5","calendar.initDay":"6","calendar.month0":"\u4e00\u6708","calendar.month1":"\u4e8c\u6708","calendar.month2":"\u4e09\u6708","calendar.month3":"\u56db\u6708","calendar.month4":"\u4e94\u6708","calendar.month5":"\u516d\u6708","calendar.month6":"\u4e03\u6708","calendar.month7":"\u516b\u6708","calendar.month8":"\u4e5d\u6708","calendar.month9":"\u5341\u6708","calendar.month10":"\u5341\u4e00\u6708","calendar.month11":"\u5341\u4e8c\u6708",
      "calendar.close":"\u5173\u95ed","format.date":"yyyy/MM/dd","format.datetime":"yyyy/MM/dd hh:mm:ss","format.decimal":".",status:"... \u6b63\u5728\u52a0\u8f7d ..."},zh_tw:{"calendar.label":"...","calendar.day0":"\u661f\u671f\u4e00","calendar.day1":"\u661f\u671f\u4e8c","calendar.day2":"\u661f\u671f\u4e09","calendar.day3":"\u661f\u671f\u56db","calendar.day4":"\u661f\u671f\u4e94","calendar.day5":"\u661f\u671f\u516d","calendar.day6":"\u661f\u671f\u65e5","calendar.initDay":"6","calendar.month0":"1 \u6708",
      "calendar.month1":"2 \u6708","calendar.month2":"3 \u6708","calendar.month3":"4 \u6708","calendar.month4":"5 \u6708","calendar.month5":"6 \u6708","calendar.month6":"7 \u6708","calendar.month7":"8 \u6708","calendar.month8":"9 \u6708","calendar.month9":"10 \u6708","calendar.month10":"11 \u6708","calendar.month11":"12 \u6708","calendar.close":"\u95dc\u9589","format.date":"yyyy/MM/dd","format.datetime":"yyyy/MM/dd hh:mm:ss","format.decimal":".",status:"... \u6b63\u5728\u8f09\u5165 ..."},zh:{"calendar.label":"...",
      "calendar.day0":"\u4e00","calendar.day1":"\u4e8c","calendar.day2":"\u4e09","calendar.day3":"\u56db","calendar.day4":"\u4e94","calendar.day5":"\u516d","calendar.day6":"\u65e5","calendar.initDay":"6","calendar.month0":"\u4e00\u6708","calendar.month1":"\u4e8c\u6708","calendar.month2":"\u4e09\u6708","calendar.month3":"\u56db\u6708","calendar.month4":"\u4e94\u6708","calendar.month5":"\u516d\u6708","calendar.month6":"\u4e03\u6708","calendar.month7":"\u516b\u6708","calendar.month8":"\u4e5d\u6708","calendar.month9":"\u5341\u6708",
      "calendar.month10":"\u5341\u4e00\u6708","calendar.month11":"\u5341\u4e8c\u6708","calendar.close":"\u5173","format.date":"yyyy-MM-dd","format.datetime":"yyyy-MM-dd hh:mm:ss","format.decimal":".",status:"... \u88c5\u8f7d\u4e2d ..."}},get:function(a,b){if(!XsltForms_globals.standalone){if(!XsltForms_browser.config||"dummy"===XsltForms_browser.config.nodeName)return"Initializing"}else if("navigator"!==XsltForms_globals.language)return XsltForms_browser.i18n.config_data[XsltForms_globals.language][a]||
      XsltForms_browser.i18n.config_data.default[a]||b;if("navigator"===XsltForms_globals.language||XsltForms_globals.language!==XsltForms_browser.selectSingleNodeText("language",XsltForms_browser.config)){var c="navigator"===XsltForms_globals.language?navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage||"undefined":XsltForms_browser.selectSingleNodeText("language",XsltForms_browser.config);c=c.replace("-","_").toLowerCase();var d=XsltForms_browser.inArray(c,XsltForms_browser.i18n.langs);
      d||(d=c.indexOf("_"),-1!==d&&(c=c.substring(0,d)),d=XsltForms_browser.inArray(c,XsltForms_browser.i18n.langs));if(d){if(XsltForms_globals.standalone)return XsltForms_browser.i18n.config_data[c][a]||XsltForms_browser.i18n.config_data.default[a]||b;XsltForms_browser.loadProperties("config_"+c+".xsl");XsltForms_globals.language=XsltForms_browser.selectSingleNodeText("language",XsltForms_browser.config)}else XsltForms_globals.language="default"}return XsltForms_browser.selectSingleNodeText(a,XsltForms_browser.config,
      b)},parse:function(a,b,c){var d=!0;if(!a||a.match("^\\s*$"))return null;var e=b;b||=c?"hh:mm:ss":XsltForms_browser.i18n.get("format.datetime");var f=new Date(2E3,0,1);c||(d&=XsltForms_browser.i18n._parse(f,"Year",a,b,"yyyy"),d&=XsltForms_browser.i18n._parse(f,"Month",a,b,"MM"),d&=XsltForms_browser.i18n._parse(f,"Date",a,b,"dd"));XsltForms_browser.i18n._parse(f,"Hours",a,b,"hh");XsltForms_browser.i18n._parse(f,"Minutes",a,b,"mm");XsltForms_browser.i18n._parse(f,"Seconds",a,b,"ss");!e&&XsltForms_globals.AMPM&&
      (b=XsltForms_browser.i18n.get("format.time.AM").toLowerCase(),a.substr(a.length-b.length).toLowerCase()===b?12===f.getHours()&&f.setHours(0):12!==f.getHours()&&f.setHours(f.getHours()+12));return d?f:a},format:function(a,b,c,d){var e;if(!a)return"";if("string"===typeof a)return a;var f=b;f||=d?"hh:mm:ss":XsltForms_browser.i18n.get("format.datetime");var g=f;d||(f=XsltForms_browser.i18n._format(f,c?a.getDate():a.getUTCDate(),"dd"),f=XsltForms_browser.i18n._format(f,(c?a.getMonth():a.getUTCMonth())+
      1,"MM"),d=c?a.getFullYear():a.getUTCFullYear(),f=XsltForms_browser.i18n._format(f,100>d?(d<(new Date).getFullYear()%100+20?2E3:1900)+d:d,"yyyy"));f=XsltForms_browser.i18n._format(f,e=c?a.getSeconds():a.getUTCSeconds(),"ss");f=XsltForms_browser.i18n._format(f,c?a.getMinutes():a.getUTCMinutes(),"mm");f=XsltForms_browser.i18n._format(f,d=c?a.getHours():a.getUTCHours(),"hh",!b);a=a.getTimezoneOffset();f=XsltForms_browser.i18n._format(f,c?(0>a?"+":"-")+XsltForms_browser.zeros(Math.floor(Math.abs(a)/60),
      2)+":"+XsltForms_browser.zeros(Math.abs(a)%60,2):"Z","z");!b&&XsltForms_globals.AMPM&&(0===e&&":ss"===g.substr(g.length-3)&&(f=f.substr(0,f.length-3)),f+=" "+XsltForms_browser.i18n.get(12>d?"format.time.AM":"format.time.PM"));return f},parseDate:function(a){return XsltForms_browser.i18n.parse(a,XsltForms_browser.i18n.get("format.date"))},formatDate:function(a){return XsltForms_browser.i18n.format(a,XsltForms_browser.i18n.get("format.date"),!0)},formatDateTime:function(a){return XsltForms_browser.i18n.format(a,
      XsltForms_browser.i18n.get("format.datetime"),!0)},formatNumber:function(a,b){if(isNaN(a))return a;var c=String(Math.abs(a)),d=c.indexOf("."),e=parseInt(-1!==d?c.substring(0,d):c,10);c=-1!==d?c.substring(d+1):"";d=XsltForms_browser.i18n.get("format.decimal");return(0>a?"-":"")+e+(0<b?d+XsltForms_browser.zeros(c,b,!0):c?d+c:"")},parseNumber:function(a){var b=XsltForms_browser.i18n.get("format.decimal");if(!a.match("^[\\-+]?([0-9]+(\\"+b+"[0-9]*)?|\\"+b+"[0-9]+)$"))throw"Invalid number "+a;var c=a.indexOf(b);
      b=Math.abs(parseInt(-1!==c?a.substring(0,c):a,10));c=-1!==c?a.substring(c+1):null;return("-"===a.substring(0,1)?"-":"")+b+(c?"."+c:"")},_format:function(a,b,c,d){var e=c.length;d&&"hh"===c&&XsltForms_globals.AMPM&&(b%=12,0===b&&(b=12),e=1);return a.replace(c,XsltForms_browser.zeros(b,e))},_parse:function(a,b,c,d,e){var f=!1;if(-1!==d.indexOf(e)){d=d.replace(RegExp("\\.","g"),"\\.");d=d.replace(RegExp("\\(","g"),"\\(");d=d.replace(RegExp("\\)","g"),"\\)");d=d.replace(new RegExp(e),"("+e+")!!!");d=
      d.replace(RegExp("yyyy"),"[12][0-9]{3}");d=d.replace(RegExp("MM"),"(?:0?[1-9](?![0-9])|1[0-2])");d=d.replace(RegExp("dd"),"(?:0?[1-9](?![0-9])|[1-2][0-9]|30|31)");d=d.replace(RegExp("hh"),"(?:0?[0-9](?![0-9])|1[0-9]|20|21|22|23)");d=d.replace(RegExp("mm"),"[0-5][0-9]");d=d.replace(RegExp("ss"),"[0-5][0-9]");d="^"+d.substring(0,d.indexOf(")!!!")+1)+"[^0-9]*.*";e=new RegExp(d);d="00";e.test(c)&&(d=c.replace(e,"$1"),f=!0);"0"===d.charAt(0)&&(d=d.substring(1));d=parseInt(d,10);if(isNaN(d))return!1;c=
      new Date;c=c.getFullYear()-2E3;a["set"+b]("Month"===b?d-1:"Year"===b&&d<=c+10?d+2E3:d);return f}}};
      function XsltForms_numberList(a,b,c,d,e,f){this.element=XsltForms_browser.createElement("ul",a,null,b);this.move=0;this.input=c;this.min=d;this.max=e;this.minlength=f||1;var g=this;this.createChild("+",function(){g.start(1)},function(){g.stop()});for(a=0;7>a;a++)this.createChild(" ",function(h){g.input.value=XsltForms_browser.events.getTarget(h).childNodes[0].nodeValue;g.close();XsltForms_browser.events.dispatch(g.input,"change")});this.createChild("-",function(){g.start(-1)},function(){g.stop()})}
      XsltForms_numberList.prototype.show=function(){var a=this.input;this.current=parseInt(a.value,10);this.refresh();XsltForms_browser.dialog.show(this.element,a,!1)};XsltForms_numberList.prototype.close=function(){XsltForms_browser.dialog.hide(this.element,!1)};
      XsltForms_numberList.prototype.createChild=function(a,b,c){a=XsltForms_browser.createElement("li",this.element,a);XsltForms_browser.initHover(a);c?(XsltForms_browser.events.attach(a,"mousedown",b),XsltForms_browser.events.attach(a,"mouseup",c)):XsltForms_browser.events.attach(a,"click",b)};
      XsltForms_numberList.prototype.refresh=function(){var a=this.element.childNodes,b=this.current;b>=this.max-3?b=this.max-3:b<=this.min+3&&(b=this.min+3);b+=4;for(var c=1;8>c;c++){XsltForms_browser.setClass(a[c],"xsltforms-listHover",!1);for(var d=String(b-c);d.length<this.minlength;)d="0"+d;a[c].firstChild.nodeValue=d}};XsltForms_numberList.prototype.start=function(a){this.move=a;XsltForms_numberList.current=this;this.run()};XsltForms_numberList.prototype.stop=function(){this.move=0};
      XsltForms_numberList.prototype.run=function(){if(0<this.move&&this.current+3<this.max||0>this.move&&this.current-3>this.min)this.current+=this.move,this.refresh(),setTimeout(XsltForms_numberList.current.run,60)};XsltForms_numberList.current=null;
      XsltForms_browser.forEach=function(a,b){for(var c=[],d=0,e=arguments.length-2;d<e;d++)c[d]=arguments[d+2];if(a)if("number"===typeof a.length){var f=0;for(d=a.length;f<d;f++){e=a[f];var g="string"===typeof b?e[b]:b;g&&g.apply(e,c)}}else for(f in a)a.hasOwnProperty(f)&&(d=a[f],("string"===typeof b?d[b]:b).apply(d,c))};
      XsltForms_browser.assert=function(a,b){if(!a&&XsltForms_browser.debugConsole.isOpen()){XsltForms_globals.debugMode||(XsltForms_globals.debugMode=!0,XsltForms_globals.debugging());XsltForms_browser.debugConsole.write("Assertion failed: "+b);try{XsltForms_undefined()}catch(d){d.stack&&(this.callstack=d.stack.split("\n"),this.callstack.shift(),this.callstack.shift())}if(this.callstack){a=0;for(var c=this.callstack.length;a<c;a++)XsltForms_browser.debugConsole.write("> "+this.callstack[a])}throw Error(b||
      "Assertion failed");}};XsltForms_browser.inArray=function(a,b){for(var c=0,d=b.length;c<d;c++)if(a===b[c])return!0;return!1};XsltForms_browser.zeros=function(a,b,c){a=String(a);if(c)for(;a.length<b;)a+="0";else for(;a.length<b;)a="0"+a;return a};
      XsltForms_browser.getValue=function(a,b,c){XsltForms_browser.assert(a);if(c)return a.nodeType===Fleur.Node.ATTRIBUTE_NODE?a.nodeValue:XsltForms_browser.saveNode(a,"application/xml");if((c=void 0!==a.text?a.text:a.textContent)&&b&&(a=XsltForms_schema.getType(XsltForms_browser.getType(a)||"xsd_:string"),a.format&&a.validate(c)))try{c=a.format(c)}catch(d){}return c};
      XsltForms_browser.splitNode=function(a,b,c,d){XsltForms_browser.assert(a);b=(void 0!==a.text?a.text:a.textContent).split(b);for(var e=a.ownerDocument.createArray(),f=0,g=b.length;f<g;f++)if(c&&d){var h=b[f].replace(c,"").replace(d,"");""!==h&&e.appendChild(a.ownerDocument.createTextNode(h))}else e.appendChild(a.ownerDocument.createTextNode(b[f]));if(a.nodeType===Fleur.Node.TEXT_NODE)a.parentNode.replaceChild(e,a);else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(e)}};
      XsltForms_browser.getValueItemsetCopy=function(a){XsltForms_browser.assert(a);var b=[];if(a.childNodes)for(var c=0,d=a.childNodes.length;c<d;c++)a.childNodes[c].nodeType===Fleur.Node.ELEMENT_NODE&&b.push(XsltForms_browser.saveNode(a.childNodes[c],"application/xml"));return b};
      XsltForms_browser.setValue=function(a,b){XsltForms_browser.assert(a);var c=document.getElementById(XsltForms_browser.getDocMeta(a.nodeType===Fleur.Node.DOCUMENT_NODE?a:a.ownerDocument,"instance"));c&&c.xfElement&&(c.xfElement.modified=!0);if(a.nodeType===Fleur.Node.ATTRIBUTE_NODE||a.nodeType===Fleur.Node.TEXT_NODE)a.nodeValue=b;else if(!XsltForms_browser.isIE||!a.innerHTML||b instanceof Array){for(;a.firstChild;)a.removeChild(a.firstChild);if(b)if(b instanceof Array){c=0;for(var d=b.length;c<d;c++){var e=
      a.ownerDocument.createElement("dummy");a.appendChild(e);XsltForms_browser.loadNode(e,b[c],"application/xml")}}else for(c=0,d=b.length;c<d;c+=4096)try{a.appendChild(a.ownerDocument.createTextNode(b.substr(c,4096)))}catch(f){XsltForms_browser.debugConsole.write("ERROR: Cannot set value "+b+" on "+XsltForms_browser.name2string(a)+"; "+f.message)}}else a.innerHTML=XsltForms_browser.escape(b)};
      XsltForms_browser.run=function(a,b,c,d,e){XsltForms_xmlevents.EventContexts.push(c);d?(XsltForms_browser.dialog.show("xsltforms-status-panel",null,!1),setTimeout(function(){XsltForms_globals.openAction("XsltForms_browser.run#1");a.execute(document.getElementById(b),null,c);XsltForms_browser.dialog.hide("xsltforms-status-panel",!1);e||c.stopPropagation();XsltForms_globals.closeAction("XsltForms_browser.run#1");XsltForms_xmlevents.EventContexts.pop()},1)):(XsltForms_globals.openAction("XsltForms_browser.run#2"),
      a.execute(b,null,c),e||c.stopPropagation(),XsltForms_globals.closeAction("XsltForms_browser.run#2"),XsltForms_xmlevents.EventContexts.pop())};XsltForms_browser.getId=function(a){return a.id?a.id:a.parentNode.parentNode.parentNode.parentNode.id};XsltForms_browser.show=function(a,b,c){XsltForms_browser.setClass(a.parentNode.lastChild,"xforms-hidden",!c)};XsltForms_browser.copyArray=function(a,b){if(b)for(var c=0,d=a.length;c<d;c++)b[c]=a[c]};
      XsltForms_browser.removeArrayItem=function(a,b){for(var c=[],d=0,e=a.length;d<e;d++)a[d]!==b&&c.push(a[d]);return c};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,"")};String.prototype.addslashes=function(){return this.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/"/g,'\\"')};
      function fleur(a){let b,c;var d=XsltForms_globals.defaultModel.getInstanceDocument().documentElement;d=new XsltForms_exprContext(XsltForms_subform.subforms["xsltforms-mainform"],d,null,null,null,new Fleur.XPathNSResolver,d,null);let e;if(Fleur.minimal)try{c=Fleur.XPathEvaluator._xp2js(a,"","");e=eval(c);c=XsltForms_FleurConv[e[0]](e[1]);c=eval(c);let f=c.evaluate(d);switch(typeof f){case "number":b=String(f);break;case "boolean":b=String(f)+"()";break;case "string":b='"'+f+'"';break;case "object":if(0===
      f.length)b="()";else if(1===f.length)b=XsltForms_browser.saveNode(f[0],"application/xml");else{b="("+XsltForms_browser.saveNode(f[0],"application/xml");for(let g=1,h=f.length;g<h;g++)b+=","+XsltForms_browser.saveNode(f[g],"application/xml");b+=")"}}}catch(f){b="Error: "+(f.message.startsWith("~~~~")?f.message.substr(4,f.message.length-8):f.message)}else try{e=Fleur.XQueryParser._xp2js(a,[],[],0);c=(new Fleur.Transpiler("ctx","  ")).funcdef(e);c=eval(c);let f=c(new Fleur.Context(d.node,{nsresolver:d.nsresolver},
      d.depsNodes,d.depsElements)).item;b=Fleur.Serializer._serializeNodeToXQuery(f,!1,"")}catch(f){b="Error "+f.localName+": "+f.description+" ["+(f.value.schemaTypeInfo?Fleur.Serializer._serializeNodeToXQuery(f.value,!1,""):f.value.data)+"]"}return b}
      const XsltForms_debugger={active:!1,open:function(){XsltForms_debugger.active=!0;XsltForms_debugger.xfdebugger=document.createElement("xforms-debugger");XsltForms_debugger.xfbody=document.createElement("xforms-body");XsltForms_debugger.xfgutter=document.createElement("xforms-gutter");XsltForms_debugger.xfboard=document.createElement("xforms-board");for(let c=0,d=document.body.childNodes.length;c<d;c++)XsltForms_debugger.xfbody.appendChild(document.body.firstChild);XsltForms_debugger.xfboard.innerHTML=
      '<svg xmlns="http://www.w3.org/2000/svg" style="float:right; cursor:pointer" onclick="XsltForms_debugger.close()" height="20" width="20"><g transform="translate(4,4) scale (0.5,0.5)"><path stroke-miterlimit="4" d="M 0,0 20,20" style="opacity:1;fill:grey;stroke:grey;stroke-width:5;stroke-linecap:round;stroke-miterlimit:4;fill-opacity:1;stroke-opacity:1"/><path stroke-miterlimit="4" d="M 0,20 20,0" style="opacity:1;fill:grey;stroke:grey;stroke-width:5;stroke-linecap:round;stroke-miterlimit:4;fill-opacity:1;stroke-opacity:1"/></g></svg>';
      XsltForms_debugger.xfboard.innerHTML+="XForms Debugger (XSLTForms "+XsltForms_globals.fileVersion+(Fleur.version?" + Fleur "+Fleur.version:"")+")<br>&gt; <i>XPath expression</i><br>";XsltForms_debugger.xfhistory=document.createElement("xforms-console-history");XsltForms_debugger.xfboard.appendChild(XsltForms_debugger.xfhistory);const a=document.createElement("xforms-body");a.innerHTML="<span style='vertical-align:top'>&gt; </span><textarea id='xforms-debugger-textarea' oninput='(elt => elt.style.height = elt.scrollHeight + \"px\")(this)' autofocus></textarea>";
      XsltForms_debugger.xfboard.appendChild(a);XsltForms_debugger.xfdebugger.appendChild(XsltForms_debugger.xfbody);XsltForms_debugger.xfdebugger.appendChild(XsltForms_debugger.xfgutter);XsltForms_debugger.xfdebugger.appendChild(XsltForms_debugger.xfboard);document.body.appendChild(XsltForms_debugger.xfdebugger);let b=!1;XsltForms_debugger.draggingdown=c=>b=c.target===XsltForms_debugger.xfgutter;XsltForms_debugger.draggingmove=c=>{b&&(XsltForms_debugger.xfbody.style.height=Number(Math.max(200,c.clientY-
      XsltForms_debugger.xfdebugger.offsetTop-4))+"px",XsltForms_debugger.xfbody.style.flexGrow=0,c.preventDefault())};XsltForms_debugger.draggingup=()=>b=!1;document.addEventListener("mousedown",XsltForms_debugger.draggingdown);document.addEventListener("mousemove",XsltForms_debugger.draggingmove);document.addEventListener("mouseup",XsltForms_debugger.draggingup);XsltForms_debugger.textarea=document.getElementById("xforms-debugger-textarea");XsltForms_debugger.textarea.addEventListener("keypress",c=>{if(13===
      c.keyCode&&!c.altKey&&!c.ctrlKey&&!c.shiftKey){if(""===c.target.value.trim()){var d=document.createElement("xforms-expression");d.textContent=">";XsltForms_debugger.xfhistory.appendChild(d)}else d=document.createElement("xforms-expression"),d.textContent="> "+c.target.value,XsltForms_debugger.xfhistory.appendChild(d),d=document.createElement("xforms-result"),d.textContent=fleur(c.target.value),XsltForms_debugger.xfhistory.appendChild(d);XsltForms_debugger.textarea.value="";c.target.style.height=c.target.scrollHeight+
      "px";c.stopPropagation();c.preventDefault()}})},close:function(){document.removeEventListener("mousedown",XsltForms_debugger.draggingdown);document.removeEventListener("mousemove",XsltForms_debugger.draggingmove);document.removeEventListener("mouseup",XsltForms_debugger.draggingup);for(let a=0,b=XsltForms_debugger.xfbody.childNodes.length;a<b;a++)document.body.appendChild(XsltForms_debugger.xfbody.firstChild);document.body.removeChild(XsltForms_debugger.xfdebugger);XsltForms_debugger.active=!1}};
      function XsltForms_subform(a,b,c){this.subform=a;this.id=b;if(this.eltid=c)document.getElementById(c).xfSubform=this;this.models=[];this.schemas=[];this.instances=[];this.binds=[];this.xpaths=[];this.expressions={};this.subforms=[];this.listeners=[];this.ready=!1;a&&a.subforms.push(this);XsltForms_subform.subforms[b]=this}XsltForms_subform.subforms={};new XsltForms_subform(null,"xsltforms-mainform");
      XsltForms_subform.prototype.construct=function(){for(var a=0,b=this.instances.length;a<b;a++)this.instances[a].construct(this);XsltForms_browser.forEach(this.binds,"refresh");a=0;for(b=this.instances.length;a<b;a++)this.instances[a].revalidate();window.setTimeout('XsltForms_xmlevents.dispatchList(XsltForms_subform.subforms["'+this.id+'"].models, "xforms-subform-ready")',1);this.ready=!0};
      XsltForms_subform.prototype.dispose=function(){for(var a=0,b=this.subforms.length;a<b;a++)this.subforms[0].dispose();this.subforms=null;XsltForms_globals.dispose(document.getElementById(this.eltid));a=0;for(b=this.schemas.length;a<b;a++)this.schemas[a].dispose(this),this.schemas[a]=null;this.schemas=null;a=0;for(b=this.instances.length;a<b;a++)this.instances[a].dispose(this),this.instances[a]=null;this.instances=null;a=0;for(b=this.models.length;a<b;a++)this.models[a].dispose(this),this.models[a]=
      null;this.models=null;a=0;for(b=this.xpaths.length;a<b;a++)this.xpaths[a].dispose(this),this.xpaths[a]=null;this.binds=this.expressions=this.xpaths=null;XsltForms_subform.subforms[this.id]=null;if(a=this.subform){a=a.subforms;b=0;for(var c=a.length;b<c;b++)if(a[b]===this){b<c-1&&(a[b]=a[c-1]);a.pop();break}}a=0;for(b=this.listeners.length;a<b;a++)this.listeners[a].detach(),this.listeners[a]=null;this.listeners=null};
      function XsltForms_binding(a,b,c,d,e){var f=c?c.startsWith("xf-template-")?XsltForms_binding.t2c(b.getAttribute(c)):b.getAttribute(c):b.getAttribute("xf-ref")||b.getAttribute("xf-value"),g=b.getAttribute("xf-model"),h=b.getAttribute("xf-repeat-ref"===c?"xf-repeat-bind":"data-xf-repeat-ref"===c?"data-xf-repeat-bind":"xf-bind");this.type=d||("xforms-var"===b.localName.toLowerCase()?"#nodes or constant":b.hasAttribute("xf-value")&&!b.hasAttribute("xf-ref")&&"xf-repeat-ref"!==c&&"data-xf-repeat-ref"!==
      c?"xsd:string":null);this.bind=h?h:null;this.xpath=f?XsltForms_xpath.create(a,f):null;var l;g&&(l=document.getElementById(g));this.model=l?l.xfElement:g||e;this.result=null}
      XsltForms_binding.t2c=function(a){for(var b=0,c=a.length,d=a.charAt(b),e=!0,f="",g="",h=[];b<c;)e?"{"===d&&"{"!==a.charAt(b+1)?(""!==f&&(h.push('"'+f+'"'),f=""),e=!1):'"'===d?f+='""':"{"===d?(f+="{",b++):f+=d:"}"===d?(h.push(g),g="",e=!0):g+=d,d=a.charAt(++b);""!==f&&h.push('"'+f+'"');return 1!==h.length?"concat("+h.join(",")+")":h[0]};XsltForms_binding.prototype.evaluate=function(){alert("Error")};
      XsltForms_binding.prototype.bind_evaluate=function(a,b,c,d,e,f){if("string"===typeof this.model)return null;if(this.bind){if("string"===typeof this.bind){a=document.getElementById(this.bind);if(!a)return XsltForms_browser.debugConsole.write("Binding evaluation returned null for bind: "+this.bind),null;this.bind=a.xfElement}a=this.bind.nodes;XsltForms_browser.copyArray(this.bind.depsNodes,d);XsltForms_browser.copyArray(this.bind.depsElements,f)}else d=new XsltForms_exprContext(a,!b||this.model&&this.model!==
      document.getElementById(XsltForms_browser.getDocMeta(b.ownerDocument,"model")).xfElement?this.model?this.model.getInstanceDocument().documentElement:XsltForms_globals.defaultModel.getInstanceDocument().documentElement:b,null,null,null,null,b,c,d,e,f,this.model),a=this.xpath.xpath_evaluate(d);XsltForms_browser.assert(this.type||null===a||"object"===typeof a,"Binding evaluation didn't returned a nodeset but '"+("object"===typeof a?"":a)+"' for "+(this.bind?"bind: "+this.bind:"XPath expression: "+this.xpath.expression));
      switch(this.type){case "xsd:string":a=XsltForms_globals.stringValue(a);break;case "xsd:boolean":a=XsltForms_globals.booleanValue(a);break;case "xsd:anyAtomicType":"object"===typeof a&&(a=XsltForms_globals.stringValue(a))}return this.result=a};function XsltForms_mipbinding(a,b,c,d,e){this.binding=new XsltForms_binding(a,b,c,d,e);this.nodes=[];this.depsElements=[];this.depsNodes=[]}
      XsltForms_mipbinding.prototype.evaluate=function(a,b){for(var c=null,d=null,e=this.nodes.length,f=0,g=this.nodes.length;f<g;f++)if(b===this.nodes[f].node){c=this.nodes[f].deps;d=this.nodes[f].depsN;e=f;break}c||d||(this.nodes.push({node:b,deps:[],depsN:[]}),c=d=[]);b=!XsltForms_globals.ready||0===c.length;f=XsltForms_globals.changes;g=0;for(var h=d.length;!b&&g<h;g++)b=""===d[g].nodeName;g=0;for(h=c.length;!b&&g<h;g++)for(var l=c[g],k=0,m=f.length;!b&&k<m;k++)if(l===f[k])if(l.instances)if(l.rebuilded||
      l.newRebuilded)b=!0;else for(var n=0,p=d.length;!b&&n<p;n++)b=XsltForms_browser.inArray(d[n],l.nodesChanged);else b=!0;b&&(d.length=0,c.length=0,this.nodes[e].result=this.binding.bind_evaluate(a.subform,a.node,null,this.nodes[e].depsN,null,this.nodes[e].deps));return this.nodes[e].result};XsltForms_mipbinding.prototype.nodedispose_=function(a){for(var b=0,c=this.nodes.length;b<c;b++)if(a===this.nodes[b].node){this.nodes[b]=this.nodes[c-1];this.nodes.pop();break}};
      XsltForms_mipbinding.nodedispose=function(a){var b=XsltForms_browser.getMeta(a,"bind");if(b){b=b.split(" ");for(var c=0,d=b.length;c<d;c++){var e=XsltForms_collection[b[c]].xfElement;e.required&&e.required.nodedispose_(a);e.relevant&&e.relevant.nodedispose_(a);e.readonly&&e.readonly.nodedispose_(a);e.constraint&&e.constraint.nodedispose_(a);e.calculate&&e.calculate.nodedispose_(a)}}for(a=a.firstChild;a;a=a.nextSibling)a.nodeType===Fleur.Node.ELEMENT_NODE&&XsltForms_mipbinding.nodedispose(a)};
      var XsltForms_idManager={cloneId:function(a){XsltForms_browser.assert(a&&a.id);var b=a.getAttribute("oldid")||a.id,c=this.data[b];c||(c=[],this.data[b]=c);var d="clonedId"+this.index++;c.push(d);a.setAttribute("oldid",b);a.id=d},find:function(a){var b=this.data[a];if(b)for(var c=0,d=b.length;c<d;c++){var e=document.getElementById(b[c]);if(e)for(var f=e.parentNode;f.nodeType===Fleur.Node.ELEMENT_NODE;){if("xforms-repeat-item"===f.localName.toLowerCase()||f.getAttribute(!1)){if("true"===f.getAttribute("xf-selected"))return e;
      break}f=f.parentNode}}return document.getElementById(a)},clear:function(){for(var a=0,b=this.data.length;a<b;a++)this.data[a]=null;this.data=[];this.index=0},data:[],index:0},XsltForms_classes={},XsltForms_collection=[];
      function XsltForms_class(a,b,c,d){XsltForms_classes[c]=this;this.className=a;this.parentName=b;this.customElementName=c;this.template=document.createElement(this.customElementName);this.template.innerHTML=d;this.template=Array.prototype.slice.call(this.template.children);this.classbinding=new Function("subform","elt","if (!elt.xfElement) { XsltForms_classes[elt.localName.toLowerCase()].applyTemplate(elt); elt.xfIndex = XsltForms_collection.length; XsltForms_collection.push(elt); elt.xfElement = new "+
      this.className+"(subform, elt); }");if("undefined"!==typeof customElements){this.upperClassName=this.customElementName.replace(/([-_]\w)/g,function(e){return e[1].toUpperCase()});a="class "+this.upperClassName+" extends "+this.parentName+" { constructor() { super(); } };";a+=" customElements.define('"+this.customElementName+"', "+this.upperClassName+");";try{eval(a)}catch(e){}}}
      XsltForms_class.activateAll=function(a,b,c){var d=[];Array.prototype.slice.call(b.querySelectorAll("xforms-model[xf-schema]")).forEach(function(f){d=d.concat(f.getAttribute("xf-schema").split(" ").map(function(g){return[f,g]}))});var e=function(f,g){if(0===f.length)return g();var h=f.pop(),l=h[0];h=h[1];var k=XsltForms_browser.openRequest("GET",h,!0);k.onreadystatechange=function(){if(4===k.readyState){try{1223===k.status&&(k.status=204,k.statusText="No Content");if(0!==k.status&&(200>k.status||300<=
      k.status))throw XsltForms_globals.error(l.xfElement,"xforms-link-exception","Schema not found"),Error("Error");var m=XsltForms_browser.createXMLDocument(k.responseText);new XsltForms_schema(a,m.documentElement.getAttribute("targetNamespace"),h,{},m)}catch(n){}e(f,g)}};k.overrideMimeType&&k.overrideMimeType("application/xml");try{k.send(null)}catch(m){alert("File not found: "+h)}};e(d.reverse(),function(){Array.prototype.slice.call(b.getElementsByTagName("xforms-var")).forEach(function(g){XsltForms_classes[g.localName].classbinding(a,
      g)});for(var f in XsltForms_classes)XsltForms_classes.hasOwnProperty(f)&&"xforms-var"!==f&&Array.prototype.slice.call(b.getElementsByTagName(f)).forEach(function(g){XsltForms_classes[g.localName].classbinding(a,g)});Array.prototype.slice.call(b.querySelectorAll("*[xf-repeat-ref]")).forEach(function(g){g.xfElement||(g.xfIndex=XsltForms_collection.length,XsltForms_collection.push(g),g.xfElement=new XsltForms_repeat(a,g))});Array.prototype.slice.call(b.querySelectorAll("*[xf-repeat-bind]")).forEach(function(g){g.xfElement||
      (g.xfIndex=XsltForms_collection.length,XsltForms_collection.push(g),g.xfElement=new XsltForms_repeat(a,g))});Array.prototype.slice.call(b.querySelectorAll('*[xforms-name="repeat"]')).forEach(function(g){g.xfElement||(g.xfIndex=XsltForms_collection.length,XsltForms_collection.push(g),g.xfElement=eval("new "+XsltForms_classes["xforms-"+b.getAttribute("xforms-name")].classname+"(subform, elt2)"))});Array.prototype.slice.call(b.querySelectorAll("*[xf-avt]")).forEach(function(g){g.xfElement||(g.xfIndex=
      XsltForms_collection.length,XsltForms_collection.push(g));Array.prototype.slice.call(g.attributes).filter(function(h){return h.nodeName.startsWith("xf-template-")}).forEach(function(h){new XsltForms_avt(a,g,h.nodeName.substr(12))})});c()})};
      XsltForms_class._applyTemplate=function(a,b){var c=a.children||a.childNodes,d=Array.prototype.slice.call(c).map(function(g){return g.localName.toLowerCase()}),e=0;b.forEach(function(g){var h=d.indexOf(g.localName),l=g.localName;l.startsWith("xforms-")||(l="xforms-"+g.getAttribute("xforms-name"));if(-1!==h)e=h+1;else if("xforms-body"===l||"xforms-alert"===l||"xforms-required"===l||0!==g.childNodes.length)a.insertBefore(g.cloneNode(!0),c[e]),d=Array.prototype.slice.call(c).map(function(k){return k.localName.toLowerCase()}),
      e++});var f;Array.prototype.slice.call(c).forEach(function(g){var h=g.localName.toLowerCase();!("xforms-hint"===h&&"minimal"!==g.getAttribute("xf-appearance")||"xforms-help"===h&&"minimal"!==g.getAttribute("xf-appearance")||"xforms-alert"===h)||g.previousSibling&&g.previousSibling.localName&&g.previousSibling.localName.toLowerCase()===h+"-mark"?"xforms-label"===h&&(f=g):a.insertBefore(document.createElement(h+"-mark"),g)});f&&Array.prototype.slice.call(c).forEach(function(g){"xforms-help"===g.localName.toLowerCase()&&
      "minimal"===g.getAttribute("xf-appearance")&&a.insertBefore(g,f.nextSibling)})};XsltForms_class.prototype.applyTemplate=function(a){XsltForms_class._applyTemplate(a,this.template)};
      function XsltForms_listener(a,b,c,d,e,f,g){if(b)if(e=e||"default","default"!==e&&"capture"!==e)XsltForms_globals.error(XsltForms_globals.defaultModel,"xforms-compute-exception","Unknown event-phase("+e+") for event("+d+")"+(b?" on element("+b.id+")":"")+"!");else{this.subform=a;this.observer=b;this.evtTarget=c;this.name=d;this.evtName=document.addEventListener?d:"errorupdate";this.phase=e;this.handler=f;this.defaultaction=g;if(b.listeners){if("xforms-subform-ready"===d)for(var h=0,l=b.listeners.length;h<
      l;h++)if(b.listeners[h].name===d)return}else b.listeners=[];b.listeners.push(this);this.callback=function(k){if(!document.addEventListener){k=k||window.event;k.target=k.srcElement;k.currentTarget=b;XsltForms_browser.debugConsole.write("observer:"+b.id);XsltForms_browser.debugConsole.write("name:"+d);XsltForms_browser.debugConsole.write("target:"+k.target.id);XsltForms_browser.debugConsole.write("trueName:"+k.trueName);if(k.trueName&&k.trueName!==d)return;if(!k.phase){if("capture"===e)return}else if(k.phase!==
      e)return;"capture"===e&&(k.cancelBubble=!0);k.preventDefault=function(){this.returnValue=!1};k.stopPropagation=function(){this.stopped=this.cancelBubble=!0}}var m=!0;k.target&&3===k.target.nodeType&&(k.target=k.target.parentNode);k.currentTarget&&("BUTTON"===k.target.nodeName.toUpperCase()||"A"===k.target.nodeName.toUpperCase()||"INPUT"===k.target.nodeName.toUpperCase()||"XFORMS-LABEL"===k.target.nodeName.toUpperCase()||XsltForms_browser.isChrome&&(3===k.eventPhase||k instanceof UIEvent)&&this.xfElement&&
      "trigger"===this.xfElement.controlName)&&!XsltForms_browser.isFF2&&(m=!1);3===k.eventPhase&&k.target.xfElement&&k.target===k.currentTarget&&!XsltForms_browser.isFF2&&(m=!1);c&&k.target!==c&&(m=!1);XsltForms_browser.debugConsole.write("effectiveTarget:"+m);m&&(XsltForms_browser.debugConsole.write("Captured event "+d+" on <"+k.target.nodeName+(k.target.className?' class="'+("string"===typeof k.target.className?k.target.className:k.target.className.baseVal)+'"':"")+(k.target.id?' id="'+k.target.id+'"':
      "")+"/>"),f.call(k.target,k));g||k.preventDefault();if(!document.addEventListener)try{k.preventDefault=null,k.stopPropagation=null}catch(n){}};this.attach();a&&a.listeners.push(this)}}XsltForms_listener.destructs=[];XsltForms_listener.prototype.attach=function(){XsltForms_browser.events.attach(this.observer,this.evtName,this.callback,"capture"===this.phase);"xforms-model-destruct"===this.evtName&&XsltForms_listener.destructs.push({observer:this.observer,callback:this.callback})};
      XsltForms_listener.prototype.detach=function(){if(this.observer.listeners)for(var a=0,b=this.observer.listeners.length;a<b;a++)if(this.observer.listeners[a]===this){this.observer.listeners.splice(a,1);break}XsltForms_browser.events.detach(this.observer,this.evtName,this.callback,"capture"===this.phase)};XsltForms_listener.prototype.clone=function(a){return new XsltForms_listener(this.subform,a,this.evtTarget,this.name,this.phase,this.handler)};
      var XsltForms_xmlevents={REGISTRY:[],EventContexts:[],define:function(a,b,c,d){XsltForms_xmlevents.REGISTRY[a]={bubbles:b,cancelable:c,defaultAction:d?d:function(){}}},makeEventContext:function(a,b,c,d,e){a||={};a.type||(a.type=b);try{a.targetid=c;if(!a.bubbles||Object.getOwnPropertyDescriptor(a,"bubbles"))a.bubbles=d;if(!a.cancelable||Object.getOwnPropertyDescriptor(a,"cancelable"))a.cancelable=e}catch(f){}return a},dispatchList:function(a,b){for(var c=0,d=a.length;c<d;c++)XsltForms_xmlevents.dispatch(a[c],
      b)},dispatch:function(a,b,c,d,e,f,g){if(a){a=a.element||a;XsltForms_browser.assert(a&&"undefined"!==typeof a.nodeName);XsltForms_browser.debugConsole.write("Dispatching event "+b+" on <"+a.nodeName.toLowerCase()+(a.className?' class="'+("string"===typeof a.className?a.className:a.className.baseVal)+'"':"")+(a.id?' id="'+a.id+'"':"")+"/>");if(c=XsltForms_xmlevents.REGISTRY[b])d=c.bubbles,e=c.cancelable,f=c.defaultAction;f||=function(){};g=XsltForms_xmlevents.makeEventContext(g,b,a.id,d,e);XsltForms_xmlevents.EventContexts.push(g);
      try{var h;if(a.dispatchEvent){var l=document.createEvent("Event");l.initEvent(b,d,e);((h=a.dispatchEvent(l))&&!l.stopped||!e)&&f.call(a.xfElement,l)}else{g=null;c=[];for(var k=a.parentNode;k;k=k.parentNode)c.unshift(k);k=0;for(var m=c.length;k<m;k++)if(l=document.createEventObject(),l.trueName=b,l.phase="capture",c[k].fireEvent("onerrorupdate",l),l.stopped)return;l=document.createEventObject();l.trueName=b;l.phase="capture";l.target=a;a.fireEvent("onerrorupdate",l);d||(g=new XsltForms_listener(null,
      a,null,b,"default",function(n){n.cancelBubble=!0}));l=document.createEventObject();l.trueName=b;l.phase="default";l.target=a;h=a.fireEvent("onerrorupdate",l);try{(h&&!l.stopped||!e)&&f.call(a.xfElement,l),d||g.detach()}catch(n){}}}catch(n){alert("XSLTForms Exception\n--------------------------\n\nError dispatching event '"+b+"' :\n\n"+("undefined"===typeof n.stack?"":n.stack)+"\n\n"+(n.name?n.name+(n.message?"\n\n"+n.message:""):n))}finally{XsltForms_xmlevents.EventContexts[XsltForms_xmlevents.EventContexts.length-
      1].rheadsdoc&&(XsltForms_xmlevents.EventContexts[XsltForms_xmlevents.EventContexts.length-1].rheadsdoc=null),XsltForms_xmlevents.EventContexts[XsltForms_xmlevents.EventContexts.length-1]["response-body"]&&(XsltForms_xmlevents.EventContexts[XsltForms_xmlevents.EventContexts.length-1]["response-body"]=null),XsltForms_xmlevents.EventContexts.pop()}}else XsltForms_browser.debugConsole.write("ERROR: Cannot dispatch event "+name+" as the target is null")}};
      XsltForms_xmlevents.define("xforms-model-construct",!0,!1,function(){this.construct()});XsltForms_xmlevents.define("xforms-model-construct-done",!0,!1);XsltForms_xmlevents.define("xforms-ready",!0,!1);XsltForms_xmlevents.define("xforms-model-destruct",!0,!1);XsltForms_xmlevents.define("xforms-rebuild",!0,!0,function(){this.rebuild()});XsltForms_xmlevents.define("xforms-recalculate",!0,!0,function(){this.recalculate()});XsltForms_xmlevents.define("xforms-revalidate",!0,!0,function(){this.revalidate()});
      XsltForms_xmlevents.define("xforms-reset",!0,!0,function(){this.reset()});XsltForms_xmlevents.define("xforms-submit",!0,!0,function(){this.submit()});XsltForms_xmlevents.define("xforms-submit-serialize",!0,!1);XsltForms_xmlevents.define("xforms-refresh",!0,!0,function(){this.refresh()});XsltForms_xmlevents.define("xforms-focus",!0,!0,function(){this.focus?this.focus():this.element.focus()});XsltForms_xmlevents.define("DOMActivate",!0,!0);XsltForms_xmlevents.define("DOMFocusIn",!0,!1);
      XsltForms_xmlevents.define("DOMFocusOut",!0,!1);XsltForms_xmlevents.define("xforms-select",!0,!1);XsltForms_xmlevents.define("xforms-deselect",!0,!1);XsltForms_xmlevents.define("xforms-value-changed",!0,!1);XsltForms_xmlevents.define("xforms-insert",!0,!1);XsltForms_xmlevents.define("xforms-delete",!0,!1);XsltForms_xmlevents.define("xforms-valid",!0,!1);XsltForms_xmlevents.define("xforms-invalid",!0,!1);XsltForms_xmlevents.define("xforms-enabled",!0,!1);
      XsltForms_xmlevents.define("xforms-disabled",!0,!1);XsltForms_xmlevents.define("xforms-optional",!0,!1);XsltForms_xmlevents.define("xforms-required",!0,!1);XsltForms_xmlevents.define("xforms-readonly",!0,!1);XsltForms_xmlevents.define("xforms-readwrite",!0,!1);XsltForms_xmlevents.define("xforms-in-range",!0,!1);XsltForms_xmlevents.define("xforms-out-of-range",!0,!1);XsltForms_xmlevents.define("xforms-submit-done",!0,!1);XsltForms_xmlevents.define("xforms-submit-error",!0,!1);
      XsltForms_xmlevents.define("xforms-compute-exception",!0,!1);XsltForms_xmlevents.define("xforms-binding-exception",!0,!1);XsltForms_xmlevents.define("ajx-start",!0,!0,function(a){a.target.xfElement.start()});XsltForms_xmlevents.define("ajx-stop",!0,!0,function(a){a.target.xfElement.stop()});XsltForms_xmlevents.define("ajx-time",!0,!0);XsltForms_xmlevents.define("xforms-dialog-open",!0,!0,function(a){XsltForms_browser.dialog.show(a.target,null,!0)});
      XsltForms_xmlevents.define("xforms-dialog-close",!0,!0,function(a){XsltForms_browser.dialog.hide(a.target,!0)});XsltForms_xmlevents.define("xforms-load-done",!0,!1);XsltForms_xmlevents.define("xforms-load-error",!0,!1);XsltForms_xmlevents.define("xforms-unload-done",!0,!1);XsltForms_xmlevents.define("xforms-upload-done",!0,!1);XsltForms_xmlevents.define("xforms-upload-error",!0,!1);function XsltForms_binaryExpr(a,b,c){this.expr1=a;this.expr2=c;this.op=b.replace("&gt;",">").replace("&lt;","<")}
      XsltForms_binaryExpr.prototype.evaluate=function(a){var b=this.expr1.evaluate(a);a=this.expr2.evaluate(a);if(b&&a&&("object"===typeof b&&1<b.length||"object"===typeof a&&1<a.length)&&("="===this.op||"!="===this.op||"<"===this.op||"<="===this.op||">"===this.op||">="===this.op)){"object"!==typeof b&&(b=[b]);"object"!==typeof a&&(a=[a]);for(var c=0,d=b.length;c<d;c++){var e=XsltForms_globals.numberValue([b[c]]);isNaN(e)&&(e=XsltForms_globals.stringValue([b[c]]));for(var f=0,g=a.length;f<g;f++){var h=
      XsltForms_globals.numberValue([a[f]]);isNaN(h)&&(h=XsltForms_globals.stringValue([a[f]]));switch(this.op){case "=":if(e==h)return!0;break;case "!=":if(e!=h)return!0;break;case "<":if(e<h)return!0;break;case "<=":if(e<=h)return!0;break;case ">":if(e>h)return!0;break;case ">=":if(e>=h)return!0}}}return!1}e=XsltForms_globals.numberValue(b);h=XsltForms_globals.numberValue(a);if(isNaN(e)||isNaN(h))e=XsltForms_globals.stringValue(b),h=XsltForms_globals.stringValue(a);c=0;switch(this.op){case "or":c=XsltForms_globals.booleanValue(b)||
      XsltForms_globals.booleanValue(a);break;case "and":c=XsltForms_globals.booleanValue(b)&&XsltForms_globals.booleanValue(a);break;case "+":c=e+h;break;case "-":c=e-h;break;case "*":c=e*h;break;case "mod":c=e%h;break;case "div":c=e/h;break;case "=":c=e===h;break;case "!=":c=e!==h;break;case "<":c=e<h;break;case "<=":c=e<=h;break;case ">":c=e>h;break;case ">=":c=e>=h}return"number"===typeof c?Math.round(1E6*c)/1E6:c};
      function XsltForms_exprContext(a,b,c,d,e,f,g,h,l,k,m){this.subform=a;this.node=b;this.current=g||b;if(!c&&(a=b&&b.nodeType?XsltForms_browser.getMeta(b,"repeat"):null)&&(a=XsltForms_collection[a]))for(a=a.xfElement,c=1,g=a.nodes.length;c<=g&&b!==a.nodes[c-1];c++);this.position=c||1;this.nodelist=d||[b];this.root=(this.parent=e)?e.root:b?b.ownerDocument:null;this.nsresolver=f;this.element=h;this.depsId=k;this.initDeps(l,m)}
      XsltForms_exprContext.prototype.clone=function(a,b,c){return new XsltForms_exprContext(this.subform,a||this.node,"undefined"===typeof b?this.position:b,c||this.nodelist,this,this.nsresolver,this.current,this.element,this.depsNodes,this.depsId,this.depsElements)};XsltForms_exprContext.prototype.setNode=function(a,b){this.node=a;this.position=b};XsltForms_exprContext.prototype.initDeps=function(a,b){this.depsNodes=a||[];this.depsElements=b||[]};
      XsltForms_exprContext.prototype.addDepNode=function(a){var b=this.depsNodes;!b||!a.nodeType||a.nodeType===Fleur.Node.DOCUMENT_NODE||this.depsId&&XsltForms_browser.inValueMeta(a,"depfor",this.depsId)||(this.depsId&&XsltForms_browser.addValueMeta(a,"depfor",this.depsId),b.push(a))};XsltForms_exprContext.prototype.addDepElement=function(a){var b=this.depsElements;b&&!XsltForms_browser.inArray(a,b)&&b.push(a)};function XsltForms_tokenExpr(a){this.value=a}XsltForms_tokenExpr.prototype.evaluate=function(){return XsltForms_globals.stringValue(this.value)};
      function XsltForms_unaryMinusExpr(a){this.expr=a}XsltForms_unaryMinusExpr.prototype.evaluate=function(a){return-XsltForms_globals.numberValue(this.expr.evaluate(a))};function XsltForms_cteExpr(a){this.value=XsltForms_browser.isEscaped?"string"===typeof a?XsltForms_browser.unescape(a):a:a}XsltForms_cteExpr.prototype.evaluate=function(){return this.value};function XsltForms_filterExpr(a,b){this.expr=a;this.predicate=b}
      XsltForms_filterExpr.prototype.evaluate=function(a){for(var b=XsltForms_globals.nodeSetValue(this.expr.evaluate(a)),c=0,d=this.predicate.length;c<d;++c){var e=b;b=[];for(var f=0,g=e.length;f<g;++f){var h=e[f],l=a.clone(h,f,e);XsltForms_globals.booleanValue(this.predicate[c].evaluate(l))&&b.push(h)}}return b};
      for(var XsltForms_FleurConv=[],XsltForms_FleurConv_unsupported=function(){return"~~~~Unsupported syntax~#~#"},XsltForms_i=0;XsltForms_i<Fleur.Xlength;XsltForms_i++)XsltForms_FleurConv[XsltForms_i]=XsltForms_FleurConv_unsupported;XsltForms_FleurConv[Fleur.XQueryX.anyKindTest]=function(){return"new XsltForms_nodeTestAny()"};XsltForms_FleurConv[Fleur.XQueryX.arrayTest]=function(){return"new XsltForms_nodeTestType(131)"};XsltForms_FleurConv[Fleur.XQueryX.commentTest]=function(){return"new XsltForms_nodeTestType(8)"};
      XsltForms_FleurConv[Fleur.XQueryX.contextItemExpr]=function(){return"new XsltForms_locationExpr(false,new XsltForms_stepExpr('self',new XsltForms_nodeTestAny()))"};XsltForms_FleurConv[Fleur.XQueryX.decimalConstantExpr]=function(a){return"new XsltForms_cteExpr("+a[0][1][0]+")"};XsltForms_FleurConv[Fleur.XQueryX.doubleConstantExpr]=function(a){return"new XsltForms_cteExpr("+a[0][1][0]+")"};XsltForms_FleurConv[Fleur.XQueryX.entryTest]=function(){return"new XsltForms_nodeTestType(133)"};
      XsltForms_FleurConv[Fleur.XQueryX.filterExpr]=function(){return"new XsltForms_stepExpr('self',new XsltForms_nodeTestAny())"};
      XsltForms_FleurConv[Fleur.XQueryX.functionCallExpr]=function(a){var b=a[0][1][0],c="http://www.w3.org/2005/xpath-functions",d=a[1][1];a[0][1][1]&&a[0][1][1][0]===Fleur.XQueryX.prefix?(a=a[0][1][1][1][0],c="xf"===a||"xform"===a||"xforms"===a?"http://www.w3.org/2002/xforms":"math"===a?"http://exslt.org/math":Fleur.XPathNSResolver_default.uri[Fleur.XPathNSResolver_default.pf.indexOf(a)]):-1!==" boolean-from-string is-card-number count-non-empty index power random if choose property digest hmac local-date local-dateTime now days-from-date days-to-date seconds-from-dateTime seconds-to-dateTime adjust-dateTime-to-timezone seconds months instance current context event nodeindex is-valid serialize transform ".indexOf(" "+
      b+" ")&&(c="http://www.w3.org/2002/xforms");b="new XsltForms_functionCallExpr('"+c+" "+b+"'";a=0;for(c=d.length;a<c;a++)b+=","+XsltForms_FleurConv[d[a][0]](d[a][1]);return b+")"};XsltForms_FleurConv[Fleur.XQueryX.integerConstantExpr]=function(a){return"new XsltForms_cteExpr("+a[0][1][0]+")"};XsltForms_FleurConv[Fleur.XQueryX.mapTest]=function(){return"new XsltForms_nodeTestType(132)"};
      XsltForms_FleurConv[Fleur.XQueryX.nameTest]=function(a,b){var c="new XsltForms_nodeTestName(";c=1!==a.length&&a[1][0]===Fleur.XQueryX.prefix?c+("'"+a[1][1][0]+"'"):"attribute"===b?c+"null":c+"''";c=c+",'"+a[0];return c+"')"};
      XsltForms_FleurConv[Fleur.XQueryX.pathExpr]=function(a){var b="",c=0,d=!1;a[0][0]===Fleur.XQueryX.stepExpr&&a[0][1][0][0]===Fleur.XQueryX.filterExpr&&a[0][1][0][1][0][0]!==Fleur.XQueryX.contextItemExpr&&(d=!0,b="new XsltForms_pathExpr("+XsltForms_FleurConv[a[0][1][0][1][0][0]](a[0][1][0][1][0][1]),b+=",",c++);b+="new XsltForms_locationExpr(";a[0][0]!==Fleur.XQueryX.rootExpr&&(b+="false",d||(b+=","));for(var e=a.length;c<e;c++)b+=(0!==c?",":"")+XsltForms_FleurConv[a[c][0]](a[c][1]);b+=")";d&&(b+=")");
      return b};XsltForms_FleurConv[Fleur.XQueryX.piTest]=function(a){return"new XsltForms_nodeTestPi("+(0!==a.length?"'"+a[0][1][0]+"'":"")+")"};XsltForms_FleurConv[Fleur.XQueryX.predicates]=function(a){for(var b="",c=0,d=a.length;c<d;c++)b+=",new XsltForms_predicateExpr("+XsltForms_FleurConv[a[c][0]](a[c][1])+")";return b};XsltForms_FleurConv[Fleur.XQueryX.rootExpr]=function(){return"true"};
      XsltForms_FleurConv[Fleur.XQueryX.stepExpr]=function(a){if(1===a.length)return XsltForms_FleurConv[a[0][0]](a[0][1]);var b="new XsltForms_stepExpr('";if(a[0][0]===Fleur.XQueryX.xpathAxis){b+=a[0][1][0];b=b+"',"+XsltForms_FleurConv[a[1][0]](a[1][1],a[0][1][0]);var c=3}else b+="self',new XsltForms_nodeTestAny()",c=2;a.length===c&&(b+=XsltForms_FleurConv[a[c-1][0]](a[c-1][1]));return b+")"};
      XsltForms_FleurConv[Fleur.XQueryX.stringConstantExpr]=function(a){return"new XsltForms_cteExpr('"+(a[0][1][0]||"").replace(/'/g,"\\'")+"')"};XsltForms_FleurConv[Fleur.XQueryX.textTest]=function(){return"new XsltForms_nodeTestType(3)"};XsltForms_FleurConv[Fleur.XQueryX.varRef]=function(a){return'new XsltForms_varRef("'+(1===a[0][1].length?"":a[0][1][1][1][0]+":")+a[0][1][0]+'")'};
      XsltForms_FleurConv[Fleur.XQueryX.Wildcard]=function(a,b){return"attribute"!==b?0===a.length?"new XsltForms_nodeTestType(1)":a[0][0]===Fleur.XQueryX.NCName?"new XsltForms_nodeTestName('"+a[0][1][0]+"','')),new XsltForms_stepExpr('"+b+"',new XsltForms_nodeTestType(1)":"new XsltForms_nodeTestName('*','"+a[1][1][0]+"')":0===a.length?"new XsltForms_nodeTestAny()":a[0][0]===Fleur.XQueryX.NCName?"new XsltForms_nodeTestName('"+a[0][1][0]+"','*')":"new XsltForms_nodeTestName('*','"+a[1][1][0]+"')"};
      XsltForms_FleurConv[Fleur.XQueryX.addOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'+',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};XsltForms_FleurConv[Fleur.XQueryX.andOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'and',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};
      XsltForms_FleurConv[Fleur.XQueryX.divOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'div',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};XsltForms_FleurConv[Fleur.XQueryX.equalOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'=',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};
      XsltForms_FleurConv[Fleur.XQueryX.greaterThanOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'>',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};XsltForms_FleurConv[Fleur.XQueryX.greaterThanOrEqualOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'>=',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};
      XsltForms_FleurConv[Fleur.XQueryX.lessThanOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'<',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};XsltForms_FleurConv[Fleur.XQueryX.lessThanOrEqualOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'<=',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};
      XsltForms_FleurConv[Fleur.XQueryX.modOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'mod',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};XsltForms_FleurConv[Fleur.XQueryX.multiplyOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'*',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};
      XsltForms_FleurConv[Fleur.XQueryX.notEqualOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'!=',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};XsltForms_FleurConv[Fleur.XQueryX.orOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'or',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};
      XsltForms_FleurConv[Fleur.XQueryX.subtractOp]=function(a){return"new XsltForms_binaryExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+",'-',"+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};XsltForms_FleurConv[Fleur.XQueryX.unaryMinusOp]=function(a){var b=a[0][1][0][0];if(b===Fleur.XQueryX.integerConstantExpr||b===Fleur.XQueryX.decimalConstantExpr||b===Fleur.XQueryX.doubleConstantExpr)return"new XsltForms_cteExpr(-"+a[0][1][0][1][0][1]+")"};
      XsltForms_FleurConv[Fleur.XQueryX.unionOp]=function(a){return"new XsltForms_unionExpr("+XsltForms_FleurConv[a[0][1][0][0]](a[0][1][0][1])+","+XsltForms_FleurConv[a[1][1][0][0]](a[1][1][0][1])+")"};function XsltForms_locationExpr(a){this.absolute=a;this.steps=[];for(var b=1,c=arguments.length;b<c;b++)this.steps.push(arguments[b])}
      XsltForms_locationExpr.prototype.evaluate=function(a){var b=this.absolute&&a.root||!a.node?a.root:a.node,c=XsltForms_browser.getDocMeta(b.nodeType===Fleur.Node.DOCUMENT_NODE?b:b.ownerDocument,"model");c&&a.addDepElement(document.getElementById(c).xfElement);c=[];this.steps[0]?this.xPathStep(c,this.steps,0,b,a):c[0]=b;return c};
      XsltForms_locationExpr.prototype.xPathStep=function(a,b,c,d,e){d=b[c].evaluate(e.clone(d));for(var f=0,g=d.length;f<g;++f){var h=d[f];c===b.length-1?(XsltForms_browser.inArray(h,a)||a.push(h),e.addDepNode(h)):this.xPathStep(a,b,c+1,h,e)}};function XsltForms_nodeTestAny(){}XsltForms_nodeTestAny.prototype.evaluate=function(a){var b=a.localName||a.baseName;return!b||"xsltforms_"!==b.substr(0,10)&&"http://www.w3.org/2000/xmlns/"!==a.namespaceURI};
      function XsltForms_nodeTestName(a,b){this.prefix=a;this.name=b;this.uppercase=b.toUpperCase();this.wildcard="*"===b;this.notwildcard="*"!==b;this.notwildcardprefix="*"!==a;this.hasprefix=a&&this.notwildcardprefix}
      XsltForms_nodeTestName.prototype.evaluate=function(a,b,c){var d=a.localName||a.baseName;if(this.notwildcard&&(d!==this.name||c&&d.toUpperCase()!==this.uppercase))return!1;if(this.wildcard)return this.hasprefix?a.namespaceURI===b.lookupNamespaceURI(this.prefix):!0;a=a.namespaceURI;return this.hasprefix?a===b.lookupNamespaceURI(this.prefix):this.notwildcardprefix?!a||""===a||a===b.lookupNamespaceURI(""):!0};function XsltForms_nodeTestPI(a){this.target=a}
      XsltForms_nodeTestPI.prototype.evaluate=function(a){return a.nodeType===Fleur.Node.PROCESSING_INSTRUCTION_NODE&&(!this.target||a.nodeName===this.target)};function XsltForms_nodeTestType(a){this.type=a}XsltForms_nodeTestType.prototype.evaluate=function(a){return a.nodeType===this.type};function XsltForms_pathExpr(a,b){this.filter=a;this.rel=b}
      XsltForms_pathExpr.prototype.evaluate=function(a){for(var b=XsltForms_globals.nodeSetValue(this.filter.evaluate(a)),c=[],d=0,e=b.length;d<e;d++){var f=a.clone(b[d],d,b);f=XsltForms_globals.nodeSetValue(this.rel.evaluate(f));for(var g=0,h=f.length;g<h;g++)c.push(f[g])}return c};function XsltForms_predicateExpr(a){this.expr=a}XsltForms_predicateExpr.prototype.evaluate=function(a){var b=this.expr.evaluate(a);return"number"===typeof b?a.position===b:XsltForms_globals.booleanValue(b)};
      function XsltForms_stepExpr(a,b){this.axis=a;this.nodetest=b;this.predicates=[];for(var c=2,d=arguments.length;c<d;c++)this.predicates.push(arguments[c])}
      XsltForms_stepExpr.prototype.evaluate=function(a){var b=a.node,c=[];switch(this.axis){case XsltForms_xpathAxis.ANCESTOR_OR_SELF:XsltForms_stepExpr.push(a,c,b,this.nodetest);b.nodeType===Fleur.Node.ATTRIBUTE_NODE?(b=b.ownerElement?b.ownerElement:b.selectSingleNode(".."),XsltForms_stepExpr.push(a,c,b,this.nodetest)):b.nodeType===Fleur.Node.ENTRY_NODE&&(b=b.ownerMap,XsltForms_stepExpr.push(a,c,b,this.nodetest));for(b=b.parentNode;b.parentNode;b=b.parentNode)XsltForms_stepExpr.push(a,c,b,this.nodetest);
      break;case XsltForms_xpathAxis.ANCESTOR:b.nodeType===Fleur.Node.ATTRIBUTE_NODE?(b=b.ownerElement?b.ownerElement:b.selectSingleNode(".."),XsltForms_stepExpr.push(a,c,b,this.nodetest)):b.nodeType===Fleur.Node.ENTRY_NODE&&(b=b.ownerMap,XsltForms_stepExpr.push(a,c,b,this.nodetest));for(b=b.parentNode;b.parentNode;b=b.parentNode)XsltForms_stepExpr.push(a,c,b,this.nodetest);break;case XsltForms_xpathAxis.ATTRIBUTE:XsltForms_stepExpr.pushList(a,c,b.attributes,this.nodetest,!b.namespaceURI||"http://www.w3.org/1999/xhtml"===
      b.namespaceURI);break;case XsltForms_xpathAxis.CHILD:XsltForms_stepExpr.pushList(a,c,b.childNodes,this.nodetest);break;case XsltForms_xpathAxis.DESCENDANT_OR_SELF:XsltForms_stepExpr.push(a,c,b,this.nodetest);XsltForms_stepExpr.pushDescendants(a,c,b,this.nodetest);break;case XsltForms_xpathAxis.DESCENDANT:XsltForms_stepExpr.pushDescendants(a,c,b,this.nodetest);break;case XsltForms_xpathAxis.ENTRY:XsltForms_stepExpr.pushList(a,c,b.entries,this.nodetest);break;case XsltForms_xpathAxis.FOLLOWING:for(b=
      b.nodeType===Fleur.Node.ATTRIBUTE_NODE?b.ownerElement?b.ownerElement:b.selectSingleNode(".."):b.nodeType===Fleur.Node.ENTRY_NODE?b.ownerMap:b;b.nodeType!==Fleur.Node.DOCUMENT_NODE;){for(var d=b.nextSibling;d;d=d.nextSibling)XsltForms_stepExpr.push(a,c,d,this.nodetest),XsltForms_stepExpr.pushDescendants(a,c,d,this.nodetest);b=b.parentNode}break;case XsltForms_xpathAxis.FOLLOWING_SIBLING:for(b=b.nextSibling;b;b=b.nextSibling)XsltForms_stepExpr.push(a,c,b,this.nodetest);break;case XsltForms_xpathAxis.NAMESPACE:alert("not implemented: axis namespace");
      break;case XsltForms_xpathAxis.PARENT:b.parentNode?XsltForms_stepExpr.push(a,c,b.parentNode,this.nodetest):b.nodeType===Fleur.Node.ATTRIBUTE_NODE?XsltForms_stepExpr.push(a,c,b.ownerElement?b.ownerElement:b.selectSingleNode(".."),this.nodetest):b.nodeType===Fleur.Node.ENTRY_NODE&&XsltForms_stepExpr.push(a,c,b.ownerMap,this.nodetest);break;case XsltForms_xpathAxis.PRECEDING:for(b=b.nodeType===Fleur.Node.ATTRIBUTE_NODE?b.ownerElement?b.ownerElement:b.selectSingleNode(".."):b.nodeType===Fleur.Node.ENTRY_NODE?
      b.ownerMap:b;b.nodeType!==Fleur.Node.DOCUMENT_NODE;){for(d=b.previousSibling;d;d=d.previousSibling)XsltForms_stepExpr.pushDescendantsRev(a,c,d,this.nodetest),XsltForms_stepExpr.push(a,c,d,this.nodetest);b=b.parentNode}break;case XsltForms_xpathAxis.PRECEDING_SIBLING:for(b=b.previousSibling;b;b=b.previousSibling)XsltForms_stepExpr.push(a,c,b,this.nodetest);break;case XsltForms_xpathAxis.SELF:XsltForms_stepExpr.push(a,c,b,this.nodetest);break;default:throw Error({name:"ERROR -- NO SUCH AXIS: "+this.axis});
      }b=0;for(d=this.predicates.length;b<d;b++){for(var e=this.predicates[b],f=[],g=0,h=c.length;g<h;g++){var l=c[g],k=a.clone(l,g+1,c);XsltForms_globals.booleanValue(e.evaluate(k))&&f.push(l)}c=f}return c};XsltForms_stepExpr.push=function(a,b,c,d,e){d.evaluate(c,a.nsresolver,e)&&!XsltForms_browser.inArray(c,b)&&(b[b.length]=c)};XsltForms_stepExpr.pushList=function(a,b,c,d,e){for(var f=0,g=c?c.length:0;f<g;f++)XsltForms_stepExpr.push(a,b,c[f],d,e)};
      XsltForms_stepExpr.pushDescendants=function(a,b,c,d){for(c=c.firstChild;c;c=c.nextSibling)XsltForms_stepExpr.push(a,b,c,d),XsltForms_stepExpr.pushDescendants(a,b,c,d)};XsltForms_stepExpr.pushDescendantsRev=function(a,b,c,d){for(c=c.lastChild;c;c=c.previousSibling)XsltForms_stepExpr.push(a,b,c,d),XsltForms_stepExpr.pushDescendantsRev(a,b,c,d)};function XsltForms_unionExpr(a,b){this.expr1=a;this.expr2=b}
      XsltForms_unionExpr.prototype.evaluate=function(a){var b=XsltForms_globals.nodeSetValue(this.expr1.evaluate(a));a=XsltForms_globals.nodeSetValue(this.expr2.evaluate(a));for(var c=b.length,d=0,e=a.length;d<e;d++){for(var f=!1,g=0;g<c&&!(f=b[g]===a[d]);g++);f||b.push(a[d])}a=[];c=0;for(d=b.length;c<d;c++)a.push({count:XsltForms_browser.selectNodesLength("preceding::* | ancestor::*",b[c]),node:b[c]});a.sort(function(h,l){return h.count-l.count});c=0;for(d=a.length;c<d;c++)b[c]=a[c].node;return b};
      function XsltForms_varRef(a){this.name=a}XsltForms_varRef.prototype.evaluate=function(a){let b=XsltForms_varResolver(a.element,this.name);for(var c=0,d=b.depsNodesRefresh.length;c<d;c++)a.addDepNode(b.depsNodesRefresh[c]);c=0;for(d=b.depsNodesBuild.length;c<d;c++)a.addDepNode(b.depsNodesBuild[c]);c=0;for(d=b.depsElements.length;c<d;c++)a.addDepElement(b.depsElements[c]);return b.boundnodes};
      function XsltForms_varResolver(a,b){for(;a;)if(a.previousSibling){if(a=a.previousSibling,"xforms-var"===a.localName&&a.xfElement.name===b)return a.xfElement}else a=a.parentNode;XsltForms_globals.error(null,"xforms-compute-exception","Variable $"+b+" not found")}XsltForms_globals.stringValue=function(a){return Fleur.minimal?"object"!==typeof a?""+a:a&&0!==a.length?XsltForms_globals.xmlValue(a.head()):"":XsltForms_globals.xmlValue(a.head?a.head():a)};
      XsltForms_globals.booleanValue=function(a){return Fleur.minimal?"undefined"!==typeof a&&a?"undefined"!==typeof a.length?0<a.length:!!a:!1:"true"===a.data};XsltForms_globals.numberValue=function(a){if(Fleur.minimal){if("boolean"===typeof a)return NaN;a="object"===typeof a?XsltForms_globals.stringValue(a):a;return""===a?NaN:a-0}return Number(XsltForms_globals.stringValue(a))};XsltForms_globals.nodeSetValue=function(a){return a};
      XsltForms_globals.xmlValue=XsltForms_browser.isIE?function(a){if("object"!==typeof a)return a;var b=a.text;if(XsltForms_schema.getType(XsltForms_browser.getType(a)||"xsd_:string").eval)try{b=""===b?0:eval(b)}catch(c){}return b}:function(a){if("object"!==typeof a)return a;var b="undefined"!==typeof a.text?a.text:"undefined"!==typeof a.textContent?a.textContent:"undefined"!==typeof a.documentElement.text?a.documentElement.text:a.documentElement.textContent;if(XsltForms_schema.getType(XsltForms_browser.getType(a)||
      "xsd_:string").eval)try{b=""===b?0:eval(b)}catch(c){}return b};
      XsltForms_globals.xmlResolveEntities=function(a){a=XsltForms_globals.stringSplit(a,"&");for(var b=a[0],c=1,d=a.length;c<d;++c){var e=a[c],f=e.indexOf(";");if(-1===f)b+=a[c];else{var g=e.substring(0,f);switch(g){case "lt":g="<";break;case "gt":g=">";break;case "amp":g="&";break;case "quot":g='"';break;case "apos":g="'";break;case "nbsp":g=String.fromCharCode(160);break;default:var h=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","span"):document.createElement("span");
      h.innerHTML="&"+g+"; ";g=h.childNodes[0].nodeValue.charAt(0)}b+=g+e.substring(f+1)}}return b};XsltForms_globals.stringSplit=function(a,b){var c=a.indexOf(b);if(-1===c)return[a];var d=b.length,e=[];for(e.push(a.substr(0,c));-1!==c;){var f=a.indexOf(b,c+d);-1!==f?e.push(a.substr(c+d,f-c-d)):e.push(a.substr(c+d));c=f}return e};
      function XsltForms_xpath(a,b){this.subform=a;a.xpaths.push(this);this.expression=b;try{if(Fleur.minimal){var c=Fleur.XPathEvaluator._xp2js(b,"","");var d=eval(c);c=Fleur.minimal?XsltForms_FleurConv[d[0]](d[1]):(new Fleur.Transpiler("ctx","  ")).funcdef(d);c=eval(c)}else c=Fleur.XQueryParser._xp2js(b,[],[]),c=(new Fleur.Transpiler("ctx","  ")).funcdef(c),c=eval(c.inst)}catch(e){alert("XSLTForms Exception\n--------------------------\n\nError parsing the following XPath expression :\n\n"+b+"\n\n"+e.message);
      return}this.compiled=c;this.nsresolver=new Fleur.XPathNSResolver;a.expressions[b]=this;this.evaltime=0}XsltForms_xpath.prototype.evaluate=function(){alert("XPath error")};
      XsltForms_xpath.prototype.xpath_evaluate=function(a,b,c,d){var e=new Date;XsltForms_browser.assert(a);a.node?a.nsresolver||(a.nsresolver=this.nsresolver):a=new XsltForms_exprContext(c,a,null,null,null,this.nsresolver,b,d);try{var f=Fleur.minimal?this.compiled.evaluate(a):this.compiled(new Fleur.Context(a.node,{nsresolver:a.nsresolver},a.depsNodes,a.depsElements,a.position)).item;if(this.unordered&&f instanceof Array&&1<f.length){a=[];b=0;for(var g=f.length;b<g;b++)a.push({count:XsltForms_browser.selectNodesLength("preceding::* | ancestor::*",
      f[b]),node:f[b]});a.sort(function(l,k){return l.count-k.count});g=0;for(var h=a.length;g<h;g++)f[g]=a[g].node}this.evaltime+=new Date-e;return f}catch(l){return alert("XSLTForms Exception\n--------------------------\n\nError evaluating the following XPath expression :\n\n"+this.expression+"\n\n"+(l.name?l.name+"\n\n"+l.message:l)),null}};XsltForms_xpath.notfound=!1;XsltForms_xpath.create=function(a,b){var c=a.expressions[b];c||=new XsltForms_xpath(a,b);return c};
      XsltForms_xpath.prototype.dispose=function(){delete this.subform.expressions[this.expression]};XsltForms_xpath.registerNS=function(a,b){if(XsltForms_xpath.notfound){XsltForms_xpath.notfound=!1;for(var c in XsltForms_xpath.expressions)XsltForms_xpath.expressions.hasOwnProperty(c)&&(XsltForms_xpath.expressions[c].nsresolver.registerNotFound(a,b),XsltForms_xpath.expressions[c].nsresolver.notfound&&(XsltForms_xpath.notfound=!0))}};
      function XsltForms_xpathFunction(a,b,c,d){this.evaluate=d;this.defaultTo=b;this.acceptContext=a;this.returnNodes=c}XsltForms_xpathFunction.DEFAULT_NONE=null;XsltForms_xpathFunction.DEFAULT_NODE=0;XsltForms_xpathFunction.DEFAULT_NODESET=1;XsltForms_xpathFunction.DEFAULT_STRING=2;
      XsltForms_xpathFunction.prototype.call=function(a,b){if(0===b.length)switch(this.defaultTo){case XsltForms_xpathFunction.DEFAULT_NODE:a.node&&(b=[a.node]);break;case XsltForms_xpathFunction.DEFAULT_NODESET:a.node&&(b=[[a.node]]);break;case XsltForms_xpathFunction.DEFAULT_STRING:b=[XsltForms_xpathCoreFunctions.string.evaluate([a.node])]}this.acceptContext&&b.unshift(a);return this.evaluate.apply(null,b)};
      var XsltForms_mathConstants={PI:"3.14159265358979323846264338327950288419716939937510582",E:"2.71828182845904523536028747135266249775724709369995958",SQRT2:"1.41421356237309504880168872420969807856967187537694807",LN2:"0.693147180559945309417232121458176568075500134360255254",LN10:"2.30258509299404568401799145468436420760110148862877298",LOG2E:"1.44269504088896340735992468100189213742664595415298594",SQRT1_2:"0.707106781186547524400844362104849039284835937688474038"},XsltForms_xpathFunctionExceptions=
      {lastInvalidArgumentsNumber:{name:"last(): Invalid number of arguments",message:"last() function has no argument"},positionInvalidArgumentsNumber:{name:"position(): Invalid number of arguments",message:"position() function has no argument"},countInvalidArgumentsNumber:{name:"count(): Invalid number of arguments",message:"count() function must have one argument exactly"},countInvalidArgumentType:{name:"count(): Invalid type of argument",message:"count() function must have a nodeset argument"},idInvalidArgumentsNumber:{name:"id(): Invalid number of arguments",
      message:"id() function must have one argument exactly"},idInvalidArgumentType:{name:"id(): Invalid type of argument",message:"id() function must have a nodeset or string argument"},localNameInvalidArgumentsNumber:{name:"local-name(): Invalid number of arguments",message:"local-name() function must have one argument at most"},localNameInvalidArgumentType:{name:"local-name(): Invalid type of argument",message:"local-name() function must have a nodeset argument"},localNameNoContext:{name:"local-name(): no context node",
      message:"local-name() function must have a nodeset argument"},namespaceUriInvalidArgumentsNumber:{name:"namespace-uri(): Invalid number of arguments",message:"namespace-uri() function must have one argument at most"},namespaceUriInvalidArgumentType:{name:"namespace-uri(): Invalid type of argument",message:"namespace-uri() function must have a nodeset argument"},nameInvalidArgumentsNumber:{name:"name(): Invalid number of arguments",message:"name() function must have one argument at most"},nameInvalidArgumentType:{name:"name(): Invalid type of argument",
      message:"name() function must have a nodeset argument"},stringInvalidArgumentsNumber:{name:"string(): Invalid number of arguments",message:"string() function must have one argument at most"},concatInvalidArgumentsNumber:{name:"concat(): Invalid number of arguments",message:"concat() function must have at least two arguments"},startsWithInvalidArgumentsNumber:{name:"starts-with(): Invalid number of arguments",message:"starts-with() function must have two arguments exactly"},endsWithInvalidArgumentsNumber:{name:"ends-with(): Invalid number of arguments",
      message:"ends-with() function must have two arguments exactly"},containsInvalidArgumentsNumber:{name:"contains(): Invalid number of arguments",message:"contains() function must have two arguments exactly"},substringBeforeInvalidArgumentsNumber:{name:"substring-before(): Invalid number of arguments",message:"substring-before() function must have two arguments exactly"},replaceInvalidArgumentsNumber:{name:"replace(): Invalid number of arguments",message:"replace() function must have three arguments exactly"},
      substringAfterInvalidArgumentsNumber:{name:"substring-after(): Invalid number of arguments",message:"substring-after() function must have two arguments exactly"},substringInvalidArgumentsNumber:{name:"substring(): Invalid number of arguments",message:"substring() function must have two or three arguments"},compareInvalidArgumentsNumber:{name:"compare(): Invalid number of arguments",message:"compare() function must have two arguments exactly"},stringLengthInvalidArgumentsNumber:{name:"string-length(): Invalid number of arguments",
      message:"string-length() function must have one argument at most"},normalizeSpaceInvalidArgumentsNumber:{name:"normalize-space(): Invalid number of arguments",message:"normalize-space() function must have one argument at most"},translateInvalidArgumentsNumber:{name:"translate(): Invalid number of arguments",message:"translate() function must have three argument exactly"},booleanInvalidArgumentsNumber:{name:"boolean(): Invalid number of arguments",message:"boolean() function must have one argument exactly"},
      notInvalidArgumentsNumber:{name:"not(): Invalid number of arguments",message:"not() function must have one argument exactly"},trueInvalidArgumentsNumber:{name:"true(): Invalid number of arguments",message:"true() function must have no argument"},falseInvalidArgumentsNumber:{name:"false(): Invalid number of arguments",message:"false() function must have no argument"},langInvalidArgumentsNumber:{name:"lang(): Invalid number of arguments",message:"lang() function must have one argument exactly"},numberInvalidArgumentsNumber:{name:"number(): Invalid number of arguments",
      message:"number() function must have one argument exactly"},sumInvalidArgumentsNumber:{name:"sum(): Invalid number of arguments",message:"sum() function must have one argument exactly"},sumInvalidArgumentType:{name:"sum(): Invalid type of argument",message:"sum() function must have a nodeset argument"},floorInvalidArgumentsNumber:{name:"floor(): Invalid number of arguments",message:"floor() function must have one argument exactly"},ceilingInvalidArgumentsNumber:{name:"ceiling(): Invalid number of arguments",
      message:"ceiling() function must have one argument exactly"},roundInvalidArgumentsNumber:{name:"round(): Invalid number of arguments",message:"round() function must have one argument exactly"},powerInvalidArgumentsNumber:{name:"power(): Invalid number of arguments",message:"power() function must have one argument exactly"},randomInvalidArgumentsNumber:{name:"random(): Invalid number of arguments",message:"random() function must have no argument"},booleanFromStringInvalidArgumentsNumber:{name:"boolean-from-string(): Invalid number of arguments",
      message:"boolean-from-string() function must have one argument exactly"},ifInvalidArgumentsNumber:{name:"if(): Invalid number of arguments",message:"if() function must have three argument exactly"},chooseInvalidArgumentsNumber:{name:"choose(): Invalid number of arguments",message:"choose() function must have three argument exactly"},digestInvalidArgumentsNumber:{name:"digest(): Invalid number of arguments",message:"digest() function must have two or three arguments"},hmacInvalidArgumentsNumber:{name:"choose(): Invalid number of arguments",
      message:"choose() function must have three or four arguments"},avgInvalidArgumentsNumber:{name:"avg(): Invalid number of arguments",message:"avg() function must have one argument exactly"},avgInvalidArgumentType:{name:"avg(): Invalid type of argument",message:"avg() function must have a nodeset argument"},minInvalidArgumentsNumber:{name:"min(): Invalid number of arguments",message:"min() function must have one argument exactly"},minInvalidArgumentType:{name:"min(): Invalid type of argument",message:"min() function must have a nodeset argument"},
      maxInvalidArgumentsNumber:{name:"max(): Invalid number of arguments",message:"max() function must have one argument exactly"},maxInvalidArgumentType:{name:"max(): Invalid type of argument",message:"max() function must have a nodeset argument"},serializeInvalidArgumentType:{name:"serialize(): Invalid type of argument",message:"serialize() function must have a nodeset argument"},countNonEmptyInvalidArgumentsNumber:{name:"count-non-empty(): Invalid number of arguments",message:"count-non-empty() function must have one argument exactly"},
      countNonEmptyInvalidArgumentType:{name:"count-non-empty(): Invalid type of argument",message:"count-non-empty() function must have a nodeset argument"},indexInvalidArgumentsNumber:{name:"index(): Invalid number of arguments",message:"index() function must have one argument exactly"},nodeIndexInvalidArgumentsNumber:{name:"nodeIndex(): Invalid number of arguments",message:"nodeIndex() function must have one argument exactly"},propertyInvalidArgumentsNumber:{name:"property(): Invalid number of arguments",
      message:"property() function must have one argument exactly"},propertyInvalidArgument:{name:"property(): Invalid argument",message:"Invalid property name"},secondsInvalidArgumentsNumber:{name:"seconds(): Invalid number of arguments",message:"seconds() function must have one argument exactly"},monthsInvalidArgumentsNumber:{name:"months(): Invalid number of arguments",message:"months() function must have one argument exactly"},instanceInvalidArgumentsNumber:{name:"instance(): Invalid number of arguments",
      message:"instance() function must have zero or one argument"},subformInstanceInvalidArgumentsNumber:{name:"subform-instance(): Invalid number of arguments",message:"subform-instance() function must have no argument"},subformContextInvalidArgumentsNumber:{name:"subform-context(): Invalid number of arguments",message:"subform-context() function must have no argument"},nowInvalidArgumentsNumber:{name:"now(): Invalid number of arguments",message:"now() function must have no argument"},localDateInvalidArgumentsNumber:{name:"local-date(): Invalid number of arguments",
      message:"local-date() function must have no argument"},localDateTimeInvalidArgumentsNumber:{name:"local-dateTime(): Invalid number of arguments",message:"local-dateTime() function must have no argument"},adjustDateTimeToTimezoneInvalidArgumentsNumber:{name:"adjust-dateTime-to-timezone(): Invalid number of arguments",message:"adjust-dateTime-to-timezone() function must have zero or one argument"},daysFromDateInvalidArgumentsNumber:{name:"days-from-date(): Invalid number of arguments",message:"days-from-date() function must have one argument exactly"},
      daysToDateInvalidArgumentsNumber:{name:"days-to-date(): Invalid number of arguments",message:"days-to-date() function must have one argument exactly"},secondsToDateTimeInvalidArgumentsNumber:{name:"seconds-to-dateTime(): Invalid number of arguments",message:"seconds-to-dateTime() function must have one argument exactly"},secondsFromDateTimeInvalidArgumentsNumber:{name:"seconds-from-dateTime(): Invalid number of arguments",message:"seconds-from-dateTime() function must have one argument exactly"},
      currentInvalidArgumentsNumber:{name:"current(): Invalid number of arguments",message:"current() function must have no argument"},validInvalidArgumentsNumber:{name:"valid(): Invalid number of arguments",message:"valid() function must have one argument exactly"},validInvalidArgumentType:{name:"valid(): Invalid type of argument",message:"valid() function must have a nodeset argument"},isNonEmptyArrayArgumentsNumber:{name:"is-non-empty-array(): Invalid number of arguments",message:"is-non-empty-array() function must have zero or one argument"},
      isNonEmptyArrayInvalidArgumentType:{name:"is-non-empty-array(): Invalid type of argument",message:"is-non-empty-array() function must have a node argument"},isCardNumberInvalidArgumentsNumber:{name:"is-card-number(): Invalid number of arguments",message:"is-card-number() function must have one argument exactly"},upperCaseInvalidArgumentsNumber:{name:"upper-case(): Invalid number of arguments",message:"upper-case() function must have one argument exactly"},lowerCaseInvalidArgumentsNumber:{name:"lower-case(): Invalid number of arguments",
      message:"lower-case() function must have one argument exactly"},formatNumberInvalidArgumentsNumber:{name:"format-number(): Invalid number of arguments",message:"format-number() function must have two arguments exactly"},formatDateTimeInvalidArgumentsNumber:{name:"format-dateTime(): Invalid number of arguments",message:"format-dateTime() function must have two arguments exactly"},distinctValuesInvalidArgumentsNumber:{name:"distinct-values(): Invalid number of arguments",message:"distinct-values() function must have one argument exactly"},
      sortInvalidArgumentsNumber:{name:"sort(): Invalid number of arguments",message:"sort function must have one argument exactly"},transformInvalidArgumentsNumber:{name:"transform(): Invalid number of arguments",message:"transform() function must have two arguments exactly"},serializeNoContext:{name:"serialize(): no context node",message:"serialize() function must have a node argument"},serializeInvalidArgumentsNumber:{name:"serialize(): Invalid number of arguments",message:"serialize() function must have one argument exactly"},
      eventInvalidArgumentsNumber:{name:"event(): Invalid number of arguments",message:"event() function must have one argument exactly"},bindInvalidArgumentsNumber:{name:"bind(): Invalid number of arguments",message:"bind() function must have one argument exactly"},alertInvalidArgumentsNumber:{name:"alert(): Invalid number of arguments",message:"alert() function must have one argument exactly"},jsevalInvalidArgumentsNumber:{name:"js-eval(): Invalid number of arguments",message:"js-eval() function must have one argument exactly"},
      stringJoinInvalidArgumentsNumber:{name:"string-join(): Invalid number of arguments",message:"string-join() function must have one or two arguments"},stringJoinInvalidArgumentType:{name:"string-join(): Invalid type of argument",message:"string-join() function must have a nodeset argument"},itextInvalidArgumentsNumber:{name:"itext(): Invalid number of arguments",message:"itext() function must have one argument"},selectionInvalidArgumentsNumber:{name:"selection(): Invalid number of arguments",message:"selection() function must have one argument exactly"},
      controlPropertyInvalidArgumentsNumber:{name:"control-property(): Invalid number of arguments",message:"control-property() function must have two arguments exactly"},encodeForUriInvalidArgumentsNumber:{name:"encode-for-uri(): Invalid number of arguments",message:"encode-for-uri() function must have one argument exactly"},matchInvalidArgumentsNumber:{name:"match(): Invalid number of arguments",message:"match() function must have two or three arguments"},uuidInvalidArgumentsNumber:{name:"uuid(): Invalid number of arguments",
      message:"uuid() function must have no argument"},metaInvalidArgumentsNumber:{name:"meta(): Invalid number of arguments",message:"meta() function must have one or two arguments"},formSourceInvalidArgumentsNumber:{name:"form-source(): Invalid number of arguments",message:"form-source() function has no argument"}},XsltForms_xpathCoreFunctions={"http://www.w3.org/2005/xpath-functions node":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.nodeInvalidArgumentsNumber;
      return a.current.childNodes}),"http://www.w3.org/2005/xpath-functions comment":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.commentInvalidArgumentsNumber;var b=[];if(a.current.childNodes)for(var c=0,d=a.current.childNodes.length;c<d;c++)a.current.childNodes[c].nodeType===Fleur.Node.COMMENT_NODE&&b.push(a.current.childNodes[c]);return b}),"http://www.w3.org/2005/xpath-functions text":new XsltForms_xpathFunction(!0,
      XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.textInvalidArgumentsNumber;var b=[];if(a.current.childNodes)for(var c=0,d=a.current.childNodes.length;c<d;c++)a.current.childNodes[c].nodeType===Fleur.Node.TEXT_NODE&&b.push(a.current.childNodes[c]);return b}),"http://www.w3.org/2005/xpath-functions array":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.textInvalidArgumentsNumber;
      var b=[];if(a.current.childNodes)for(var c=0,d=a.current.childNodes.length;c<d;c++)a.current.childNodes[c].nodeType===Fleur.Node.ARRAY_NODE&&b.push(a.current.childNodes[c]);return b}),"http://www.w3.org/2005/xpath-functions map":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.textInvalidArgumentsNumber;var b=[];if(a.current.childNodes)for(var c=0,d=a.current.childNodes.length;c<d;c++)a.current.childNodes[c].nodeType===
      Fleur.Node.MAP_NODE&&b.push(a.current.childNodes[c]);return b}),"http://www.w3.org/2005/xpath-functions entry":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.textInvalidArgumentsNumber;var b=[];if(a.current.entries)for(var c=0,d=a.current.entries.length;c<d;c++)b.push(a.current.entries[c]);return b}),"http://www.w3.org/2005/xpath-functions last":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.lastInvalidArgumentsNumber;return a.nodelist.length}),"http://www.w3.org/2005/xpath-functions position":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.positionInvalidArgumentsNumber;return a.position}),"http://www.w3.org/2002/xforms context":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==
      arguments.length)throw XsltForms_xpathFunctionExceptions.positionInvalidArgumentsNumber;return[a.current]}),"http://www.w3.org/2005/xpath-functions count":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.countInvalidArgumentsNumber;if("object"!==typeof a)throw XsltForms_xpathFunctionExceptions.countInvalidArgumentType;return a.length}),"http://www.w3.org/2005/xpath-functions id":new XsltForms_xpathFunction(!0,
      XsltForms_xpathFunction.DEFAULT_NODE,!1,function(a,b,c){if(2!==arguments.length&&3!==arguments.length)throw XsltForms_xpathFunctionExceptions.idInvalidArgumentsNumber;if("object"!==typeof b&&"string"!==typeof b)throw XsltForms_xpathFunctionExceptions.idInvalidArgumentType;var d=[];c||=a.node.ownerDocument?[a.node.ownerDocument]:[a.node];if("string"!==typeof b&&"undefined"!==typeof b.length)for(var e=0,f=b.length;e<f;++e)for(var g=XsltForms_xpathCoreFunctions["http://www.w3.org/2005/xpath-functions id"].evaluate(a,
      b[e],c),h=0,l=g.length;h<l;h++)d.push(g[h]);else if(a.node)for(e=XsltForms_globals.stringValue(b).split(/\s+/),f=XsltForms_globals.IDstr?XsltForms_globals.IDstr:"@xml:id",g=0,h=e.length;g<h;g++)(l=XsltForms_browser.selectSingleNode("descendant-or-self::*["+f+"='"+e[g]+"']",c[0]))&&d.push(l),(l=XsltForms_browser.selectSingleNode("descendant-or-self::*[@*[local-name() = 'type'] = 'xsd:ID' and . = '"+e[g]+"']",c[0]))&&d.push(l);return d}),"http://www.w3.org/2005/xpath-functions local-name":new XsltForms_xpathFunction(!1,
      XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.localNameInvalidArgumentsNumber;if(1===arguments.length&&"object"!==typeof a)throw XsltForms_xpathFunctionExceptions.localNameInvalidArgumentType;if(0===arguments.length)throw XsltForms_xpathFunctionExceptions.localNameNoContext;return 0===a.length?"":a[0].nodeName.replace(/^.*:/,"")}),"http://www.w3.org/2005/xpath-functions namespace-uri":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,
      !1,function(a){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.namespaceUriInvalidArgumentsNumber;if(1===arguments.length&&"object"!==typeof a)throw XsltForms_xpathFunctionExceptions.namespaceUriInvalidArgumentType;return 0===a.length?"":a[0].namespaceURI||""}),"http://www.w3.org/2005/xpath-functions name":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.nameInvalidArgumentsNumber;if(1===
      arguments.length&&"object"!==typeof a)throw XsltForms_xpathFunctionExceptions.nameInvalidArgumentType;return 0===a.length?"":a[0].nodeName}),"http://www.w3.org/2005/xpath-functions string":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.stringInvalidArgumentsNumber;return XsltForms_globals.stringValue(a)}),"http://www.w3.org/2005/xpath-functions concat":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(){if(2>arguments.length)throw XsltForms_xpathFunctionExceptions.concatInvalidArgumentsNumber;for(var a="",b=0,c=arguments.length;b<c;++b)a+=XsltForms_globals.stringValue(arguments[b]);return a}),"http://www.w3.org/2005/xpath-functions starts-with":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.startsWithInvalidArgumentsNumber;return 0===XsltForms_globals.stringValue(a).indexOf(XsltForms_globals.stringValue(b))}),
      "http://www.w3.org/2005/xpath-functions ends-with":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.endsWithInvalidArgumentsNumber;var c=XsltForms_globals.stringValue(a),d=XsltForms_globals.stringValue(b);return c.substr(c.length-d.length,d.length)===d}),"http://www.w3.org/2005/xpath-functions contains":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.containsInvalidArgumentsNumber;
      return-1!==XsltForms_globals.stringValue(a).indexOf(XsltForms_globals.stringValue(b))}),"http://www.w3.org/2005/xpath-functions substring-before":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.substringBeforeInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);return a.substring(0,a.indexOf(XsltForms_globals.stringValue(b)))}),"http://www.w3.org/2005/xpath-functions substring-after":new XsltForms_xpathFunction(!1,
      XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.substringAfterInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);b=XsltForms_globals.stringValue(b);var c=a.indexOf(b);return-1===c?"":a.substring(c+b.length)}),"http://www.w3.org/2005/xpath-functions substring":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b,c){if(2!==arguments.length&&3!==arguments.length)throw XsltForms_xpathFunctionExceptions.substringInvalidArgumentsNumber;
      a=XsltForms_globals.stringValue(a);b=Math.round(XsltForms_globals.numberValue(b));return isNaN(b)?"":c?(c=Math.round(XsltForms_globals.numberValue(c)),0>=b?a.substr(0,b+c-1):a.substr(b-1,c)):a.substr(Math.max(b-1,0))}),"http://www.w3.org/2005/xpath-functions compare":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.compareInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);b=XsltForms_globals.stringValue(b);
      return a===b?0:a>b?1:-1}),"http://www.w3.org/2005/xpath-functions string-length":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_STRING,!1,function(a){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.stringLengthInvalidArgumentsNumber;return XsltForms_globals.stringValue(a).length}),"http://www.w3.org/2005/xpath-functions normalize-space":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_STRING,!1,function(a){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.normalizeSpaceLengthInvalidArgumentsNumber;
      return XsltForms_globals.stringValue(a).replace(/^\s+|\s+$/g,"").replace(/\s+/," ")}),"http://www.w3.org/2005/xpath-functions translate":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b,c){if(3!==arguments.length)throw XsltForms_xpathFunctionExceptions.translateInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);b=XsltForms_globals.stringValue(b);c=XsltForms_globals.stringValue(c);for(var d="",e=0,f=a.length;e<f;++e){var g=b.indexOf(a.charAt(e));d+=-1===g?
      a.charAt(e):c.charAt(g)}return d}),"http://www.w3.org/2005/xpath-functions replace":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b,c){if(3!==arguments.length)throw XsltForms_xpathFunctionExceptions.replaceInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);return a.replace(new RegExp(XsltForms_globals.stringValue(b),"g"),XsltForms_globals.stringValue(c))}),"http://www.w3.org/2005/xpath-functions boolean":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.booleanInvalidArgumentsNumber;return XsltForms_globals.booleanValue(a)}),"http://www.w3.org/2005/xpath-functions not":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.notInvalidArgumentsNumber;return!XsltForms_globals.booleanValue(a)}),"http://www.w3.org/2005/xpath-functions true":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(){if(0!==arguments.length)throw XsltForms_xpathFunctionExceptions.trueInvalidArgumentsNumber;return!0}),"http://www.w3.org/2005/xpath-functions false":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(){if(0!==arguments.length)throw XsltForms_xpathFunctionExceptions.falseInvalidArgumentsNumber;return!1}),"http://www.w3.org/2005/xpath-functions lang":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.langInvalidArgumentsNumber;
      b=XsltForms_globals.stringValue(b);for(var c=a.node;c;c=c.parentNode)if("undefined"!==typeof c.attributes){var d=c.attributes.getNamedItemNS("http://www.w3.org/XML/1998/namespace","lang");if(d)return d=d.value.toLowerCase(),b=b.toLowerCase(),0===d.indexOf(b)&&(b.length===d.length||"-"===b.charAt(d.length))}return!1}),"http://www.w3.org/2005/xpath-functions number":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.numberInvalidArgumentsNumber;
      return XsltForms_globals.numberValue(a)}),"http://www.w3.org/2005/xpath-functions sum":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.sumInvalidArgumentsNumber;if("object"!==typeof a)throw XsltForms_xpathFunctionExceptions.sumInvalidArgumentType;for(var b=0,c=0,d=a.length;c<d;++c)b+=XsltForms_globals.numberValue(XsltForms_globals.xmlValue(a[c]));return b}),"http://www.w3.org/2005/xpath-functions floor":new XsltForms_xpathFunction(!1,
      XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.floorInvalidArgumentsNumber;return Math.floor(XsltForms_globals.numberValue(a))}),"http://www.w3.org/2005/xpath-functions ceiling":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.ceilingInvalidArgumentsNumber;return Math.ceil(XsltForms_globals.numberValue(a))}),"http://www.w3.org/2005/xpath-functions round":new XsltForms_xpathFunction(!1,
      XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.roundInvalidArgumentsNumber;return Math.round(XsltForms_globals.numberValue(a))}),"http://www.w3.org/2002/xforms power":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.powerInvalidArgumentsNumber;return Math.pow(XsltForms_globals.numberValue(a),XsltForms_globals.numberValue(b))}),"http://www.w3.org/2002/xforms random":new XsltForms_xpathFunction(!1,
      XsltForms_xpathFunction.DEFAULT_NONE,!1,function(){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.randomInvalidArgumentsNumber;return Math.random()}),"http://www.w3.org/2002/xforms boolean-from-string":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.booleanFromStringInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);switch(a.toLowerCase()){case "true":case "1":return!0;case "false":case "0":return!1;
      default:return!1}}),"http://www.w3.org/2002/xforms if":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!0,function(a,b,c){if(3!==arguments.length)throw XsltForms_xpathFunctionExceptions.ifInvalidArgumentsNumber;return XsltForms_globals.booleanValue(a)?b:c}),"http://www.w3.org/2002/xforms choose":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!0,function(a,b,c){if(3!==arguments.length)throw XsltForms_xpathFunctionExceptions.chooseInvalidArgumentsNumber;return XsltForms_globals.booleanValue(a)?
      b:c}),"http://www.w3.org/2005/xpath-functions avg":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.avgInvalidArgumentsNumber;if("object"!==typeof a)throw XsltForms_xpathFunctionExceptions.avgInvalidArgumentType;var b=XsltForms_xpathCoreFunctions["http://www.w3.org/2005/xpath-functions sum"].evaluate(a),c=XsltForms_xpathCoreFunctions["http://www.w3.org/2005/xpath-functions count"].evaluate(a);return b/
      c}),"http://www.w3.org/2005/xpath-functions min":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.minInvalidArgumentsNumber;if("object"!==typeof a)throw XsltForms_xpathFunctionExceptions.minInvalidArgumentType;if(0===a.length)return NaN;for(var b=XsltForms_globals.numberValue(XsltForms_globals.xmlValue(a[0])),c=1,d=a.length;c<d;++c){var e=XsltForms_globals.numberValue(XsltForms_globals.xmlValue(a[c]));
      if(isNaN(e))return NaN;e<b&&(b=e)}return b}),"http://www.w3.org/2005/xpath-functions max":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.maxInvalidArgumentsNumber;if("object"!==typeof a)throw XsltForms_xpathFunctionExceptions.maxInvalidArgumentType;if(0===a.length)return NaN;for(var b=XsltForms_globals.numberValue(XsltForms_globals.xmlValue(a[0])),c=1,d=a.length;c<d;++c){var e=XsltForms_globals.numberValue(XsltForms_globals.xmlValue(a[c]));
      if(isNaN(e))return NaN;e>b&&(b=e)}return b}),"http://www.w3.org/2002/xforms count-non-empty":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.countNonEmptyInvalidArgumentsNumber;if("object"!==typeof a)throw XsltForms_xpathFunctionExceptions.countNonEmptyInvalidArgumentType;for(var b=0,c=0,d=a.length;c<d;++c)0<XsltForms_globals.xmlValue(a[c]).length&&b++;return b}),"http://www.w3.org/2002/xforms index":new XsltForms_xpathFunction(!0,
      XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.indexInvalidArgumentsNumber;var c=XsltForms_idManager.find(XsltForms_globals.stringValue(b));if(!c)return NaN;c=c.xfElement;a.addDepElement(c);return c.index}),"http://www.w3.org/2002/xforms nodeindex":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.nodeIndexInvalidArgumentsNumber;
      var c=XsltForms_idManager.find(XsltForms_globals.stringValue(b)),d=c.node;a.addDepElement(c.xfElement);d&&(a.addDepNode(d),a.addDepElement(document.getElementById(XsltForms_browser.getDocMeta(d.nodeType===Fleur.Node.DOCUMENT_NODE?d:d.ownerDocument,"model")).xfElement));return d?[d]:[]}),"http://www.w3.org/2002/xforms property":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.propertyInvalidArgumentsNumber;
      a=XsltForms_globals.stringValue(a);switch(a){case "version":return"1.1";case "conformance-level":return"full";case "xsltforms:debug-mode":return XsltForms_globals.debugMode?"on":"off";case "xsltforms:version":return XsltForms_globals.fileVersion;case "xsltforms:version-number":return""+XsltForms_globals.fileVersionNumber;default:if("xsl:"===a.substring(0,4))for(var b=a.substring(4),c=XsltForms_browser.transformText("<dummy/>","<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:msxsl=\"urn:schemas-microsoft-com:xslt\">  <xsl:output method=\"xml\"/>  <xsl:template match=\"/\">    <xsl:variable name=\"version\">      <xsl:if test=\"system-property('xsl:vendor')='Microsoft'\">        <xsl:value-of select=\"system-property('msxsl:version')\"/>      </xsl:if>    </xsl:variable>    <properties><xsl:value-of select=\"concat('|vendor=',system-property('xsl:vendor'),'|vendor-url=',system-property('xsl:vendor-url'),'|vendor-version=',$version,'|')\"/></properties>  </xsl:template></xsl:stylesheet>",
      !0).split("|"),d=1,e=c.length;d<e;d++){var f=c[d].split("=",2);if(f[0]===b)return f[1]}a.match("^["+XsltForms_typeDefs.ctes.i+"]["+XsltForms_typeDefs.ctes.c+"]*$")&&XsltForms_globals.error(XsltForms_globals.defaultModel,"xforms-binding-exception","Invalid NCNAME")}return""}),"http://www.w3.org/2002/xforms seconds":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.secondsInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);
      var b=a.match("^-?P(?!$)([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T(?!$)([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]+)?S)?)?$");return b?("-"===a.charAt(0)?-1:1)*(60*(60*(24*parseFloat(b[3]||0)+parseFloat(b[5]||0))+parseFloat(b[6]||0))+parseFloat(b[7]||0)):NaN}),"http://www.w3.org/2002/xforms months":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.monthsInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);var b=a.match("^-?P(?!$)([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T(?!$)([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]+)?S)?)?$");
      return b?("-"===a.charAt(0)?-1:1)*(12*parseFloat(b[1]||0)+parseFloat(b[2]||0)):NaN}),"http://www.w3.org/2002/xforms instance":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!0,function(a,b,c,d){if(4<arguments.length)throw XsltForms_xpathFunctionExceptions.instanceInvalidArgumentsNumber;var e=b?XsltForms_globals.stringValue(b):"";if(""!==e){var f=document.getElementById(e);if(!f)throw Error({name:"instance "+e+" not found"});if(c&&f.xfElement.archive){c=XsltForms_globals.stringValue(c);
      var g=f.xfElement.archive[c];if(!g)throw Error({name:"file "+c+" not found in instance "+e});g.doc||(g.doc=XsltForms_browser.createXMLDocument("<dummy/>"),e=XsltForms_browser.getDocMeta(f.xfElement.doc,"model"),XsltForms_browser.loadDoc(g.doc,XsltForms_browser.utf8decode(zip_inflate(g.compressedFileData))),XsltForms_browser.setDocMeta(g.doc,"instance",b),XsltForms_browser.setDocMeta(g.doc,"model",e))}f=f.xfElement.doc.documentElement}else f=a.node.ownerDocument.documentElement;a.addDepNode(f);return[f]}),
      "http://www.w3.org/2005/xpath-functions subform-instance":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!0,function(a){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.subformInstanceInvalidArgumentsNumber;return[a.subform.instances[0].doc.documentElement]}),"http://www.w3.org/2005/xpath-functions subform-context":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!0,function(a){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.subformContextInvalidArgumentsNumber;
      var b=document.getElementById(a.subform.eltid).xfElement.boundnodes;return b?[b[0]]:[]}),"http://www.w3.org/2002/xforms now":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(){if(0!==arguments.length)throw XsltForms_xpathFunctionExceptions.nowInvalidArgumentsNumber;return XsltForms_browser.i18n.format(new Date,"yyyy-MM-ddThh:mm:ssz",!1)}),"http://www.w3.org/2002/xforms local-date":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(){if(0!==
      arguments.length)throw XsltForms_xpathFunctionExceptions.localDateInvalidArgumentsNumber;return XsltForms_browser.i18n.format(new Date,"yyyy-MM-ddz",!0)}),"http://www.w3.org/2002/xforms local-dateTime":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(){if(0!==arguments.length)throw XsltForms_xpathFunctionExceptions.localDateTimeInvalidArgumentsNumber;return XsltForms_browser.i18n.format(new Date,"yyyy-MM-ddThh:mm:ssz",!0)}),"http://www.w3.org/2002/xforms adjust-dateTime-to-timezone":new XsltForms_xpathFunction(!1,
      XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(0===arguments.length)return"";if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.adjustDateTimeToTimezoneInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);if(!XsltForms_schema.getType("xsd_:date").validate(a)&&!XsltForms_schema.getType("xsd_:dateTime").validate(a))return"";var b=/^([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\.[0-9]+)?(Z|[+\-])?([01][0-9]|2[0-3])?:?([0-5][0-9])?/.exec(a);
      if(b[8]){var c=new Date(Date.UTC(b[1],b[2]-1,b[3],b[4],b[5],b[6]));"Z"!==b[8]&&c.setUTCMinutes(c.getUTCMinutes()+("+"===b[8]?-1:1)*(60*b[9]+Number(b[10])))}else c=new Date(b[1],b[2]-1,b[3],b[4],b[5],b[6]);return XsltForms_browser.i18n.format(c,"yyyy-MM-ddThh:mm:ssz",!0)}),"http://www.w3.org/2002/xforms days-from-date":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.daysFromDateInvalidArgumentsNumber;
      a=XsltForms_globals.stringValue(a);if(!XsltForms_schema.getType("xsd_:date").validate(a)&&!XsltForms_schema.getType("xsd_:dateTime").validate(a))return"NaN";var b=/^([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])/.exec(a);b=new Date(Date.UTC(b[1],b[2]-1,b[3]));return Math.floor(b.getTime()/864E5+1E-6)}),"http://www.w3.org/2002/xforms days-to-date":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.daysToDateInvalidArgumentsNumber;
      a=XsltForms_globals.numberValue(a);if(isNaN(a))return"";var b=new Date;b.setTime(864E5*Math.floor(a+1E-6));return XsltForms_browser.i18n.format(b,"yyyy-MM-dd",!1)}),"http://www.w3.org/2002/xforms seconds-from-dateTime":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.secondsFromDateTimeInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);if(!XsltForms_schema.getType("xsd_:dateTime").validate(a))return"NaN";
      var b=/^([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\.[0-9]+)?(Z|[+\-])?([01][0-9]|2[0-3])?:?([0-5][0-9])?/.exec(a),c=new Date(Date.UTC(b[1],b[2]-1,b[3],b[4],b[5],b[6]));b[8]&&"Z"!==b[8]&&c.setUTCMinutes(c.getUTCMinutes()+("+"===b[8]?-1:1)*(60*b[9]+Number(b[10])));return Math.floor(c.getTime()/1E3+1E-6)+(b[7]?Number(b[7]):0)}),"http://www.w3.org/2002/xforms seconds-to-dateTime":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.secondsToDateTimeInvalidArgumentsNumber;a=XsltForms_globals.numberValue(a);if(isNaN(a))return"";var b=new Date;b.setTime(1E3*Math.floor(a+1E-6));return XsltForms_browser.i18n.format(b,"yyyy-MM-ddThh:mm:ssz",!1)}),"http://www.w3.org/2002/xforms current":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,!0,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.currentInvalidArgumentsNumber;
      a.addDepNode(a.node);a.addDepElement(document.getElementById(XsltForms_browser.getDocMeta(a.node.nodeType===Fleur.Node.DOCUMENT_NODE?a.node:a.node.ownerDocument,"model")).xfElement);return[a.current]}),"http://www.w3.org/2002/xforms valid":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.validInvalidArgumentsNumber;if("object"!==typeof a)throw XsltForms_xpathFunctionExceptions.validInvalidArgumentType;
      for(var b=!0,c=0,d=a.length;b&&c<d;c++)b=b&&XsltForms_globals.validate_(a[c]);return b}),"http://www.w3.org/2002/xforms is-card-number":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.isCardNumberInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a).trim();for(var b=0,c=Array(a.length),d=0,e=a.length;d<e;d++)if(c[d]=a.charAt(d)-0,0>c[d]||9<c[d])return!1;for(d=c.length-2;0<=d;d-=2)c[d]*=2,9<c[d]&&
      (c[d]-=9);d=0;for(e=c.length;d<e;d++)b+=c[d];return 0===b%10}),"http://www.w3.org/2002/xforms digest":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b,c){if(2!==arguments.length&&3!==arguments.length)throw XsltForms_xpathFunctionExceptions.digestInvalidArgumentsNumber;b=XsltForms_globals.stringValue(b);if("SHA-1"!==b&&"MD5"!==b&&"SHA-256"!==b&&"BASE64"!==b)return XsltForms_globals.error(XsltForms_globals.defaultModel,"xforms-compute-exception","Invalid crypting method"),
      "unsupported";c=c?XsltForms_globals.stringValue(c):"base64";if("hex"!==c&&"base64"!==c)return XsltForms_globals.error(XsltForms_globals.defaultModel,"xforms-compute-exception","Invalid encoding method"),"unsupported";a=XsltForms_globals.stringValue(a);return XsltForms_globals.encode(XsltForms_globals.crypto(XsltForms_globals.str2msg(a),b),c)}),"http://www.w3.org/2002/xforms hmac":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b,c,d){if(3!==arguments.length&&4!==
      arguments.length)throw XsltForms_xpathFunctionExceptions.hmacInvalidArgumentsNumber;c=XsltForms_globals.stringValue(c);if("SHA-1"!==c&&"MD5"!==c&&"SHA-256"!==c&&"BASE64"!==c)return XsltForms_globals.error(XsltForms_globals.defaultModel,"xforms-compute-exception","Invalid crypting method"),"unsupported";d=d?XsltForms_globals.stringValue(d):"base64";if("hex"!==d&&"base64"!==d)return XsltForms_globals.error(XsltForms_globals.defaultModel,"xforms-compute-exception","Invalid encoding method"),"unsupported";
      a=XsltForms_globals.stringValue(a);b=XsltForms_globals.stringValue(b);var e,f=[],g=[],h=XsltForms_globals.str2msg(a);64<h.length&&(h=XsltForms_globals.crypto(h,c));for(e=h.length+3>>2;16>e;e++)h.arr[e]=0;for(e=0;16>e;e++)f[e]=h.arr[e]^909522486,g[e]=h.arr[e]^1549556828;e=XsltForms_globals.str2msg(b);e.length+=64;e.arr=f.concat(e.arr);f=XsltForms_globals.crypto(e,c);f.length+=64;f.arr=g.concat(f.arr);return XsltForms_globals.encode(XsltForms_globals.crypto(f,c),d)}),"http://www.w3.org/2005/xpath-functions upper-case":new XsltForms_xpathFunction(!1,
      XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.upperCaseInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);return a.toUpperCase()}),"http://www.w3.org/2005/xpath-functions lower-case":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.lowerCaseInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);return a.toLowerCase()}),
      "http://www.w3.org/2005/xpath-functions distinct-values":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.distinctValuesInvalidArgumentsNumber;for(var b=[],c={},d=0,e=a.length;d<e;++d){var f=XsltForms_globals.xmlValue(a[d]);c[f]||(b.push(a[d]),c[f]=!0)}return b}),"http://www.w3.org/2005/xpath-functions sort":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.sortInvalidArgumentsNumber;
      return a.sort(function(b,c){b=XsltForms_globals.xmlValue(b);c=XsltForms_globals.xmlValue(c);return b<c?-1:b>c?1:0})}),"http://www.w3.org/2005/xpath-functions format-dateTime":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.formatNumberInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);for(var c="",d=0,e=b.length,f;d<e;){var g=b.charAt(d);for(f="";"["!==g&&d<e;)"]"!==g?c+=g:f===g&&(c+=g,g=
      ""),f=g,g=b.charAt(++d);if("["===g)if(g=b.charAt(++d),"["===g)c+=g,d++;else{for(f="";"]"!==g&&d<e;)f+=g,g=b.charAt(++d);if("]"===g){var h=g=null;switch(f.charAt(0)){case "Y":"i"===f.charAt(1).toLowerCase()?(h=Fleur.convertToRoman(parseInt(a.substr(0,4),10)),"i"===f.charAt(1)&&(h=h.toLowerCase())):g=parseInt(a.substr(0,4),10);break;case "M":"i"===f.charAt(1).toLowerCase()?(h=Fleur.convertToRoman(parseInt(a.substr(5,2),10)),"i"===f.charAt(1)&&(h=h.toLowerCase())):"n"===f.charAt(1).toLowerCase()?(h=
      Fleur.getMonthName(language,null),h="N"===f.charAt(1)?"n"===f.charAt(2)?h.charAt(0).toUpperCase()+h.substr(1).toLowerCase():h.toUpperCase():h.toLowerCase()):g=parseInt(a.substr(5,2),10);break;case "D":g=parseInt(a.substr(8,2),10);break;case "F":h=Fleur.getDayName(language,null);h="N"===f.charAt(1)?"n"===f.charAt(2)?h.charAt(0).toUpperCase()+h.substr(1).toLowerCase():h.toUpperCase():h.toLowerCase();break;case "h":g=parseInt(a.substr(11,2),10);break;case "m":g=parseInt(a.substr(14,2),10);break;case "s":g=
      parseInt(a.substr(17,2),10)}if(null!==g||null!==h){f=f.split(",");if(f[1]){var l=f[1].split("-");var k="*"===l[0]?1:parseInt(l[0],10);l=l[1]&&"*"!==l[1]?parseInt(l[1],10):Infinity}else k=Math.max(f[0].length-1,1),l=Infinity;null!==g&&(h=String(g));h="0".repeat(Math.max(k-h.length,0))+h;h.length>l&&"Y"===f[0].charAt(0)&&(h=h.substr(h.length-l))}null!==h&&(c+=h);d++}}}return c}),"http://www.w3.org/2005/xpath-functions format-number":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,
      !1,function(a,b){var c,d,e,f,g,h,l,k,m;if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.formatNumberInvalidArgumentsNumber;a=XsltForms_globals.numberValue(a);if(isNaN(a))return XsltForms_browser.i18n.get("format-number.NaN","NaN");var n=b.split(XsltForms_browser.i18n.get("format-number.pattern-separator-sign",";"));b=0>a&&n[1]?n[1]:n[0];var p=0;for(c=b.length;p<c&&-1===".,-%\u2030#0123456789".indexOf(b.charAt(p));)p++;var q=b.substring(0,p);var r=e=f=g=!1;var t=m=k=h=0;var x=[];var v=
      [];for(l=[];p<c&&-1!==".,e-%\u2030#0123456789".indexOf(b.charAt(p));){switch(b.charAt(p)){case ".":r=!0;var C=p+1;var u=0;for(d=x.length;u<d;)v[d-u-1]=p-x[u]-1,u++;break;case ",":r?l.push(p-C):x.push(p);break;case "e":e=!0;if(!r)for(u=0,d=x.length;u<d;)v[d-u-1]=p-x[u]-1,u++;break;case "%":f=!0;var y=0!==h;a*=100;if(!r)for(u=0,d=x.length;u<d;)v[d-u-1]=p-x[u]-1,u++;break;case "\u2030":g=!0;var z=0!==h;a*=1E3;if(!r)for(u=0,d=x.length;u<d;)v[d-u-1]=p-x[u]-1,u++;break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":e?
      t++:r?(k++,m++):h++;break;case "#":r&&m++}p++}if(!r){if(x.length!==v.length)for(u=0,d=x.length;u<d;)v[d-u-1]=p-x[u]-1,u++;0===h&&(h=1)}if(1<v.length){u=1;for(d=v.length;u<d&&0===v[u]%v[0];)u++;u===d&&(v=[v[0]])}if(1===v.length)for(u=1;30>u;)v[u]=v[u-1]+v[0],u++;c=b.substring(p);if(a===Number.POSITIVE_INFINITY)return q+XsltForms_browser.i18n.get("format-number.infinity","Infinity")+c;if(a===Number.NEGATIVE_INFINITY)return XsltForms_browser.i18n.get("format-number.minus-sign","-")+q+XsltForms_browser.i18n.get("format-number.infinity",
      "Infinity")+c;0>a&&1===n.length&&(q=XsltForms_browser.i18n.get("format-number.minus-sign","-")+q);if(e){var A=Math.floor(Math.log(a)/Math.LN10)+1-h;a/=Math.pow(10,A);p=0>A?XsltForms_browser.i18n.get("format-number.minus-sign","-"):"";A=""+Math.abs(A);A=p+"000000000000000000000000000000".substr(0,Math.max(0,t-A.length))+A}t=Math.abs(a).toFixed(m);0===m&&r&&(t+=".");m=-1===t.indexOf(".")?t.length:t.indexOf(".");m<h&&(t="000000000000000000000000000000".substr(0,h-m)+t,m=h);u=m-1;h="";p=0;for(d=t.length;0<=
      u;)h=t.charAt(u)+h,0!==u&&v[p]===m-u&&(h=XsltForms_browser.i18n.get("format-number.grouping-separator-sign",",")+h,p++),u--;if(r)for(h+=XsltForms_browser.i18n.get("format-number.decimal-separator-sign","."),u=m+1,p=0;u<d;)h+=t.charAt(u),u!==d-1&&l[p]===u-m&&(h+=XsltForms_browser.i18n.get("format-number.grouping-separator-sign",","),p++),u++;f&&(h=y?h+XsltForms_browser.i18n.get("format-number.percent-sign","%"):XsltForms_browser.i18n.get("format-number.percent-sign","%")+h);g&&(h=z?h+XsltForms_browser.i18n.get("format-number.per-mille-sign",
      "\u2030"):XsltForms_browser.i18n.get("format-number.per-mille-sign","\u2030")+h);e&&(h+=XsltForms_browser.i18n.get("format-number.exponent-separator-sign","e")+A);return q+h+c}),"http://www.w3.org/2002/xforms transform":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b,c){if(3>arguments.length)throw XsltForms_xpathFunctionExceptions.transformInvalidArgumentsNumber;if(0===a.length)return"";var d=[];d.push(XsltForms_browser.saveNode(a[0],"application/xml"));d.push(XsltForms_globals.stringValue(b));
      d.push(XsltForms_globals.booleanValue(c));for(var e=3,f=arguments.length;e<f;e++)d.push(XsltForms_globals.stringValue(arguments[e]));return XsltForms_browser.transformText.apply(null,d)}),"http://www.w3.org/2002/xforms serialize":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODE,!1,function(a,b,c){if(1<=arguments.length&&"object"!==typeof a)throw XsltForms_xpathFunctionExceptions.serializeInvalidArgumentType;if(0===arguments.length)throw XsltForms_xpathFunctionExceptions.serializeNoContext;
      return 0===a.length?"":XsltForms_browser.saveNode(a[0],b?XsltForms_globals.stringValue(b):"application/xml",null,"yes"===c?c:null)}),"http://www.w3.org/2002/xforms event":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.eventInvalidArgumentsNumber;for(var b=XsltForms_xmlevents.EventContexts.length-1;0<=b;b--){var c=XsltForms_xmlevents.EventContexts[b];if(c[a])return c[a]}return null}),"http://www.w3.org/2005/xpath-functions bind":new XsltForms_xpathFunction(!0,
      XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.bindInvalidArgumentsNumber;var c=XsltForms_idManager.find(XsltForms_globals.stringValue(b));if(!c)return null;c=c.xfElement;a.addDepElement(c);return c.nodes}),"http://www.w3.org/2005/xpath-functions is-non-empty-array":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a){if(1<arguments.length)throw XsltForms_xpathFunctionExceptions.isNonEmptyArrayInvalidArgumentsNumber;
      if("object"!==typeof a[0])throw XsltForms_xpathFunctionExceptions.isNonEmptyArrayInvalidArgumentType;return a[0].getAttribute("exsi:maxOccurs")&&"true"!==a[0].getAttribute("xsi:nil")}),"http://exslt.org/math abs":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.abs(XsltForms_globals.numberValue(a))}),"http://exslt.org/math acos":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.acos(XsltForms_globals.numberValue(a))}),"http://exslt.org/math asin":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.asin(XsltForms_globals.numberValue(a))}),"http://exslt.org/math atan":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.atan(XsltForms_globals.numberValue(a))}),"http://exslt.org/math atan2":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.math2InvalidArgumentsNumber;return Math.atan2(XsltForms_globals.numberValue(a),XsltForms_globals.numberValue(b))}),"http://exslt.org/math constant":new XsltForms_xpathFunction(!1,
      XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.math2InvalidArgumentsNumber;var c=XsltForms_mathConstants[XsltForms_globals.stringValue(a)]||"0";return parseFloat(c.substr(0,XsltForms_globals.numberValue(b)+2))}),"http://exslt.org/math cos":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.cos(XsltForms_globals.numberValue(a))}),
      "http://exslt.org/math exp":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.exp(XsltForms_globals.numberValue(a))}),"http://exslt.org/math log":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.log(XsltForms_globals.numberValue(a))}),
      "http://exslt.org/math power":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.math2InvalidArgumentsNumber;return Math.pow(XsltForms_globals.numberValue(a),XsltForms_globals.numberValue(b))}),"http://exslt.org/math sin":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.sin(XsltForms_globals.numberValue(a))}),
      "http://exslt.org/math sqrt":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.sqrt(XsltForms_globals.numberValue(a))}),"http://exslt.org/math tan":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.math1InvalidArgumentsNumber;return Math.tan(XsltForms_globals.numberValue(a))}),
      "http://exslt.org/regular-expressions match":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b,c){if(2!==arguments.length&&3!==arguments.length)throw XsltForms_xpathFunctionExceptions.matchInvalidArgumentsNumber;a=XsltForms_globals.stringValue(a);b=XsltForms_globals.stringValue(b);c=c?XsltForms_globals.stringValue(c):"";try{var d=a.match(new RegExp(b,c));if(!d)return[];for(var e="",f=0,g=d.length;f<g;f++)e+="<match>"+d[f]+"</match>";var h=XsltForms_browser.createXMLDocument("<matches>"+
      e+"</matches>");d=[];f=0;for(g=h.documentElement.children.length;f<g;f++)d.push(h.documentElement.children[f]);return d}catch(l){return[]}}),"http://www.w3.org/2005/xpath-functions alert":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.alertInvalidArgumentsNumber;alert(XsltForms_globals.stringValue(a));return a}),"http://www.w3.org/2005/xpath-functions itext":new XsltForms_xpathFunction(!0,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.itextInvalidArgumentsNumber;var c=document.getElementById(XsltForms_browser.getDocMeta(a.node.ownerDocument,"model")).xfElement.itext;return(c[XsltForms_globals.language]||c[c.defaultlang])[b]}),"http://www.w3.org/2005/xpath-functions js-eval":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.jsevalInvalidArgumentsNumber;
      return eval(XsltForms_globals.stringValue(a))}),"http://www.w3.org/2005/xpath-functions string-join":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b){if(1!==arguments.length&&2!==arguments.length)throw XsltForms_xpathFunctionExceptions.stringJoinInvalidArgumentsNumber;if("object"!==typeof a)throw XsltForms_xpathFunctionExceptions.stringJoinInvalidArgumentType;var c=[];b=b||"";for(var d=0,e=a.length;d<e;d++)c.push(XsltForms_globals.xmlValue(a[d]));return c.join(b)}),
      "http://www.w3.org/2005/xpath-functions selection":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.selectionInvalidArgumentsNumber;var b=XsltForms_globals.stringValue(a);return(b=XsltForms_idManager.find(b))&&b.xfElement?(b=b.xfElement,b=b.input,b.value.substring(b.selectionStart,b.selectionEnd)):""}),"http://www.w3.org/2005/xpath-functions control-property":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(a,b){if(2!==arguments.length)throw XsltForms_xpathFunctionExceptions.controlPropertyJoinInvalidArgumentsNumber;var c=XsltForms_globals.stringValue(a);return(c=XsltForms_idManager.find(c))&&c.xfElement&&(c=c.xfElement,c=c.input,b=XsltForms_globals.stringValue(b),c[b])?c[b]:""}),"http://www.w3.org/2005/xpath-functions encode-for-uri":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a){if(1!==arguments.length)throw XsltForms_xpathFunctionExceptions.encodeForUriInvalidArgumentsNumber;
      return encodeURIComponent(XsltForms_globals.stringValue(a))}),"http://www.w3.org/2005/xpath-functions fromtostep":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,b,c){for(var d=[];a<=b;a+=c)d.push({nodeType:Fleur.Node.DOCUMENT_NODE,localName:"repeatitem",text:a+"",documentElement:"dummy",getUserData:function(){return""}});return d}),"http://www.w3.org/2005/xpath-functions tokenize":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(a,
      b){var c=[];a=XsltForms_globals.stringValue(a);b=new RegExp(XsltForms_globals.stringValue(b.replace(/\\/g,"\\")));a=a.split(b);b=0;for(var d=a.length;b<d;b++)c.push({localName:"#text",text:a[b],documentElement:"dummy"});return c}),"http://www.w3.org/2005/xpath-functions uuid":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(){if(0!==arguments.length)throw XsltForms_xpathFunctionExceptions.uuidInvalidArgumentsNumber;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
      function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}),"http://www.w3.org/2005/xpath-functions meta":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NODESET,!1,function(a,b){if(1>arguments.length||2<arguments.length)throw XsltForms_xpathFunctionExceptions.metaInvalidArgumentsNumber;if(2===arguments.length&&"object"!==typeof a)throw XsltForms_xpathFunctionExceptions.metaInvalidArgumentType;if(1===arguments.length){var c=a;var d=XsltForms_globals.stringValue(a)}else c=
      a[0],d=XsltForms_globals.stringValue(b);return XsltForms_browser.getMeta(c,"meta-"+d)}),"http://www.w3.org/2005/xpath-functions form-source":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,!1,function(){if(0!==arguments.length)throw XsltForms_xpathFunctionExceptions.formSourceInvalidArgumentsNumber;let a="";const b=XsltForms_subform.subforms["xsltforms-mainform"].instances;for(let c=0,d=b.length-1;c<d;c++)a=0===c?XsltForms_globals.formSource.substring(0,b[0].sourceStart):a+XsltForms_globals.formSource.substring(b[c-
      1].sourceStart+b[c-1].instanceSource.length,b[c].sourceStart),a+=b[c].instanceSource.substring(0,b[c].instanceSource.indexOf(b[c].dataSource)),a+=XsltForms_browser.saveDoc(b[c].doc,b[c].mediatype),a+=b[c].instanceSource.substring(b[c].instanceSource.indexOf(b[c].dataSource)+b[c].dataSource.length);return a+=XsltForms_globals.formSource.substring(b[b.length-2].sourceStart+b[b.length-2].instanceSource.length)}),"http://www.w3.org/2005/xpath-functions invalid-id":new XsltForms_xpathFunction(!1,XsltForms_xpathFunction.DEFAULT_NONE,
      !1,function(){return XsltForms_globals.invalid_id_(XsltForms_globals.body)})};XsltForms_xpathCoreFunctions["http://www.w3.org/2002/xforms is-valid"]=XsltForms_xpathCoreFunctions["http://www.w3.org/2002/xforms valid"];
      XsltForms_globals.invalid_id_=function(a){if(a.nodeType!==Fleur.Node.ELEMENT_NODE||"xsltforms-console"===a.id||!1===a.hasXFElement)return"";var b=a.xfElement;if(b&&"group"!==b.controlName&&!(b instanceof Array)&&!b.isRepeat)return b.invalid&&!b.isOutput?a.id:"";a=a.children||a.childNodes;b=0;for(var c=a.length;b<c;b++){var d=XsltForms_globals.invalid_id_(a[b]);if(""!==d)return d}return""};
      XsltForms_globals.validate_=function(a){if(XsltForms_browser.getBoolMeta(a,"invalid")||XsltForms_browser.getBoolMeta(a,"unsafe"))return!1;for(var b=a.attributes||[],c=0,d=b.length;c<d;c++)if("xsltforms_"!==b[c].nodeName.substr(0,10)&&"xmlns"!==b[c].nodeName.substr(0,5)&&!XsltForms_globals.validate_(b[c]))return!1;a=a.childNodes||[];b=0;for(c=a.length;b<c;b++)if(!XsltForms_globals.validate_(a[b]))return!1;return!0};
      Fleur.XPathNSResolver_default={pf:"xml;xmlns;xs;xsd;xsd_;xsi;xf;xforms;xsltforms; function;fn;local;math;map;array;err;b;bin;file;http;request;prof;proc;js;fleur;dgram;base64;internal;unit;ietf;excel;zip;matrix;xpath;xquery".split(";"),uri:"http://www.w3.org/XML/1998/namespace http://www.w3.org/2000/xmlns/ http://www.w3.org/2001/XMLSchema http://www.w3.org/2001/XMLSchema http://www.w3.org/2001/XMLSchema http://www.w3.org/2001/XMLSchema-instance http://www.w3.org/2002/xforms http://www.w3.org/2002/xforms http://www.agencexml.com/xsltforms http://www.w3.org/2005/xpath-functions http://www.w3.org/2005/xpath-functions http://www.w3.org/2005/xpath http://www.w3.org/2005/xpath-functions/math http://www.w3.org/2005/xpath-functions/map http://www.w3.org/2005/xpath-functions/array http://www.w3.org/2005/xqt-errors http://xqib.org http://expath.org/ns/binary http://expath.org/ns/file http://expath.org/ns/http-client http://exquery.org/ns/request http://basex.org/modules/prof http://basex.org/modules/proc http://www.w3.org/standards/webdesign/script http://www.agencexml.com/fleur http://www.agencexml.com/fleur/dgram http://www.agencexml.com/fleur/base64 http://www.agencexml.com/fleur/internal http://www.agencexml.com/fleur/unit https://tools.ietf.org/rfc/index http://schemas.openxmlformats.org/spreadsheetml/2006/main http://expath.org/ns/zip http://www.mathunion.org/matrix http://www.w3.org/2005/xpath http://www.w3.org/2005/xquery".split(" ")};
      Fleur.minimal&&(Fleur.XPathNSResolver=function(a){this.pf=Fleur.XPathNSResolver_default.pf.slice();this.uri=Fleur.XPathNSResolver_default.uri.slice();this.node=a},Fleur.XPathNSResolver.prototype.lookupNamespaceURI=function(a){var b,c=this.pf.lastIndexOf(a);if(-1!==c)return this.uri[c];this.node&&(b=this.node.lookupNamespaceURI(a))&&(this.pf.push(a),this.uri.push(b));return b},Fleur.XPathNSResolver.prototype.lookupPrefix=function(a){var b,c=this.uri.lastIndexOf(a);if(-1!==c)return this.pf[c];this.node&&
      (b=this.node.lookupPrefix(a))&&(this.pf.push(b),this.uri.push(a));return b},Fleur.XPathNSResolver.prototype.declareNamespace=function(a,b){this.pf.push(a);this.uri.push(b)});
      function XsltForms_functionCallExpr(a){this.name=a;this.func=XsltForms_xpathCoreFunctions[a];this.xpathfunc=!!this.func;this.args=[];if(!this.xpathfunc)try{this.func=eval(a.split(" ")[1])}catch(d){alert(d)}this.func||XsltForms_debugger.active||XsltForms_globals.error(this,"xforms-compute-exception","Function "+this.name+"() not found");for(var b=1,c=arguments.length;b<c;b++)this.args.push(arguments[b])}
      XsltForms_functionCallExpr.prototype.evaluate=function(a){var b=[];if(this.xpathfunc){for(var c=0,d=this.args.length;c<d;c++)b[c]=this.args[c].evaluate(a);return this.func.call(a,b)}c=0;for(d=this.args.length;c<d;c++)b[c]=XsltForms_globals.stringValue(this.args[c].evaluate(a));XsltForms_context={ctx:a};return this.func.apply(null,b)};function XsltForms_coreElement(){}
      XsltForms_coreElement.prototype.init=function(a,b){this.subforms=[];this.subforms[a]=!0;this.nbsubforms=1;this.subform=a;this.element=b};XsltForms_coreElement.prototype.build=function(){};XsltForms_coreElement.prototype.dispose=function(){this.element&&(this.element.xfElement=null,this.element.parentNode.removeChild(this.element));this.model=this.element=null};new XsltForms_class("XsltForms_options","HTMLElement","xforms-options");
      function XsltForms_options(a,b){this.init(a,b);(a=b.getAttribute("xf-debug"))&&"yes"===a.toLowerCase()&&(XsltForms_globals.debugMode=!0,XsltForms_globals.debugging());if(b=b.getAttribute("xf-lang"))XsltForms_globals.language=b}XsltForms_options.prototype=new XsltForms_coreElement;new XsltForms_class("XsltForms_form","HTMLElement","xforms-form");
      function XsltForms_form(a,b){Array.prototype.slice.call(b.attributes).forEach(function(f){"xmlns:"===f.nodeName.substr(0,6)||"xmlns-"===f.nodeName.substr(0,6)?(Fleur.XPathNSResolver_default.pf.push(f.nodeName.substr(6)),Fleur.XPathNSResolver_default.uri.push(f.nodeValue)):"xmlns"===f.localName&&f.prefix?(Fleur.XPathNSResolver_default.pf.push(f.prefix.toLowerCase()),Fleur.XPathNSResolver_default.uri.push(f.namespaceURI)):f.prefix&&""!==f.prefix&&(Fleur.XPathNSResolver_default.pf.push(f.prefix.toLowerCase()),
      Fleur.XPathNSResolver_default.uri.push(f.namespaceURI))});this.init(a,b);let c,d;const e=[];Array.prototype.slice.call(b.children).forEach(function(f){switch(f.localName.toLowerCase()){case "xforms-model":break;case "xforms-dialog":c=f;break;case "xforms-body":d=f;break;default:e.push(f)}});c||(a=document.createElement("xforms-dialog"),a.setAttribute("id","xsltforms-console"),b.appendChild(a),a=document.createElement("xforms-dialog"),a.setAttribute("id","xsltforms-status-panel"),b.appendChild(a));
      if(!d){const f=document.createElement("form");e.forEach(g=>f.appendChild(g));a=document.createElement("xforms-body");a.appendChild(f);b.appendChild(a)}XsltForms_globals.formelt=b.querySelector("form")}XsltForms_form.prototype=new XsltForms_coreElement;
      Array.prototype.slice.call(document.documentElement.attributes).forEach(function(a){"xmlns:"===a.nodeName.substr(0,6)||"xmlns-"===a.nodeName.substr(0,6)?(Fleur.XPathNSResolver_default.pf.push(a.nodeName.substr(6)),Fleur.XPathNSResolver_default.uri.push(a.nodeValue)):"xmlns"===a.localName&&a.prefix?(Fleur.XPathNSResolver_default.pf.push(a.prefix.toLowerCase()),Fleur.XPathNSResolver_default.uri.push(a.namespaceURI)):a.prefix&&""!==a.prefix&&(Fleur.XPathNSResolver_default.pf.push(a.prefix.toLowerCase()),
      Fleur.XPathNSResolver_default.uri.push(a.namespaceURI))});Array.prototype.slice.call(document.querySelectorAll("script[data-uri]")).forEach(function(a){XsltForms_globals.jslibraries[a.getAttribute("data-uri")]=a.getAttribute("data-version")});new XsltForms_class("XsltForms_model","HTMLElement","xforms-model");
      function XsltForms_model(a,b){b.id||document.getElementById(a.id+"-model-default")||(b.id=a.id+"-model-default");for(var c=b.children,d=0,e=c.length;d<e&&"xforms-instance"!==c[d].localName.toLowerCase();d++);d===e&&(c=document.createElement("xforms-instance"),c.innerHTML='<script type="application/xml">&lt;data xmlns=""/&gt;\x3c/script>',b.appendChild(c));var f=b.getAttribute("xf-schema"),g=b.getAttribute("xf-functions");c=b.getAttribute("xf-version");"xsltforms-mainform"!==a.id&&XsltForms_globals.addChange(this);
      this.init(a,b);this.instances={};this.binds=[];this.nodesChanged=[];this.newNodesChanged=[];this.schemas=[];this.defaultSubmission=this.defaultInstance=null;XsltForms_globals.models.push(this);a.models.push(this);XsltForms_globals.defaultModel=XsltForms_globals.defaultModel||this;b.getInstanceDocument=function(m){return this.xfElement.getInstanceDocument(m)};b.rebuild=function(){return this.xfElement.rebuild()};b.recalculate=function(){return this.xfElement.recalculate()};b.revalidate=function(){return this.xfElement.revalidate()};
      b.refresh=function(){return this.xfElement.refresh()};b.reset=function(){return this.xfElement.reset()};b.handleEvent=function(m,n){XsltForms_xmlevents.dispatch(b,m,null,null,null,null,n)};if(f)for(f=f.split(" "),d=0,e=f.length;d<e;d++){var h=!1;for(var l in XsltForms_schema.all)if(XsltForms_schema.all.hasOwnProperty(l)){var k=XsltForms_schema.all[l];if(k.name===f[d]){this.schemas.push(k);h=!0;break}}h||XsltForms_globals.error(this,"xforms-link-exception","Schema "+f[d]+" not found")}if(g)for(e=g.split(" "),
      l=0,f=e.length;l<f;l++){h=!1;d=0;for(g=XsltForms_xpathCoreFunctions.length;d<g;d++)if(XsltForms_xpathCoreFunctions[d].split(" ")[1]===e[l]){h=!0;break}if(!h)try{d=eval(e[l])}catch(m){XsltForms_globals.error(this,"xforms-compute-exception","Function "+e[l]+"() not found")}}if(c)for(c=c.split(" "),e=0,h=c.length;e<h;e++)if("1.0"!==c[e]&&"1.1"!==c[e]){XsltForms_globals.error(XsltForms_globals.defaultModel,"xforms-version-exception","Version "+c[e]+" not supported");break}Array.prototype.slice.call(b.children).forEach(function(m){"script"===
      m.localName.toLowerCase()&&"application/xml"===m.getAttribute("type")&&(m=m.textContent,m.startsWith("&")&&(m=XsltForms_browser.unescape(m)),m=XsltForms_browser.createXMLDocument(m),new XsltForms_schema(a,m.documentElement.getAttribute("targetNamespace"),"#local",{},m))})}XsltForms_model.prototype=new XsltForms_coreElement;
      XsltForms_model.create=function(a,b,c,d,e){var f=document.getElementById(b);return f?(f.xfElement.subforms[a]=!0,f.xfElement.nbsubforms++,a.models.push(f.xfElement),XsltForms_globals.addChange(f.xfElement),f.xfElement):new XsltForms_model(a,b,c,d,e)};XsltForms_model.prototype.addInstance=function(a){this.instances[a.element.id]=a;this.defaultInstance=this.defaultInstance||a};XsltForms_model.prototype.addBind=function(a){this.binds.push(a)};
      XsltForms_model.prototype.dispose=function(a){if(a&&1!==this.nbsubforms)this.subforms[a]=null,this.nbsubforms--;else{this.defaultInstance=this.itext=this.binds=this.instances=null;a=0;for(var b=XsltForms_globals.models.length;a<b;a++)if(XsltForms_globals.models[a]===this){XsltForms_globals.models.splice(a,1);break}XsltForms_coreElement.prototype.dispose.call(this)}};XsltForms_model.prototype.getInstance=function(a){return a?this.instances[a]:this.defaultInstance};
      XsltForms_model.prototype.getInstanceDocument=function(a){return(a=this.getInstance(a))?a.doc:null};XsltForms_model.prototype.findInstance=function(a){a=a.nodeType===Fleur.Node.DOCUMENT_NODE?a:a.ownerDocument;for(var b in this.instances)if(this.instances.hasOwnProperty(b)){var c=this.instances[b];if(a===c.doc)return c;for(var d in c.archive)if(c.archive.hasOwnProperty(d)&&a===c.archive[d].doc)return c}return null};
      XsltForms_model.prototype.construct=function(){XsltForms_globals.ready||XsltForms_browser.forEach(this.instances,"construct");XsltForms_globals.ready?XsltForms_xmlevents.dispatch(this,"xforms-rebuild"):this.rebuild();XsltForms_xmlevents.dispatch(this,"xforms-model-construct-done");this===XsltForms_globals.models[XsltForms_globals.models.length-1]&&window.setTimeout('XsltForms_xmlevents.dispatchList(XsltForms_globals.models, "xforms-ready")',1)};
      XsltForms_model.prototype.reset=function(){XsltForms_browser.forEach(this.instances,"reset");this.setRebuilded(!0);XsltForms_globals.addChange(this)};XsltForms_model.prototype.rebuild=function(){XsltForms_globals.ready&&this.setRebuilded(!0);XsltForms_browser.forEach(this.binds,"refresh");XsltForms_globals.ready?XsltForms_xmlevents.dispatch(this,"xforms-recalculate"):this.recalculate()};
      XsltForms_model.prototype.recalculate=function(){XsltForms_browser.forEach(this.binds,"recalculate");XsltForms_globals.ready?XsltForms_xmlevents.dispatch(this,"xforms-revalidate"):this.revalidate()};XsltForms_model.prototype.revalidate=function(){XsltForms_browser.forEach(this.instances,"revalidate");XsltForms_globals.ready&&XsltForms_xmlevents.dispatch(this,"xforms-refresh")};XsltForms_model.prototype.refresh=function(){XsltForms_globals.refresh()};
      XsltForms_model.prototype.addChange=function(a){var b=XsltForms_globals.building?this.newNodesChanged:this.nodesChanged;XsltForms_browser.inArray(a,b)||XsltForms_globals.addChange(this);a.nodeType!==Fleur.Node.ATTRIBUTE_NODE||XsltForms_browser.inArray(a,b)||(b.push(a),a=a.ownerElement?a.ownerElement:a.selectSingleNode(".."));for(;a&&a.nodeType!==Fleur.Node.DOCUMENT_NODE&&!XsltForms_browser.inArray(a,b);)b.push(a),a=a.nodeType===Fleur.Node.ENTRY_NODE?a.ownerMap:a.parentNode};
      XsltForms_model.prototype.setRebuilded=function(a){XsltForms_globals.building?this.newRebuilded=a:this.rebuilded=a};new XsltForms_class("XsltForms_instance","HTMLElement","xforms-instance");
      function XsltForms_instance(a,b){var c="";b.children[0]&&(c=b.children[0].innerHTML,""===c.trim()&&(c=b.children[0].outerHTML,c=c.substring(c.indexOf(">")+1),c=c.substring(0,c.length-9)));XsltForms_globals.formSource&&(this.instanceSource=b.outerHTML,this.sourceStart=0===a.instances.length?XsltForms_globals.formSource.indexOf(this.instanceSource):XsltForms_globals.formSource.indexOf(this.instanceSource,a.instances[a.instances.length-1].sourceStart+a.instances[a.instances.length-1].instanceSource.length),
      this.dataSource=c);b.id||document.getElementById(a.id+"-instance-default")||(b.id=a.id+"-instance-default");var d=b.parentNode.xfElement;c=c.replace(/(<|&lt;)\\\/script(>|&gt;)/g,"\x3c/script>");""===c&&(b.innerHTML="");this.modified=!1;if(Fleur.DOMParse)this.init(a,b),this.readonly=b.getAttribute("xf-readonly"),this.mediatype=b.getAttribute("xf-mediatype"),this.src=XsltForms_browser.unescape(b.getAttribute("xf-src")),this.srcDoc=c.replace(/^\s+|\s+$/gm,"");else{this.init(a,b);this.readonly=b.getAttribute("xf-readonly");
      var e=(b.getAttribute("xf-mediatype")||"application/xml").split(";");this.mediatype=e[0];for(var f=1,g=e.length;f<g;f++){var h=e[f].split("=");switch(h[0].replace(/^\s+/g,"").replace(/\s+$/g,"")){case "header":this.header="present"===h[1].replace(/^\s+/g,"").replace(/\s+$/g,"");break;case "separator":this.separator=(decodeURI?decodeURI:unescape)(h[1].replace(/^\s+/g,"").replace(/\s+$/g,""));break;case "charset":this.charset=h[1].replace(/^\s+/g,"").replace(/\s+$/g,"")}}this.src=XsltForms_browser.unescape(b.getAttribute("xf-src")||
      (0!==b.children.length?null:b.getAttribute("xf-resource")));e=this.mediatype;if("/xml"===e.substr(e.length-4)||"/xsl"===e.substr(e.length-4)||"+xml"===e.substr(e.length-4))e="application/xml";switch(e){case "application/xml":this.srcDoc=c.trim();"&"===this.srcDoc.substring(0,1)&&(this.srcDoc=XsltForms_browser.unescape(this.srcDoc));break;case "text/json":case "application/json":case "application/javascript":c?(c=eval(c),this.srcDoc=XsltForms_browser.json2xml("",c,!0,!1)):this.srcDoc="";break;case "text/csv":this.srcDoc=
      XsltForms_browser.csv2xml(c,this.separator,this.header);break;case "text/vcard":this.srcDoc=XsltForms_browser.vcard2xcard(c);break;case "application/zip":case "application/vnd.openxmlformats-officedocument.wordprocessingml.document":case "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":this.srcDoc="<dummy/>";break;default:alert("Unsupported mediatype '"+b.getAttribute("mediatype")+"' for instance #"+b.id);return}}this.model=d;this.doc=XsltForms_browser.createXMLDocument("<dummy/>");
      XsltForms_browser.setDocMeta(this.doc,"instance",b.id);XsltForms_browser.setDocMeta(this.doc,"model",d.element.id);d.addInstance(this);a.instances.push(this)}XsltForms_instance.prototype=new XsltForms_coreElement;XsltForms_instance.create=function(a,b,c,d,e,f,g){var h=document.getElementById(b);return h&&h.xfElement?(h.xfElement.subforms[a]=!0,h.xfElement.nbsubforms++,a.instances.push(h.xfElement),h.xfElement):new XsltForms_instance(a,b,c,d,e,f,g)};
      XsltForms_instance.prototype.dispose=function(a){a&&1!==this.nbsubforms?(this.subforms[a]=null,this.nbsubforms--):XsltForms_coreElement.prototype.dispose.call(this)};
      XsltForms_instance.prototype.construct=function(a){if(!XsltForms_globals.ready||a&&!a.ready&&1===this.nbsubforms)if(this.src)if("local://"===this.src.substring(0,8))try{if("undefined"===typeof localStorage)throw Error({message:"local:// not supported"});this.setDoc(window.localStorage.getItem(this.src.substr(8)))}catch(d){XsltForms_globals.error(this.element,"xforms-link-exception","Fatal error loading "+this.src,d.toString())}else if("opener://"===this.src.substr(0,9))try{var b=window.opener.XsltForms_globals.xmlrequest("get",
      this.src.substr(9));this.setDoc(b)}catch(d){XsltForms_globals.error(this.element,"xforms-link-exception","Fatal error loading "+this.src,d.toString())}else if("javascript:"===this.src.substr(0,11))try{b=eval(this.src.substr(11)),this.setDoc(b)}catch(d){XsltForms_globals.error(this.element,"xforms-link-exception","Error evaluating the following Javascript expression: "+this.src.substr(11))}else if(a=!1,this.src.match(/^[a-zA-Z0-9+\.\-]+:\/\//)&&(b=/^([a-zA-Z0-9+\.\-]+:\/\/[^\/]*)/,a=b.exec(this.src),
      b=b.exec(document.location.href),a=a[0]!==b[0]),a&&"application/javascript"===this.mediatype){this.setDoc('<dummy xmlns=""/>');XsltForms_browser.jsoninstobj=this;var c=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","script"):document.createElement("script");c.setAttribute("src",this.src+(-1===this.src.indexOf("?")?"?":"&")+"callback=XsltForms_browser.jsoninst");c.setAttribute("id","jsoninst");c.setAttribute("type","text/javascript");a=XsltForms_browser.isXhtml?document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml",
      "body")[0]:document.getElementsByTagName("body")[0];a.insertBefore(c,a.firstChild)}else try{c=XsltForms_browser.openRequest("GET",this.src,!1);XsltForms_browser.debugConsole.write("Loading "+this.src);"application/zip"!==this.mediatype&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==this.mediatype||!c.overrideMimeType?"text/csv"===this.mediatype?c.overrideMimeType("text/csv"):("text/json"===this.mediatype||"application/json"===this.mediatype)&&c.overrideMimeType("application/json; charset=x-user-defined"):
      c.overrideMimeType("text/plain; charset=x-user-defined");c.send(null);if(0!==c.status&&(200>c.status||300<=c.status))throw Error({message:"Request error: "+c.status});this.setDocFromReq(c)}catch(d){XsltForms_globals.error(this.element,"xforms-link-exception","Fatal error loading "+this.src,d.toString())}else this.setDoc(this.srcDoc)};XsltForms_instance.prototype.reset=function(){this.setDoc(this.oldDoc,!0)};
      XsltForms_instance.prototype.store=function(a){this.oldDoc&&!a&&(this.oldDoc=null);this.oldDoc=XsltForms_browser.saveDoc(this.doc,this.mediatype)};
      XsltForms_instance.prototype.setDoc=Fleur.DOMParser?function(a,b,c){var d=XsltForms_browser.getDocMeta(this.doc,"instance"),e=XsltForms_browser.getDocMeta(this.doc,"model");XsltForms_browser.loadDoc(this.doc,a,this.mediatype);this.modified=!1;XsltForms_browser.setDocMeta(this.doc,"instance",d);XsltForms_browser.setDocMeta(this.doc,"model",e);c||this.store(b);d===XsltForms_browser.idPf+"instance-config"&&(XsltForms_browser.config=this.doc.documentElement,XsltForms_globals.htmlversion=XsltForms_browser.i18n.get("html"))}:
      function(a,b,c){var d=XsltForms_browser.getDocMeta(this.doc,"instance"),e=XsltForms_browser.getDocMeta(this.doc,"model");XsltForms_browser.loadDoc(this.doc,a);this.modified=!1;XsltForms_browser.setDocMeta(this.doc,"instance",d);XsltForms_browser.setDocMeta(this.doc,"model",e);c||this.store(b);d===XsltForms_browser.idPf+"instance-config"&&(XsltForms_browser.config=this.doc.documentElement,XsltForms_globals.htmlversion=XsltForms_browser.i18n.get("html"))};
      XsltForms_instance.prototype.setDocFromReq=Fleur.DOMParser?function(a,b,c){var d=a.responseText;if(XsltForms_browser.isChrome&&"text/plain"===this.mediatype)switch(this.src.substr(this.src.indexOf("."))){case ".xlsx":this.mediatype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case ".docx":this.mediatype="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case ".csv":this.mediatype="text/csv"}this.mediatype=a.getResponseHeader("Content-Type")?
      a.getResponseHeader("Content-Type"):this.mediatype;this.setDoc(d,b,c)}:function(a,b,c){var d=a.responseText,e=(a.getResponseHeader("Content-Type")?a.getResponseHeader("Content-Type"):this.mediatype).split(";"),f;this.mediatype=e[0];var g=1;for(f=e.length;g<f;g++){var h=e[g].split("=");switch(h[0].replace(/^\s+/g,"").replace(/\s+$/g,"")){case "header":this.header="present"===h[1].replace(/^\s+/g,"").replace(/\s+$/g,"");break;case "separator":this.separator=(decodeURI?decodeURI:unescape)(h[1].replace(/^\s+/g,
      "").replace(/\s+$/g,""));break;case "charset":this.charset=h[1].replace(/^\s+/g,"").replace(/\s+$/g,"")}}if(XsltForms_browser.isChrome&&"text/plain"===this.mediatype)switch(this.src.substr(this.src.indexOf("."))){case ".xlsx":this.mediatype="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";break;case ".docx":this.mediatype="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;case ".csv":this.mediatype="text/csv"}e=this.mediatype;if("/xml"===e.substr(e.length-
      4)||"/xsl"===e.substr(e.length-4)||"+xml"===e.substr(e.length-4))e="application/xml";switch(e){case "text/json":case "application/json":d=eval(d);d=XsltForms_browser.json2xml("",d,!0,!1);break;case "text/csv":d=XsltForms_browser.isIE?XsltForms_browser.csv2xml(function(l){if(!XsltForms_browser.byteMapping){for(var k={},m=0;256>m;m++)for(var n=0;256>n;n++)k[String.fromCharCode(m+256*n)]=String.fromCharCode(m)+String.fromCharCode(n);XsltForms_browser.byteMapping=k}k=XsltForms_browser_BinaryToArray_ByteStr(l);
      l=XsltForms_browser_BinaryToArray_ByteStr_Last(l);return k.replace(/[\s\S]/g,function(p){return XsltForms_browser.byteMapping[p]})+l}(a.responseBody),this.separator,this.header):XsltForms_browser.csv2xml(d,this.separator,this.header);break;case "text/vcard":d=XsltForms_browser.vcard2xcard(d);break;case "application/x-zip-compressed":case "application/zip":case "application/vnd.openxmlformats-officedocument.wordprocessingml.document":case "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":a=
      XsltForms_browser.isIE?XsltForms_browser.zip2xml(function(l){if(!XsltForms_browser.byteMapping){for(var k={},m=0;256>m;m++)for(var n=0;256>n;n++)k[String.fromCharCode(m+256*n)]=String.fromCharCode(m)+String.fromCharCode(n);XsltForms_browser.byteMapping=k}k=XsltForms_browser_BinaryToArray_ByteStr(l);l=XsltForms_browser_BinaryToArray_ByteStr_Last(l);return k.replace(/[\s\S]/g,function(p){return XsltForms_browser.byteMapping[p]})+l}(a.responseBody),this.mediatype,this.element.id,this.model.element.id):
      XsltForms_browser.zip2xml(d,this.mediatype,this.element.id,this.model.element.id);d=a.srcDoc;delete a.srcDoc;this.archive=a;break;case "application/xml":break;default:alert("Unsupported mediatype '"+this.mediatype+"' for instance #"+this.element.id);return}this.setDoc(d,b,c)};XsltForms_instance.prototype.revalidate=function(){!this.readonly&&this.doc.documentElement&&this.validation_(this.doc.documentElement)};
      XsltForms_instance.prototype.validation_=function(a,b,c){b||=!1;c||=!1;this.validate_(a,b,c);b=XsltForms_browser.getBoolMeta(a,"readonly");c=XsltForms_browser.getBoolMeta(a,"notrelevant");for(var d=a.attributes||[],e=[],f=0,g=d.length;f<g;f++)"xsltforms_"!==d[f].nodeName.substr(0,10)&&"xmlns"!==d[f].nodeName.substr(0,5)&&(e[e.length]=d[f]);d=0;for(f=e.length;d<f;d++)this.validation_(e[d],b,c);if(a.childNodes)for(e=0,d=a.childNodes.length;e<d;e++)f=a.childNodes[e],f.nodeType===Fleur.Node.ELEMENT_NODE&&
      this.validation_(f,b,c)};
      XsltForms_instance.prototype.validate_=function(a,b,c){var d=XsltForms_browser.getMeta(a,"bind"),e=XsltForms_globals.xmlValue(a),f=XsltForms_schema.getType(XsltForms_browser.getType(a)||"xsd_:string");if(d){d=d.split(" ");for(var g=!1,h=!1,l=0,k=d.length;l<k;l++){for(var m=XsltForms_collection[d[l]].xfElement,n=m.nodes,p=0,q=n.length;p<q&&n[p]!==a;p++);q=0;for(var r=m.depsNodes.length;q<r;q++)XsltForms_browser.rmValueMeta(m.depsNodes[q],"depfor",m.depsId);m.depsNodes.length=0;var t=new XsltForms_exprContext(this.subform,
      a,p,n,null,null,null,[],m.depsId);m.required&&this.setProperty_(a,"required",m.required.evaluate(t,a));if(c||!g||m.relevant)this.setProperty_(a,"notrelevant",c||!(m.relevant?m.relevant.evaluate(t,a):1)),g=g||m.relevant;if(b||!h||m.readonly)this.setProperty_(a,"readonly",b||(m.readonly?m.readonly.evaluate(t,a):m.calculate?!0:!1)),h=h||m.readonly;this.setProperty_(a,"invalid",!XsltForms_browser.getBoolMeta(a,"notrelevant")&&!((!XsltForms_browser.getBoolMeta(a,"required")||e&&""!==e)&&(XsltForms_browser.getNil(a)?
      ""===e:!f||f.validate(e)&&!XsltForms_browser.getBoolMeta(a,"unsafe"))&&(!m.constraint||m.constraint.evaluate(t,a))));var x=this;Object.entries(m.meta).forEach(function(v){var C=String(v[1].evaluate(t,a));XsltForms_browser.getMeta(a,"meta-"+v[0])!==C&&(XsltForms_browser.setMeta(a,"meta-"+v[0],C),x.model.addChange(a))});XsltForms_browser.copyArray(t.depsNodes,m.depsNodes)}}else this.setProperty_(a,"notrelevant",c),this.setProperty_(a,"readonly",b),this.setProperty_(a,"invalid",f&&(!f.validate(e)||XsltForms_browser.getBoolMeta(a,
      "unsafe")))};XsltForms_instance.prototype.setProperty_=function(a,b,c){XsltForms_browser.getBoolMeta(a,b)!==c&&(XsltForms_browser.setBoolMeta(a,b,c),this.model.addChange(a))};XsltForms_browser.json2xmlreg=RegExp("^[A-Za-z_\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff][A-Za-z_\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff-.0-9\u00b7]*$");
      XsltForms_browser.json2xml=function(a,b,c,d){var e="";"________"!==a&&(b instanceof Array||""===a||XsltForms_browser.json2xmlreg.test(a))||(e=' exml:fullname="'+XsltForms_browser.escape(a)+'"',a="________");var f=c?'<exml:anonymous xmlns:exml="http://www.agencexml.com/exml" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:exsi="http://www.agencexml.com/exi" xmlns="">':"";if(b instanceof Array){d&&(f+='<exml:anonymous exsi:maxOccurs="unbounded">');
      if(0===b.length)f+="<"+(""===a?"exml:anonymous":a)+e+' exsi:maxOccurs="unbounded" xsi:nil="true"/>';else{e=0;for(var g=b.length;e<g;e++)f+=XsltForms_browser.json2xml(""===a?"exml:anonymous":a,b[e],!1,!0)}d&&(f+="</exml:anonymous>")}else{g="";switch(typeof b){case "string":g=' xsi:type="xsd:string"';break;case "number":g=' xsi:type="xsd:double"';break;case "boolean":g=' xsi:type="xsd:boolean"';break;case "object":b instanceof Date&&(g=' xsi:type="xsd:dateTime"')}""===a?c&&""!==g&&(f=f.substr(0,f.length-
      1)+g+">"):f+="<"+a+e+(d?' exsi:maxOccurs="unbounded"':"")+g+">";if("object"!==typeof b||b instanceof Date)b instanceof Date?(f+=b.getFullYear()+"-",f+=(9>b.getMonth()?"0":"")+(b.getMonth()+1)+"-",f+=(10>b.getDate()?"0":"")+b.getDate()+"T",f+=(10>b.getHours()?"0":"")+b.getHours()+":",f+=(10>b.getMinutes()?"0":"")+b.getMinutes()+":",f+=(10>b.getSeconds()?"0":"")+b.getSeconds()+"Z"):f+=XsltForms_browser.escape(b);else for(var h in b)b.hasOwnProperty(h)&&(f+=XsltForms_browser.json2xml(h,b[h],!1,!1));
      f+=""===a?"":"</"+a+">"}return f+(c?"</exml:anonymous>":"")};
      XsltForms_browser.node2json=function(a,b){var c;if(a.nodeType!==Fleur.Node.ELEMENT_NODE)return"";var d=a.localName?a.localName:a.baseName;if(a.getAttributeNS){var e=a.getAttributeNS("http://www.w3.org/2001/XMLSchema-instance","type");var f="unbounded"===a.getAttributeNS("http://www.agencexml.com/exi","maxOccurs");"________"===d&&(d=a.getAttributeNS("http://www.agencexml.com/exml","fullname"))}else e=(c=a.selectSingleNode("@*[local-name()='type' and namespace-uri()='http://www.w3.org/2001/XMLSchema-instance']"))?c.value:
      "",f=(c=a.selectSingleNode("@*[local-name()='maxOccurs' and namespace-uri()='http://www.agencexml.com/exi']"))?"unbounded"===c.value:!1,"________"===d&&(d=(c=a.selectSingleNode("@*[local-name()='fullname' and namespace-uri()='http://www.agencexml.com/exml']"))?c.value:"");c="";if("anonymous"!==d||"http://www.agencexml.com/exml"!==a.namespaceURI)c+=d+":";if(f){c="[";e=d=0;for(f=a.childNodes.length;e<f;e++)a.childNodes[e].nodeType===Fleur.Node.ELEMENT_NODE&&(d=e);for(e=0;e<=d;e++)c+=XsltForms_browser.node2json(a.childNodes[e],
      e===d?"":",");return c+"]"+b}f=a.text||a.textContent;switch(e){case "xsd:string":return c+'"'+XsltForms_browser.escapeJS(f)+'"'+b;case "xsd:double":case "xsd:boolean":return c+f+b;case "xsd:dateTime":return c+'new Date("'+f+'")'+b;default:c+="{";e=d=0;for(f=a.childNodes.length;e<f;e++)a.childNodes[e].nodeType===Fleur.Node.ELEMENT_NODE&&(d=e);for(e=0;e<=d;e++)c+=XsltForms_browser.node2json(a.childNodes[e],e===d?"":",");return c+"}"+b}};
      XsltForms_browser.xml2json=function(a){a=XsltForms_browser.createXMLDocument(a);return XsltForms_browser.node2json(a.documentElement,"")};
      var jsoninst=function(a){XsltForms_browser.jsoninstobj.submission.pending=!1;XsltForms_browser.dialog.hide("xsltforms-status-panel",!1);XsltForms_browser.jsoninstobj.instance.setDoc(XsltForms_browser.json2xml("",a,!0,!1));XsltForms_globals.addChange(XsltForms_browser.jsoninstobj.instance.model);XsltForms_xmlevents.dispatch(XsltForms_browser.jsoninstobj.instance.model,"xforms-rebuild");XsltForms_globals.refresh();document.body.removeChild(document.getElementById("jsoninst"))};
      XsltForms_browser.vcard2xcard_data={state:0,version:"4.0",reg_date:/^(\d{8}|\d{4}-\d\d|--\d\d(\d\d)?|---\d\d)$/,reg_time:/^(\d\d(\d\d(\d\d)?)?|-\d\d(\d\d?)|--\d\d)(Z|[+\-]\d\d(\d\d)?)?$/,reg_date_time:/^(\d{8}|--\d{4}|---\d\d)T\d\d(\d\d(\d\d)?)?(Z|[+\-]\d\d(\d\d)?)?$/,reg_uri:/^(([^:\/?#]+):)?(\/\/([^\/\?#]*))?([^\?#]*)(\?([^#]*))?(#([^:#\[\]@!\$&\\'\(\)\*\+,;=]*))?$/,reg_utc_offset:/^[+\-]\d\d(\d\d)?$/};
      XsltForms_browser.vcard2xcard_escape=function(a){return a.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/\\;/gm,";")};XsltForms_browser.vcard2xcard_param={PREF:{fparam:function(a){return"<integer>"+a+"</integer>"}},TYPE:{fparam:function(a){return"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}}};
      XsltForms_browser.vcard2xcard_prop={BEGIN:{state:0,fvalue:function(a){XsltForms_browser.vcard2xcard_data.state=1;return"VCARD"===a.toUpperCase()?"<vcard>":"<'Invalid directive: BEGIN:"+a+"'>"}},END:{state:1,fvalue:function(a){XsltForms_browser.vcard2xcard_data.state=0;return"VCARD"===a.toUpperCase()?"</vcard>":"<'Invalid directive: END:"+a+"'>"}},SOURCE:{state:1,tag:"source",fvalue:function(a){return"<uri>"+a+"</uri>"}},KIND:{state:1,tag:"kind",fvalue:function(a){return"<text>"+XsltForms_browser.vcard2xcard_escape(a)+
      "</text>"}},XML:{state:1,fvalue:function(a){return a}},FN:{state:1,tag:"fn",fvalue:function(a){return"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},N:{state:1,tag:"n",fvalue:function(a){a=a.split(";");return"<surname>"+XsltForms_browser.vcard2xcard_escape(a[0])+"</surname><given>"+XsltForms_browser.vcard2xcard_escape(a[1])+"</given><additional>"+XsltForms_browser.vcard2xcard_escape(a[2])+"</additional><prefix>"+XsltForms_browser.vcard2xcard_escape(a[3])+"</prefix><suffix>"+XsltForms_browser.vcard2xcard_escape(a[4])+
      "</suffix>"}},NICKNAME:{state:1,tag:"nickname",fvalue:function(a){return"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},PHOTO:{state:1,tag:"photo",fvalue:function(a){return"<uri>"+a+"</uri>"}},BDAY:{state:1,tag:"bday",fvalue:function(a){return XsltForms_browser.vcard2xcard_data.reg_date_time.test(a)?"<date-time>"+a+"</date-time>":XsltForms_browser.vcard2xcard_data.reg_date.test(a)?"<date>"+a+"</date>":XsltForms_browser.vcard2xcard_data.reg_time.test(a)?"<time>"+a+"</time>":"<text>"+XsltForms_browser.vcard2xcard_escape(a)+
      "</text>"}},ANNIVERSARY:{state:1,tag:"anniversary",fvalue:function(a){return XsltForms_browser.vcard2xcard_data.reg_date_time.test(a)?"<date-time>"+a+"</date-time>":XsltForms_browser.vcard2xcard_data.reg_date.test(a)?"<date>"+a+"</date>":XsltForms_browser.vcard2xcard_data.reg_time.test(a)?"<time>"+a+"</time>":"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},GENDER:{state:1,tag:"gender",fvalue:function(a){var b=a.split(";");return"<sex>"+b[0]+"</sex>"+(-1!==a.indexOf(";")?"<identity>"+
      XsltForms_browser.vcard2xcard_escape(b[1])+"</identity>":"")}},ADR:{state:1,tag:"adr",fvalue:function(a){a=a.split(";");return"<pobox>"+XsltForms_browser.vcard2xcard_escape(a[0])+"</pobox><ext>"+XsltForms_browser.vcard2xcard_escape(a[1])+"</ext><street>"+XsltForms_browser.vcard2xcard_escape(a[2])+"</street><locality>"+XsltForms_browser.vcard2xcard_escape(a[3])+"</locality><region>"+XsltForms_browser.vcard2xcard_escape(a[4])+"</region><code>"+XsltForms_browser.vcard2xcard_escape(a[5])+"</code><country>"+
      XsltForms_browser.vcard2xcard_escape(a[6])+"</country>"}},TEL:{state:1,tag:"tel",fvalue:function(a){return XsltForms_browser.vcard2xcard_data.reg_uri.test(a)?"<uri>"+a+"</uri>":"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},EMAIL:{state:1,tag:"email",fvalue:function(a){return"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},IMPP:{state:1,tag:"impp",fvalue:function(a){return"<uri>"+a+"</uri>"}},LANG:{state:1,tag:"lang",fvalue:function(a){return"<language-tag>"+a+"</language-tag>"}},
      TZ:{state:1,tag:"tz",fvalue:function(a){return XsltForms_browser.vcard2xcard_data.reg_uri.test(a)?"<uri>"+a+"</uri>":XsltForms_browser.vcard2xcard_data.reg_utc_offset.test(a)?"<utc-offset>"+a+"</utc-offset>":"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},GEO:{state:1,tag:"geo",fvalue:function(a){return"<uri>"+a+"</uri>"}},TITLE:{state:1,tag:"title",fvalue:function(a){return"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},ROLE:{state:1,tag:"role",fvalue:function(a){return"<text>"+
      XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},LOGO:{state:1,tag:"logo",fvalue:function(a){return"<uri>"+a+"</uri>"}},ORG:{state:1,tag:"org",fvalue:function(a){a=a.split(";");for(var b="",c=0,d=a.length;c<d;c++)b+="<text>"+XsltForms_browser.vcard2xcard_escape(a[c])+"</text>";return b}},MEMBER:{state:1,tag:"member",fvalue:function(a){return"<uri>"+a+"</uri>"}},RELATED:{state:1,tag:"related",fvalue:function(a){return XsltForms_browser.vcard2xcard_data.reg_uri.test(a)?"<uri>"+a+"</uri>":"<text>"+
      XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},CATEGORIES:{state:1,tag:"categories",fvalue:function(a){a=a.split(";");for(var b="",c=0,d=a.length;c<d;c++)b+="<text>"+XsltForms_browser.vcard2xcard_escape(a[c])+"</text>";return b}},NOTE:{state:1,tag:"note",fvalue:function(a){return"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},"X-LOTUS-BRIEFCASE":{state:1,tag:"x-lotus-briefcase",fvalue:function(a){return"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},PRODID:{state:1,
      tag:"prodid",fvalue:function(a){return"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},REV:{state:1,tag:"rev",fvalue:function(a){return"<timestamp>"+a+"</timestamp>"}},SOUND:{state:1,tag:"sound",fvalue:function(a){return"<uri>"+a+"</uri>"}},UID:{state:1,tag:"uid",fvalue:function(a){return"<uri>"+a+"</uri>"}},CLIENTPIDMAP:{state:1,tag:"clientpidmap",fvalue:function(a){a=a.split(";");return"<sourceid>"+a[0]+"</sourceid><value-uri>"+a[1]+"</value-uri>"}},URL:{state:1,tag:"url",fvalue:function(a){return"<uri>"+
      a+"</uri>"}},VERSION:{state:1,fvalue:function(a){XsltForms_browser.vcard2xcard_data.version=a;return""}},KEY:{state:1,tag:"key",fvalue:function(a){return XsltForms_browser.vcard2xcard_data.reg_uri.test(a)?"<uri>"+a+"</uri>":"<text>"+XsltForms_browser.vcard2xcard_escape(a)+"</text>"}},FBURL:{state:1,tag:"fburl",fvalue:function(a){return"<uri>"+a+"</uri>"}},CALADRURI:{state:1,tag:"caladruri",fvalue:function(a){return"<uri>"+a+"</uri>"}},CALURI:{state:1,tag:"caluri",fvalue:function(a){return"<uri>"+
      a+"</uri>"}}};
      XsltForms_browser.vcard2xcard=function(a){var b='<vcards xmlns="urn:ietf:params:xml:ns:vcard-4.0">';a=a.replace(/(\r\n|\n|\r) /gm,"").replace(/^\s+/,"").replace(/\s+$/,"").split("\n");for(var c=0,d=a.length;c<d;c++){var e=a[c].indexOf(":"),f=a[c].substring(0,e),g=a[c].substring(e+1);f=f.split(";");if((e=XsltForms_browser.vcard2xcard_prop[f[0]])&&e.state===XsltForms_browser.vcard2xcard_data.state){g=g.replace(/\\n/gm,"\n").replace(/\\,/gm,",");e.tag&&(b+="<"+e.tag+">");if(1<f.length){b+="<parameters>";
      f.shift();for(var h=0,l=f.length;h<l;){var k=f[h].split("="),m=k[0],n=XsltForms_browser.vcard2xcard_param[m];if(n){for(b+="<"+m.toLowerCase()+">";k[0]===m;)if(b+=n.fparam(k[1]),h++,h<l)k=f[h].split("=");else break;b+="</"+m.toLowerCase()+">"}else h++}b+="</parameters>"}b+=e.fvalue(g);e.tag&&(b+="</"+e.tag+">")}}return b+"</vcards>"};
      XsltForms_browser.xml2csv=function(a,b){for(var c=XsltForms_browser.createXMLDocument(a),d=c.documentElement.firstChild;d&&d.nodeType!==Fleur.Node.ELEMENT_NODE;)d=d.nextSibling;a=d.cloneNode(!0);c.documentElement.insertBefore(a,d);c=a;d="";var e=(b||",").split(" ");b=e[0];for(e=e[1];c;){if(c.nodeType===Fleur.Node.ELEMENT_NODE){for(var f=c.firstChild,g="";f;){if(f.nodeType===Fleur.Node.ELEMENT_NODE){var h=c===a?f.getAttribute("fullname")||f.localName:void 0!==f.text?f.text:f.textContent;-1!==h.indexOf("\n")||
      -1!==h.indexOf(b)?h='"'+h.replace(/"/gm,'""')+'"':e&&h.match(/^[\-+]?([0-9]+(\.[0-9]*)?|\.[0-9]+)$/)&&(h=h.replace(/\./,e));g+=b+h}f=f.nextSibling}d+=g.substr(1)+"\n"}c=c.nextSibling}return d};
      XsltForms_browser.csv2xml=function(a,b,c){var d='<exml:anonymous xmlns:exml="http://www.agencexml.com/exml" xmlns:xsi="http://www.w3.org/1999/XMLSchema-instance" xmlns:exsi="http://www.agencexml.com/exi" xmlns="">';a=a.replace(/\r\n/g,"\n").replace(/\r/g,"\n");"\n"!==a.substr(a.length-1,1)&&(a+="\n");for(var e=[],f=c,g=0,h="",l="",k=0,m=a.length;k<m;){var n="";if('"'===a.substr(k,1)){k++;do if('"'!==a.substr(k,1))n+=a.substr(k,1),k++;else if('""'===a.substr(k,2))n+='"',k+=2;else{k++;break}while(k<
      m)}else for(;a.substr(k,b.length)!==b&&"\n"!==a.substr(k,1);)n+=a.substr(k,1),k++;f?e.push(n):(h+=n,l+="<"+(c?e[g]:"exml:anonymous")+">"+XsltForms_browser.escape(n)+"</"+(c?e[g]:"exml:anonymous")+">");"\n"===a.substr(k,1)?(f||""===h||(d+="<exml:anonymous>"+l+"</exml:anonymous>"),f=!1,g=0,h=l=""):g++;k++}return d+"</exml:anonymous>"};XsltForms_browser.xsltsharedsrc='<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ss="http://schemas.openxmlformats.org/spreadsheetml/2006/main" version="1.0">';
      XsltForms_browser.xsltsharedsrc+='  <xsl:output method="text"/>';XsltForms_browser.xsltsharedsrc+='  <xsl:template match="ss:si">';XsltForms_browser.xsltsharedsrc+="    <xsl:value-of select=\"concat('|',position() - 1,':',ss:t)\"/>";XsltForms_browser.xsltsharedsrc+="  </xsl:template>";XsltForms_browser.xsltsharedsrc+="</xsl:stylesheet>";XsltForms_browser.xsltinlinesrc='<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ss="http://schemas.openxmlformats.org/spreadsheetml/2006/main" version="1.0">';
      XsltForms_browser.xsltinlinesrc+='  <xsl:output method="xml" omit-xml-declaration="yes"/>';XsltForms_browser.xsltinlinesrc+='  <xsl:param name="shared"/>';XsltForms_browser.xsltinlinesrc+='  <xsl:template match="ss:c[@t=\'s\']" priority="1">';XsltForms_browser.xsltinlinesrc+="    <xsl:copy>";XsltForms_browser.xsltinlinesrc+='      <xsl:attribute name="t">inlineStr</xsl:attribute>';XsltForms_browser.xsltinlinesrc+='      <xsl:apply-templates select="@*|node()"/>';XsltForms_browser.xsltinlinesrc+="      <ss:is><ss:t><xsl:value-of select=\"substring-before(substring-after($shared,concat('|',ss:v,':')),'|')\"/></ss:t></ss:is>";
      XsltForms_browser.xsltinlinesrc+="    </xsl:copy>";XsltForms_browser.xsltinlinesrc+="  </xsl:template>";XsltForms_browser.xsltinlinesrc+='  <xsl:template match="@t[parent::ss:c and . = \'s\']" priority="1"/>';XsltForms_browser.xsltinlinesrc+='  <xsl:template match="ss:v[parent::ss:c/@t = \'s\']" priority="1"/>';XsltForms_browser.xsltinlinesrc+='  <xsl:template match="@*|node()" priority="0">';XsltForms_browser.xsltinlinesrc+="    <xsl:copy>";XsltForms_browser.xsltinlinesrc+='      <xsl:apply-templates select="@*|node()"/>';
      XsltForms_browser.xsltinlinesrc+="    </xsl:copy>";XsltForms_browser.xsltinlinesrc+="  </xsl:template>";XsltForms_browser.xsltinlinesrc+="</xsl:stylesheet>";
      XsltForms_browser.zip2xml=function(a,b,c,d){var e={},f='<exml:archive xmlns:exml="http://www.agencexml.com/exml">',g=a.lastIndexOf("PK\u0005\u0006")+16,h=function(q,r){return(q.charCodeAt(r+1)&255)<<8|q.charCodeAt(r)&255},l=function(q,r){return(((q.charCodeAt(r+3)&255)<<8|q.charCodeAt(r+2)&255)<<8|q.charCodeAt(r+1)&255)<<8|q.charCodeAt(r)&255};for(g=l(a,g);80===a.charCodeAt(g)&&75===a.charCodeAt(g+1)&&1===a.charCodeAt(g+2)&&2===a.charCodeAt(g+3);){var k={};g+=4;k.versionMadeBy=h(a,g);g+=2;k.versionNeeded=
      h(a,g);g+=2;k.bitFlag=h(a,g);g+=2;k.compressionMethod=h(a,g);g+=2;k.date=l(a,g);g+=4;k.crc32=l(a,g);g+=4;k.compressedSize=l(a,g);g+=4;k.uncompressedSize=l(a,g);g+=4;k.fileNameLength=h(a,g);g+=2;k.extraFieldsLength=h(a,g);g+=2;k.fileCommentLength=h(a,g);g+=2;k.diskNumber=h(a,g);g+=2;k.internalFileAttributes=h(a,g);g+=2;k.externalFileAttributes=l(a,g);g+=4;k.localHeaderOffset=l(a,g);g+=4;var m=a.substr(g,k.fileNameLength);g+=k.fileNameLength;k.extraFields=a.substr(g,k.extraFieldsLength);g+=k.extraFieldsLength;
      k.fileComment=a.substr(g,k.fileCommentLength);g+=k.fileCommentLength;var n=k.localHeaderOffset+28;k.lextraFieldsLength=h(a,n);n+=2+k.fileNameLength;k.lextraFields=a.substr(n,k.lextraFieldsLength);n+=k.lextraFieldsLength;k.compressedFileData=a.substr(n,k.compressedSize);"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!==b||".xml"!==m.substr(m.length-4)&&".rels"!==m.substr(m.length-5)||(k.doc=XsltForms_browser.createXMLDocument("<dummy/>"),XsltForms_browser.loadDoc(k.doc,XsltForms_browser.utf8decode(zip_inflate(k.compressedFileData))),
      XsltForms_browser.setDocMeta(k.doc,"instance",c),XsltForms_browser.setDocMeta(k.doc,"model",d));f+='<exml:file name="'+m+'"/>';e[m]=k}f+="</exml:archive>";if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===b&&e.hasOwnProperty("xl/sharedStrings.xml")){a=XsltForms_browser.transformText(XsltForms_browser.saveDoc(e["xl/sharedStrings.xml"].doc,"application/xml"),XsltForms_browser.xsltsharedsrc,!0)+"|";for(var p in e)e.hasOwnProperty(p)&&(k=e[p],k.doc&&"worksheet"===(k.doc.documentElement.localName?
      k.doc.documentElement.localName:k.doc.documentElement.baseName)&&(b=XsltForms_browser.transformText(XsltForms_browser.saveDoc(k.doc,"application/xml"),XsltForms_browser.xsltinlinesrc,!0,"shared",a),XsltForms_browser.loadDoc(k.doc,b),XsltForms_browser.setDocMeta(k.doc,"instance",c),XsltForms_browser.setDocMeta(k.doc,"model",d)))}e.srcDoc=f;return e};
      XsltForms_browser.xml2zip=function(a,b){var c="",d,e=0,f=function(q){return String.fromCharCode(q&255)+String.fromCharCode(q>>>8&255)},g=function(q){return String.fromCharCode(q&255)+String.fromCharCode(q>>>8&255)+String.fromCharCode(q>>>16&255)+String.fromCharCode(q>>>24&255)};for(d in a)if(a.hasOwnProperty(d)){var h=a[d];h.localHeaderOffset=c.length;if(h.doc){var l=XsltForms_browser.utf8encode(XsltForms_browser.saveDoc(h.doc,"application/xml"));if(0===b.indexOf("application/vnd.openxmlformats-officedocument."))for(var k=
      l.indexOf(' xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"'),m=h.doc.documentElement.attributes,n=0,p=m.length;n<p;n++)if("Ignorable"===m[n].localName&&"http://schemas.openxmlformats.org/markup-compatibility/2006"===m[n].namespaceURI&&(-1===k||k>l.indexOf("Ignorable"))){l=l.substr(0,l.indexOf(" "))+' xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"'+l.substr(l.indexOf(" "));break}l='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n'+l;
      h.crc32=XsltForms_browser.crc32(l);h.uncompressedSize=l.length;h.compressedFileData=zip_deflate(l);h.compressedSize=h.compressedFileData.length}c+="PK\u0003\u0004";c+=f(h.versionNeeded);c+=f(h.bitFlag);c+=f(h.compressionMethod);c+=g(h.date);c+=g(h.crc32);c+=g(h.compressedSize);c+=g(h.uncompressedSize);c+=f(h.fileNameLength);c+=f(h.lextraFieldsLength);c+=d;c+=h.lextraFields;c+=h.compressedFileData;e++}b=c.length;for(d in a)a.hasOwnProperty(d)&&(h=a[d],c+="PK\u0001\u0002",c+=f(h.versionMadeBy),c+=f(h.versionNeeded),
      c+=f(h.bitFlag),c+=f(h.compressionMethod),c+=g(h.date),c+=g(h.crc32),c+=g(h.compressedSize),c+=g(h.uncompressedSize),c+=f(h.fileNameLength),c+=f(h.extraFieldsLength),c+=f(h.fileCommentLength),c+=f(h.diskNumber),c+=f(h.internalFileAttributes),c+=g(h.externalFileAttributes),c+=g(h.localHeaderOffset),c+=d,c+=h.extraFields,c+=h.fileComment);a=c.length;c=c+"PK\u0005\u0006"+f(0);c+=f(0);c+=f(e);c+=f(e);c+=g(a-b);c+=g(b);c+=f(49);c+="generated by XSLTForms - http://www.agencexml.com";e=[];f=0;for(g=c.length;f<
      g;f++)e.push(c.charCodeAt(f)&255);try{return(new Uint8Array(e)).buffer}catch(q){return XsltForms_browser.StringToBinary(c)}};new XsltForms_class("XsltForms_bind","HTMLElement","xforms-bind");
      function XsltForms_bind(a,b){var c=b.parentNode.xfElement,d=c.model||c,e=b.getAttribute("xf-type");"xsd:ID"===e&&(XsltForms_globals.IDstr=b.getAttribute("xf-ref").split("/").pop());this.init(a,b);this.model=d;this.type=e?XsltForms_schema.getType(e):null;b.hasAttribute("xf-ref")||b.setAttribute("xf-ref",".");this.nodeset=b.getAttribute("xf-ref");this.readonly=b.hasAttribute("xf-readonly")?new XsltForms_mipbinding(a,b,"xf-readonly","xsd:boolean",d):null;this.required=b.hasAttribute("xf-required")?new XsltForms_mipbinding(a,
      b,"xf-required","xsd:boolean",d):null;this.relevant=b.hasAttribute("xf-relevant")?new XsltForms_mipbinding(a,b,"xf-relevant","xsd:boolean",d):null;this.calculate=b.hasAttribute("xf-calculate")?new XsltForms_mipbinding(a,b,"xf-calculate","xsd:string",d):null;this.constraint=b.hasAttribute("xf-constraint")?new XsltForms_mipbinding(a,b,"xf-constraint","xsd:boolean",d):null;this.changed=b.hasAttribute("xf-changed")?new XsltForms_mipbinding(a,b,"xf-changed","xsd:string",d):null;var f=this.meta={};Array.prototype.slice.call(b.attributes).forEach(function(g){g.nodeName.startsWith("meta-")&&
      (f[g.nodeName.substr(5)]=new XsltForms_mipbinding(a,b,g.nodeName,"xsd:anyAtomicType",d))});this.depsNodes=[];this.depsElements=[];this.nodes=[];this.binds=[];this.binding=new XsltForms_binding(a,b);c.addBind(this);a.binds.push(this);this.depsId=XsltForms_element_depsId++}XsltForms_bind.prototype=new XsltForms_coreElement;XsltForms_bind.prototype.addBind=function(a){this.binds.push(a)};
      XsltForms_bind.prototype.clear=function(){this.depsNodes.length=0;this.depsElements.length=0;this.nodes.length=0;XsltForms_browser.forEach(this.binds,"clear")};
      XsltForms_bind.prototype.refresh=function(a,b){if(!b){b=0;for(var c=this.depsNodes.length;b<c;b++)XsltForms_browser.rmValueMeta(this.depsNodes[b],"depfor",this.depsId);this.clear()}a=a||(this.model?this.model.getInstanceDocument()?this.model.getInstanceDocument().documentElement:null:null);XsltForms_browser.copyArray(this.binding.bind_evaluate(this.subform,a,{},this.depsNodes,this.depsId,this.depsElements).toArray(),this.nodes);a=this.element;b=0;for(c=this.nodes.length;b<c;b++){var d=this.nodes[b],
      e=XsltForms_browser.getMeta(d,"bind");e?-1===(" "+e+" ").indexOf(" "+this.element.xfIndex+" ")&&XsltForms_browser.setMeta(d,"bind",e+" "+this.element.xfIndex):XsltForms_browser.setMeta(d,"bind",String(this.element.xfIndex));if(this.type)if(XsltForms_browser.getMeta(d,"schemaType"))XsltForms_globals.error(a,"xforms-binding-exception","Type especified in xsi:type attribute");else{e=this.type.name;var f=Fleur.XPathNSResolver_default.uri.lastIndexOf(this.type.nsuri);-1!==f&&(e=Fleur.XPathNSResolver_default.pf[f]+
      ":"+e);XsltForms_browser.setType(d,e)}e=0;for(f=a.children.length;e<f;e++)a.children[e].xfElement&&a.children[e].xfElement.refresh&&a.children[e].xfElement.refresh(d,b)}};
      XsltForms_bind.prototype.recalculate=function(){var a=this.element;if(this.calculate)for(var b=0,c=this.nodes.length;b<c;b++){var d=this.nodes[b],e=new XsltForms_exprContext(this.subform,d,b+1,this.nodes);e=XsltForms_globals.stringValue(this.calculate.evaluate(e,d));e=XsltForms_schema.getType(XsltForms_browser.getType(d)||"xsd_:string").normalize(e);(d.nodeValue||d.textContent)!==e&&(XsltForms_browser.setValue(d,e),this.model.addChange(d));XsltForms_browser.debugConsole.write("Calculate "+d.nodeName+
      " "+e)}b=0;for(c=a.children.length;b<c;b++)a.children[b].xfElement&&a.children[b].xfElement.recalculate()};
      XsltForms_bind.prototype.propagate=function(){var a=this.element;if(this.changed)for(var b=0,c=this.nodes.length;b<c;b++){var d=this.nodes[b],e=new XsltForms_exprContext(this.subform,d,b+1,this.nodes);e=XsltForms_globals.stringValue(this.changed.evaluate(e,d));e=XsltForms_schema.getType(XsltForms_browser.getType(d)||"xsd_:string").normalize(e);XsltForms_browser.setValue(d,e);XsltForms_browser.debugConsole.write("Propagate "+d.nodeName+" "+e)}b=0;for(c=a.children.length;b<c;b++)a.children[b].xfElement&&
      a.children[b].xfElement.propagate()};new XsltForms_class("XsltForms_submission","HTMLElement","xforms-submission");
      function XsltForms_submission(a,b){this.init(a,b);this.model=b.parentNode.xfElement;this.model.defaultSubmission||(this.model.defaultSubmission=this);this.replace=b.getAttribute("xf-replace")||"all";this.targetref=b.hasAttribute("xf-targetref")?new XsltForms_binding(a,b,"xf-targetref"):null;this.version=b.getAttribute("xf-version");this.serialization=b.getAttribute("xf-serialization");this.indent=b.getAttribute("xf-indent");this.validate=b.hasAttribute("xf-validate")?"false"!==b.getAttribute("xf-validate"):
      "none"!==this.serialization;this.relevant=b.hasAttribute("xf-relevant")?"false"!==b.getAttribute("xf-relevant"):"none"!==this.serialization;this.synchr="synchronous"===b.getAttribute("xf-mode");this.show=b.getAttribute("xf-show");this.target=b.getAttribute("xf-target")||"_self";var c=b.getAttribute("xf-mediatype");if(c){c=c.split(";");this.mediatype=c[0];for(var d=1,e=c.length;d<e;d++){var f=c[d].split("=");switch(f[0].replace(/^\s+/g,"").replace(/\s+$/g,"")){case "action":this.soapAction=f[1].replace(/^\s+/g,
      "").replace(/\s+$/g,"");break;case "charset":this.charset=f[1].replace(/^\s+/g,"").replace(/\s+$/g,"")}}if("application/zip"===this.mediatype||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===this.mediatype)this.charset="x-user-defined-binary"}else this.mediatype="application/xml";this.encoding=b.getAttribute("xf-encoding")||"UTF-8";this.omitXmlDeclaration=b.getAttribute("xf-omitXmlDeclaration");this.cdataSectionElements=b.getAttribute("xf-cdataSectionElements");this.instance=
      b.getAttribute("xf-instance");this.separator=b.getAttribute("xf-separator")||"&";this.includenamespaceprefixes=b.getAttribute("xf-includenamespaceprefixes");var g=[],h,l;Array.prototype.slice.call(b.children).forEach(function(k){switch(k.localName.toLowerCase()){case "xforms-resource":h=k;break;case "xforms-method":l=k;break;case "xforms-header":var m,n=[];Array.prototype.slice.call(k.children).forEach(function(p){switch(p.localName.toLowerCase()){case "xforms-name":m=p;break;case "xforms-value":n.push(p)}});
      g.push({nodeset:k.hasAttribute("xf-ref")?new XsltForms_binding(a,k):null,name:m?m.hasAttribute("xf-value")?new XsltForms_binding(a,m):m.textContent:k.getAttribute("xf-name"),combine:k.getAttribute("xf-combine")||"append",values:n.map(function(p){return p.hasAttribute("xf-value")?new XsltForms_binding(a,p):p.textContent})})}});this.headers=g;this.action=h?h.hasAttribute("xf-value")?new XsltForms_binding(a,h):h.textContent:b.hasAttribute("xf-resource")?b.getAttribute("xf-resource"):b.getAttribute("xf-action");
      this.method=l?l.hasAttribute("xf-value")?new XsltForms_binding(a,l):l.textContent:b.getAttribute("xf-method");b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")||b.hasAttribute("xf-value")?(this.binding=new XsltForms_binding(a,b),this.eval_=function(){var k=this.binding.bind_evaluate();return"string"===typeof k?k:k.head()}):this.eval_=function(){return this.model.getInstanceDocument()};this.pending=!1}XsltForms_submission.prototype=new XsltForms_coreElement;
      XsltForms_submission.prototype.header=function(a,b,c,d){this.headers.push({nodeset:a,combine:b,name:c,values:d});return this};
      XsltForms_submission.prototype.xml2data=function(a,b){if("application/zip"===this.mediatype||"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===this.mediatype||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===this.mediatype)return a=document.getElementById(XsltForms_browser.getDocMeta(a.nodeType===Fleur.Node.DOCUMENT_NODE?a:a.ownerDocument,"instance")).xfElement,a.archive||alert("Not an archive!"),XsltForms_browser.xml2zip(a.archive,this.mediatype);b=
      a?"string"===typeof a?a:"urlencoded-post"===b?XsltForms_submission.toUrl_(a,this.separator):XsltForms_browser.saveNode(a,"application/xml",this.relevant,!1,"multipart-post"===b,this.cdataSectionElements):"";return"text/csv"===this.mediatype&&"string"!==typeof a?XsltForms_browser.xml2csv(b,this.separator):"application/json"!==this.mediatype&&"text/json"!==this.mediatype||"string"===typeof a?b:XsltForms_browser.xml2json(b)};
      XsltForms_submission.prototype.submit=async function(){if(this.pending)XsltForms_globals.openAction("XsltForms_submission.prototype.submit"),this.issueSubmitException_({"error-type":"submission-in-progress"}),XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");else{this.pending=!0;XsltForms_globals.openAction("XsltForms_submission.prototype.submit");var a=this.eval_();var b=typeof a,c;"number"===b||"boolean"===b?a=String(a):"string"!==b&&(c=a);var d="error";d=this.action.bind_evaluate?
      XsltForms_globals.stringValue(this.action.bind_evaluate(this.subform)):this.action;b="post";var e=this;b=this.method.bind_evaluate?XsltForms_globals.stringValue(this.method.bind_evaluate(this.subform)):this.method;var f={method:b,"resource-uri":d};if(d.substring&&"local://"===d.substring(0,8)&&"undefined"===typeof localStorage)f["error-type"]="validation-error",this.issueSubmitException_(f,null,{message:"local:// submission not supported"}),XsltForms_globals.closeAction("XsltForms_submission.prototype.submit"),
      this.pending=!1;else{if(c){if(this.validate&&!XsltForms_globals.validate_(c)){XsltForms_globals.validationError=!0;XsltForms_globals.addChange(e.model);XsltForms_xmlevents.dispatch(e.model,"xforms-rebuild");XsltForms_globals.refresh();f["error-type"]="validation-error";this.issueSubmitException_(f,null,null);XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");this.pending=!1;return}if(("get"===b||"delete"===b)&&"none"!==this.serialization&&"file:"!==d.substring(0,5)&&"opener://"!==
      d.substr(0,9)&&"local://"!==d.substring(0,8)&&"javascript:"!==d.substring(0,11)){var g=XsltForms_submission.toUrl_(c,this.separator);0<g.length&&(d+=(-1===d.indexOf("?")?"?":this.separator)+g.substring(0,g.length-this.separator.length))}}c&&"none"!==this.serialization&&(XsltForms_xmlevents.dispatch(this,"xforms-submit-serialize"),a=this.xml2data(c,b));var h=this.instance;if(h&&!document.getElementById(h))XsltForms_xmlevents.dispatch(this,"xforms-binding-exception"),XsltForms_globals.closeAction("XsltForms_submission.prototype.submit"),
      this.pending=!1;else if("file:"===window.location.href.substring(0,5)&&"http://"!==d.substring(0,7)||"file:"===d.substring(0,5)&&("file:"!==window.location.href.substring(0,5)||"get"!==b)||"opener://"===d.substring(0,9)||"local://"===d.substring(0,8)){if(("file:"===window.location.href.substring(0,5)||"file:"===d.substring(0,5))&&"put"===b)e.pending=!1,await XsltForms_browser.writeFile("file:"===d.substr(0,5)?d.substr(5):d,e.encoding,e.mediatype,a)||XsltForms_xmlevents.dispatch(e,"xforms-submit-error"),
      XsltForms_xmlevents.dispatch(e,"xforms-submit-done");else if("file:"===window.location.href.substring(0,5)&&"file:"!==d&&""!==d&&"get"===b){a=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","script"):document.createElement("script");a.setAttribute("src",d);a.setAttribute("id","xsltforms-filereader");a.setAttribute("type","application/xml");var l=function(){alert(document.getElementById("xsltforms-filereader").textContent)};a.onreadystatechange=function(){"complete"!==
      this.readyState&&"loaded"!==this.readyState||l()};a.onload=l;var k=XsltForms_browser.isXhtml?document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","body")[0]:document.getElementsByTagName("body")[0];k.insertBefore(a,k.firstChild)}else if("opener://"===d.substring(0,9)&&"put"===b){try{window.opener.XsltForms_globals.xmlrequest("put",d.substr(9),a)}catch(F){XsltForms_xmlevents.dispatch(e,"xforms-submit-error");XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");this.pending=
      !1;return}XsltForms_xmlevents.dispatch(e,"xforms-submit-done")}else if("local://"===d.substring(0,8)&&"put"===b){try{window.localStorage.setItem(d.substr(8),a)}catch(F){XsltForms_xmlevents.dispatch(e,"xforms-submit-error");XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");this.pending=!1;return}XsltForms_xmlevents.dispatch(e,"xforms-submit-done")}else if("local://"===d.substring(0,8)&&"delete"===b){try{window.localStorage.removeItem(d.substr(8))}catch(F){XsltForms_xmlevents.dispatch(e,
      "xforms-submit-error");XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");this.pending=!1;return}XsltForms_xmlevents.dispatch(e,"xforms-submit-done")}else if("get"===b){if("file:"===d.substring(0,5)){const F=G=>{if("instance"===e.replace||e.targetref&&"text"===e.replace){if(e.targetref){if(n=h?document.getElementById(h).xfElement.doc.documentElement:c?c.nodeType===Fleur.Node.DOCUMENT_NODE?c.documentElement:c.ownerDocument.documentElement:e.model.getInstance().documentElement,p=
      e.targetref.bind_evaluate(e.subform,n),Fleur.minimal&&p&&p[0]||!Fleur.minimal&&p.head().nodeType!==Fleur.Node.SEQUENCE_NODE)p=p.head(),"instance"===e.replace?XsltForms_browser.loadNode(p,G,"application/xml"):XsltForms_browser.loadTextNode(p,G)}else q=h?document.getElementById(h).xfElement:c?document.getElementById(XsltForms_browser.getDocMeta(c.nodeType===Fleur.Node.DOCUMENT_NODE?c:c.ownerDocument,"instance")).xfElement:e.model.getInstance(),q.setDoc(G,!1,!0);XsltForms_globals.addChange(e.model);
      XsltForms_xmlevents.dispatch(e.model,"xforms-rebuild");XsltForms_globals.refresh()}XsltForms_xmlevents.dispatch(e,"xforms-submit-done");XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");e.pending=!1};if(window.showOpenFilePicker){a={types:[{accept:{}}]};a.types[0].accept[e.mediatype]=XsltForms_browser.MIME2extensions[e.mediatype];try{var m=await (await (await window.showOpenFilePicker(a))[0].getFile()).text();F(m)}catch(G){}}else e.cell||(a=document.createElement("xforms-body"),
      e.cell=document.createElement("input"),e.cell.type="file",a.appendChild(e.cell),e.element.appendChild(a),e.cell.addEventListener("change",()=>{const G=new FileReader;G.onerror=()=>{XsltForms_xmlevents.dispatch(e,"xforms-submit-error");XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");this.pending=!1};G.onabort=()=>{XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");this.pending=!1};G.onload=()=>{F(G.result)};const J=e.cell.files[0];J?G.readAsText(J):(XsltForms_globals.closeAction("XsltForms_submission.prototype.submit"),
      e.pending=!1)})),e.cell.accept=e.mediatype,e.cell.click();e.pending=!1;return}if("local://"===d.substring(0,8))try{a=window.localStorage.getItem(d.substr(8))}catch(F){XsltForms_xmlevents.dispatch(e,"xforms-submit-error");XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");this.pending=!1;return}else if("opener://"===d.substring(0,9))try{a=window.opener.XsltForms_globals.xmlrequest("get",d.substr(9))}catch(F){XsltForms_xmlevents.dispatch(e,"xforms-submit-error");XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");
      this.pending=!1;return}else a=eval(d.substring(11));if(""!==a&&("instance"===e.replace||e.targetref&&"text"===e.replace)){var n=h?document.getElementById(h).xfElement.doc.documentElement:c?c.documentElement?c.documentElement:c.ownerDocument.documentElement:e.model.getInstance().documentElement;if(e.targetref){var p=e.targetref.bind_evaluate(e.subform,n);if(Fleur.minimal&&p&&p[0]||!Fleur.minimal&&p.head().nodeType!==Fleur.Node.SEQUENCE_NODE)p=p.head(),"instance"===e.replace?XsltForms_browser.loadNode(p,
      a,"application/xml"):XsltForms_browser.loadTextNode(p,a)}else{var q=h?document.getElementById(h).xfElement:c?document.getElementById(XsltForms_browser.getDocMeta(c.nodeType===Fleur.Node.DOCUMENT_NODE?c:c.ownerDocument,"instance")).xfElement:e.model.getInstance();q.setDoc(a,!1,!0)}XsltForms_globals.addChange(e.model);XsltForms_xmlevents.dispatch(e.model,"xforms-rebuild");XsltForms_globals.refresh();XsltForms_xmlevents.dispatch(e,"xforms-submit-done")}else XsltForms_xmlevents.dispatch(e,"xforms-submit-error")}XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");
      this.pending=!1}else if("javascript:"===d.substring(0,11)){if("get"===b)if(a=eval(d.substring(11)),""!==a&&("instance"===e.replace||e.targetref&&"text"===e.replace)){n=h?document.getElementById(h).xfElement.doc.documentElement:c?c.documentElement?c.documentElement:c.ownerDocument.documentElement:e.model.getInstance().documentElement;if(e.targetref){if(p=e.targetref.bind_evaluate(e.subform,n),Fleur.minimal&&p&&p[0]||!Fleur.minimal&&p.head().nodeType!==Fleur.Node.SEQUENCE_NODE)p=p.head(),"instance"===
      e.replace?XsltForms_browser.loadNode(p,a,"application/xml"):XsltForms_browser.loadTextNode(p,a)}else q=h?document.getElementById(h).xfElement:c?document.getElementById(XsltForms_browser.getDocMeta(c.nodeType===Fleur.Node.DOCUMENT_NODE?c:c.ownerDocument,"instance")).xfElement:e.model.getInstance(),q.setDoc(a,!1,!0);XsltForms_globals.addChange(e.model);XsltForms_xmlevents.dispatch(e.model,"xforms-rebuild");XsltForms_globals.refresh();XsltForms_xmlevents.dispatch(e,"xforms-submit-done")}else XsltForms_xmlevents.dispatch(e,
      "xforms-submit-error");XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");this.pending=!1}else{var r=this.synchr;r&&XsltForms_browser.dialog.show("xsltforms-status-panel",null,!1);if("xml-urlencoded-post"===b){if(k=document.getElementById("xsltforms_form"))k.firstChild.value=a;else{k=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","form"):document.createElement("form");k.setAttribute("method","post");k.setAttribute("action",d);k.setAttribute("id",
      "xsltforms_form");var t=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","input"):document.createElement("input");t.setAttribute("type","hidden");t.setAttribute("name","postdata");t.setAttribute("value",a);k.appendChild(t);document.querySelector("xforms-form > xforms-body").appendChild(k)}k.submit();XsltForms_globals.closeAction("XsltForms_submission.prototype.submit")}else if("application/javascript"===this.mediatype)XsltForms_browser.jsoninstobj={instance:h?document.getElementById(h).xfElement:
      c?document.getElementById(XsltForms_browser.getDocMeta(c.nodeType===Fleur.Node.DOCUMENT_NODE?c:c.ownerDocument,"instance")).xfElement:this.model.getInstance(),submission:this},a=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","script"):document.createElement("script"),a.setAttribute("src",d.replace(/&amp;/g,"&")+(-1===d.indexOf("?")?"?":"&")+"callback=jsoninst"),a.setAttribute("id","jsoninst"),a.setAttribute("type","text/javascript"),k=XsltForms_browser.isXhtml?document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml",
      "body")[0]:document.getElementsByTagName("body")[0],k.insertBefore(a,k.firstChild),XsltForms_xmlevents.dispatch(this,"xforms-submit-done"),XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");else if(c||"get"===b&&"delete"===b){var x=null;try{f["resource-uri"]=d;x=XsltForms_browser.openRequest(b.split("-").pop(),d,!r);m=function(){if(r||4===x.readyState){try{1223===x.status&&(x.status=204,x.statusText="No Content");if(0!==x.status&&(200>x.status||300<=x.status)){f["error-type"]=
      "resource-error";e.issueSubmitException_(f,x,null);XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");e.pending=!1;return}if("instance"===e.replace||e.targetref&&"text"===e.replace){if(e.targetref){if(n=h?document.getElementById(h).xfElement.doc.documentElement:c?c.nodeType===Fleur.Node.DOCUMENT_NODE?c.documentElement:c.ownerDocument.documentElement:e.model.getInstance().documentElement,p=e.targetref.bind_evaluate(e.subform,n),Fleur.minimal&&p&&p[0]||!Fleur.minimal&&p.head().nodeType!==
      Fleur.Node.SEQUENCE_NODE)p=p.head(),"instance"===e.replace?XsltForms_browser.loadNode(p,x.responseText,"application/xml"):XsltForms_browser.loadTextNode(p,x.responseText)}else q=h?document.getElementById(h).xfElement:c?document.getElementById(XsltForms_browser.getDocMeta(c.nodeType===Fleur.Node.DOCUMENT_NODE?c:c.ownerDocument,"instance")).xfElement:e.model.getInstance(),q.setDocFromReq(x,!1,!0);XsltForms_globals.addChange(e.model);XsltForms_xmlevents.dispatch(e.model,"xforms-rebuild");XsltForms_globals.refresh()}XsltForms_submission.requesteventlog(f,
      x);XsltForms_xmlevents.dispatch(e,"xforms-submit-done",null,null,null,null,f);XsltForms_globals.closeAction("XsltForms_submission.prototype.submit");if("all"===e.replace){for(var F=x.responseText,G=F.indexOf("<?xml-stylesheet",0);-1!==G;){var J=F.substr(G,F.substr(G).indexOf("?>")).replace(/^.*href="([^"]*)".*$/,"$1");F=XsltForms_browser.transformText(F,J,!1);G=F.indexOf("<?xml-stylesheet",0)}if("new"===e.show||"_self"!==e.target)if("application/octet-stream;base64"===x.getResponseHeader("Content-Type"))location.href=
      "data:application/octet-stream;base64,"+F;else{var L=window.open("about:blank",e.target);L.document.write(F);L.document.close()}else XsltForms_browser.dialog.hide("xsltforms-status-panel",!1),XsltForms_globals.close(),document.write?(document.write(F),document.close()):(0===F.indexOf("<?",0)&&(F=F.substr(F.indexOf("?>")+2)),document.documentElement.innerHTML=F)}}catch(K){XsltForms_browser.debugConsole.write(K||K.message),f["error-type"]="parse-error",e.issueSubmitException_(f,x,K),XsltForms_globals.closeAction("XsltForms_submission.prototype.submit")}e.pending=
      !1}};r||(x.onreadystatechange=m);k=this.mediatype;t="multipart-post"===b?"multipart/related; boundary=xsltformsrev"+XsltForms_globals.fileVersionNumber+'; type="application/xml"; start="<xsltforms_main>"':(k||"application/xml")+(this.charset?";charset="+this.charset:"");XsltForms_browser.debugConsole.write("Submit "+this.method+" - "+t+" - "+d+" - "+r);d="";if(0!==this.headers.length){g=[];for(var v=0,C=this.headers.length;v<C;v++){var u=[];u=this.headers[v].nodeset?this.headers[v].nodeset.bind_evaluate(this.subform):
      [e.model.getInstanceDocument().documentElement];for(var y,z=0,A=u.length;z<A;z++)if(y=this.headers[v].name.bind_evaluate?XsltForms_globals.stringValue(this.headers[v].name.bind_evaluate(u[z])):this.headers[v].name,""!==y){var w="",D;var E=0;for(D=this.headers[v].values.length;E<D;E++){var B=this.headers[v].values[E];var H=B.bind_evaluate?XsltForms_globals.stringValue(B.bind_evaluate(u[z])):B;w+=H;E<D-1&&(w+=",")}var I;E=0;for(I=g.length;E<I;E++)if(g[E].name===y){switch(this.headers[v].combine){case "prepend":g[E].value=
      w+","+g[E].value;break;case "replace":g[E].value=w;break;default:g[E].value+=","+w}break}E===I&&g.push({name:y,value:w})}}C=0;for(var M=g.length;C<M;C++)x.setRequestHeader(g[C].name,g[C].value),"accept"===g[C].name.toLowerCase()&&(d=g[C].value)}"get"===b||"delete"===b?(""===d&&(k===XsltForms_submission.SOAP_?(x.setRequestHeader("Accept",t),d=t):"instance"===e.replace?(x.setRequestHeader("Accept","application/xml,text/xml"),d="application/xml,text/xml"):(x.setRequestHeader("Accept","text/plain"),d=
      "text/plain")),x.overrideMimeType&&x.overrideMimeType(d.split(",")[0].split(";")[0]),x.send(null)):("urlencoded-post"===b&&(t="application/x-www-form-urlencoded"),x.setRequestHeader("Content-Type",t),k===XsltForms_submission.SOAP_?this.soapAction&&x.setRequestHeader("SOAPAction",this.soapAction):"instance"===e.replace&&x.setRequestHeader("Accept","application/xml,text/xml"),x.send(a));r&&(m(),XsltForms_browser.dialog.hide("xsltforms-status-panel",null,!1))}catch(F){XsltForms_browser.dialog.hide("xsltforms-status-panel",
      null,!1),XsltForms_browser.debugConsole.write(F.message||F),f["error-type"]="resource-error",e.issueSubmitException_(f,x,F),XsltForms_globals.closeAction("XsltForms_submission.prototype.submit"),e.pending=!1}}else f["error-type"]="no-data",this.issueSubmitException_(f,null,null),this.pending=!1}}}};XsltForms_submission.SOAP_="application/soap+xml";
      XsltForms_submission.requesteventlog=function(a,b){try{a["response-status-code"]=b.status;a["response-reason-phrase"]=b.statusText;a["response-headers"]=[];var c=b.getAllResponseHeaders(),d="";if(c){c=c.replace(/\r/,"").split("\n");for(var e=0,f=c.length;e<f;e++){var g=c[e].indexOf(":");if(-1!==g){var h=c[e].substring(0,g).replace(/^\s+|\s+$/,""),l=c[e].substring(g+1).replace(/^\s+|\s+$/,"");d+="<header><name>"+XsltForms_browser.escape(h)+"</name><value>"+XsltForms_browser.escape(l)+"</value></header>"}}}a.rheadsdoc=
      XsltForms_browser.createXMLDocument("<data>"+d+"</data>");if(a.rheadsdoc.documentElement.firstChild){var k=a.rheadsdoc.documentElement.firstChild;for(a["response-headers"]=[k];k.nextSibling;)k=k.nextSibling,a["response-headers"].push(k)}a["response-body"]=b.responseXML?[XsltForms_browser.createXMLDocument(b.responseText).documentElement]:b.responseText||""}catch(m){}};
      XsltForms_submission.prototype.issueSubmitException_=function(a,b,c){c&&(a.message=c.message||c,a["stack-trace"]=c.stack);b&&XsltForms_submission.requesteventlog(a,b);XsltForms_xmlevents.dispatch(this,"xforms-submit-error",null,null,null,null,a)};
      XsltForms_submission.toUrl_=function(a,b){for(var c="",d="",e=!1,f=0,g=a.childNodes.length;f<g;f++){var h=a.childNodes[f];switch(h.nodeType){case Fleur.Node.ELEMENT_NODE:e=!0;c+=this.toUrl_(h,b);break;case Fleur.Node.TEXT_NODE:d+=h.nodeValue}}!e&&0<d.length&&(c+=a.nodeName+"="+encodeURIComponent(d)+b);return c};new XsltForms_class("XsltForms_itext","HTMLElement","xforms-itext");function XsltForms_itext(a,b){b.parentNode.xfElement.itext={defaultlang:b.children[0].getAttribute("xf-lang")}}
      XsltForms_itext.prototype=new XsltForms_coreElement;new XsltForms_class("XsltForms_translation","HTMLElement","xforms-translation");function XsltForms_translation(a,b){this.translation=b.parentNode.parentNode.xfElement.itext[b.getAttribute("xf-lang")]={}}XsltForms_translation.prototype=new XsltForms_coreElement;new XsltForms_class("XsltForms_text","HTMLElement","xforms-text");function XsltForms_text(a,b){b.parentNode.xfElement.translation[b.id]=b.children[0].textContent}XsltForms_text.prototype=new XsltForms_coreElement;
      new XsltForms_class("XsltForms_timer","HTMLElement","xforms-timer");function XsltForms_timer(a,b,c){document.getElementById(b)||(this.init(a,b,null,"xforms-timer"),this.running=!1,this.time=c)}XsltForms_timer.prototype=new XsltForms_coreElement;XsltForms_timer.prototype.start=function(){this.running=!0;var a=this;setTimeout(function(){a.run()},this.time)};XsltForms_timer.prototype.stop=function(){this.running=!1};
      XsltForms_timer.prototype.run=function(){if(this.running){var a=this;XsltForms_globals.openAction();XsltForms_xmlevents.dispatch(a.element,"ajx-time");XsltForms_globals.closeAction();setTimeout(function(){a.run()},this.time)}};new XsltForms_class("XsltForms_confirm","HTMLElement","xforms-confirm");function XsltForms_confirm(a,b){this.subform=a;this.binding=b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")?new XsltForms_binding(this.subform,b):null;this.id=b.id;this.init(b)}
      XsltForms_confirm.prototype=new XsltForms_abstractAction;XsltForms_confirm.prototype.run=function(a,b,c){var d;this.binding?(b=this.binding.bind_evaluate(b)[0])&&(d=XsltForms_browser.getValue(b)):(d=XsltForms_idManager.find(this.id),XsltForms_globals.build(d,b),d=d.textContent||d.innerText);d&&!XsltForms_browser.confirm(d.trim())&&(c.stopPropagation(),c.stopped=!0)};new XsltForms_class("XsltForms_setproperty","HTMLElement","xforms-setproperty");
      function XsltForms_setproperty(a,b){this.subform=a;this.name=b.getAttribute("xf-pname");this.value=b.hasAttribute("xf-value")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-value")):null;this.literal=b.textContent||"";this.init(b)}XsltForms_setproperty.prototype=new XsltForms_abstractAction;
      XsltForms_setproperty.prototype.run=function(a,b){a=this.literal;this.value&&"string"!==typeof a&&"undefined"!==typeof a.length&&(a=0<a.length?XsltForms_browser.getValue(a[0]):"");a&&(XsltForms_browser.i18n.lang=a,XsltForms_browser.debugConsole.write("setproperty "+name+" = "+a))};function XsltForms_abstractAction(){}
      XsltForms_abstractAction.prototype.init=function(a){var b=a.getAttribute("xf-if"),c=a.getAttribute("xf-while"),d=a.getAttribute("xf-iterate");this.ifexpr=b?XsltForms_xpath.create(this.subform,b):null;this.whileexpr=c?XsltForms_xpath.create(this.subform,c):null;this.iterateexpr=d?XsltForms_xpath.create(this.subform,d):null;for(b=this.element=a;b&&b.hasAttribute&&!b.hasAttribute("ev-event");)b=b.parentNode;if(b.hasAttribute&&(this.observer=b.hasAttribute("ev-observer")?XsltForms_idManager.find(b.getAttribute("ev-observer")):
      b.parentNode,a===b)){var e=this;new XsltForms_listener(this.subform,this.observer,null,a.getAttribute("ev-event"),null,function(f){XsltForms_browser.run(e,e.observer,f,!1,!0)},!0)}};XsltForms_abstractAction.prototype.build=function(){};
      XsltForms_abstractAction.prototype.execute=function(a,b,c){if(!c.stopped)if(b||=a.node||(XsltForms_globals.defaultModel.getInstanceDocument()?XsltForms_globals.defaultModel.getInstanceDocument().documentElement:null),this.iterateexpr){this.whileexpr&&XsltForms_globals.error(this.element,"xforms-compute-exception","@iterate cannot be used with @while");b=this.iterateexpr.xpath_evaluate(b,null,null,a).toArray();for(var d=0,e=b.length;d<e;d++)this.exec_(a,b[d],c)}else if(this.whileexpr)for(;XsltForms_globals.booleanValue(this.whileexpr.xpath_evaluate(b,
      null,null,a))&&this.exec_(a,b,c););else this.exec_(a,b,c)};XsltForms_abstractAction.prototype.exec_=function(a,b,c){if(this.ifexpr)if(XsltForms_globals.booleanValue(this.ifexpr.xpath_evaluate(b,null,null,a)))this.run(a,b,c);else return!1;else this.run(a,b,c);return!0};XsltForms_abstractAction.prototype.run=function(){};new XsltForms_class("XsltForms_action","HTMLElement","xforms-action");
      function XsltForms_action(a,b){this.subform=a;this.init(b);if(this.jsaction="text/javascript"===b.getAttribute("xf-type")){let c="",d=[];Array.prototype.slice.call(b.children).forEach(function(e){switch(e.localName.toLowerCase()){case "xforms-body":c=e.textContent;break;case "xforms-param":d.push({name:e.getAttribute("xf-name"),value:e.hasAttribute("xf-value")?new XsltForms_binding(a,e,null,"constant"):e.textContent})}});this.params=d;this.jsfunction=eval("("+d.reduce((e,f)=>""===e?f.name:e+", "+
      f.name,"")+") => {"+c+"}")}}XsltForms_action.prototype=new XsltForms_abstractAction;XsltForms_action.prototype.run=function(a,b,c){this.jsaction?(c=this.params.map(d=>d.value.bind_evaluate?d.value.bind_evaluate(this.subform,b,a):d.value),this.jsfunction.apply(null,c)):XsltForms_browser.forEach(Array.prototype.slice.call(this.element.children).map(function(d){return d.xfElement}),"execute",a,b,c)};new XsltForms_class("XsltForms_delete","HTMLElement","xforms-delete");
      function XsltForms_delete(a,b){this.subform=a;this.binding=new XsltForms_binding(this.subform,b);this.at=b.hasAttribute("xf-at")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-at")):null;this.context=b.hasAttribute("xf-context")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-context")):null;this.init(b)}XsltForms_delete.prototype=new XsltForms_abstractAction;
      XsltForms_delete.prototype.run=function(a,b){this.context&&(b=this.context.xpath_evaluate(b,null,this.subform).head());if(b){var c=this.binding.bind_evaluate(this.subform,b,this.element).toArray();for(a=0;a<c.length;a++)c[a].ownerDocument&&c[a].ownerDocument.documentElement!==c[a]||(c.splice(a,1),a--);if(this.at){var d=XsltForms_globals.numberValue(this.at.xpath_evaluate(new XsltForms_exprContext(this.subform,b,1,c,null,null,null,this.element)));if(!c[d-1])return;c=[c[d-1]]}if(0<c.length){var e=document.getElementById(XsltForms_browser.getDocMeta(c[0].nodeType===
      Fleur.Node.DOCUMENT_NODE?c[0]:c[0].ownerDocument,"model")).xfElement;var f=e.findInstance(c[0])}var g=[];a=0;for(b=c.length;a<b;a++){var h=c[a];XsltForms_mipbinding.nodedispose(h);var l=XsltForms_browser.getMeta(h,"repeat");l&&XsltForms_collection[l].xfElement.deleteNode(h);h.nodeType===Fleur.Node.ATTRIBUTE_NODE?(l=h.ownerElement?h.ownerElement:h.selectSingleNode(".."),l.removeAttributeNS?l.removeAttributeNS(h.namespaceURI,h.nodeName):l.removeAttributeNode(h),XsltForms_browser.isIE||XsltForms_browser.isIE11||
      (h.oldOwnerElement=l)):h.parentNode.removeChild(h);g.push(h)}0<g.length&&(XsltForms_globals.addChange(e),e.setRebuilded(!0),XsltForms_xmlevents.dispatch(f,"xforms-delete",null,null,null,null,{"deleted-nodes":g,"delete-location":d}))}};new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-dispatch");new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-hide");new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-rebuild");
      new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-recalculate");new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-refresh");new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-reset");new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-revalidate");new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-send");new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-setfocus");new XsltForms_class("XsltForms_dispatch","HTMLElement","xforms-show");
      function XsltForms_dispatch(a,b){switch(b.localName.toLowerCase()){case "xforms-dispatch":var c={},d,e,f;Array.prototype.slice.call(b.children).forEach(function(h){switch(h.localName.toLowerCase()){case "xforms-targetid":d=h;break;case "xforms-name":e=h;break;case "xforms-delay":f=h;break;case "xforms-property":c[h.getAttribute("xf-name")]=h.hasAttribute("xf-value")?new XsltForms_binding(a,h):h.textContent}});this.name=e?e.hasAttribute("xf-value")?new XsltForms_binding(a,e):e.textContent:b.getAttribute("xf-name");
      this.target=d?d.hasAttribute("xf-value")?new XsltForms_binding(a,d):d.textContent:b.getAttribute("xf-targetid");this.delay=f?f.hasAttribute("xf-value")?new XsltForms_binding(a,f):f.textContent:b.getAttribute("xf-delay");this.properties=c;break;case "xforms-hide":this.name="xforms-dialog-close";this.target=b.getAttribute("xf-dialog");break;case "xforms-rebuild":case "xforms-recalculate":case "xforms-refresh":case "xforms-reset":case "xforms-revalidate":this.name=b.localName.toLowerCase();this.target=
      b.getAttribute("xf-model");break;case "xforms-send":this.name="xforms-submit";this.target=b.getAttribute("xf-submission");break;case "xforms-setfocus":var g;Array.prototype.slice.call(b.children).forEach(function(h){switch(h.localName.toLowerCase()){case "xforms-control":g=h}});this.name="xforms-focus";this.target=g?g.hasAttribute("xf-value")?new XsltForms_binding(a,g):g.textContent:b.getAttribute("xf-control");break;case "xforms-show":this.name="xforms-dialog-open",this.target=b.getAttribute("xf-dialog")}this.subform=
      a;this.init(b)}XsltForms_dispatch.prototype=new XsltForms_abstractAction;
      XsltForms_dispatch.prototype.run=function(a,b,c){c=this.name;c.bind_evaluate&&(c=XsltForms_globals.stringValue(c.bind_evaluate(this.subform)));var d=this.target;d&&d.bind_evaluate&&(d=XsltForms_globals.stringValue(d.bind_evaluate(this.subform)));if(d)d="string"===typeof d?XsltForms_idManager.find(d):d,d||0!==c.indexOf("xforms-")||(c="xforms-binding-exception",d=a);else switch(c){case "xforms-submit":d=document.getElementById(XsltForms_browser.getDocMeta(b.ownerDocument,"model")).xfElement.defaultSubmission;
      break;case "xforms-rebuild":case "xforms-recalculate":case "xforms-refresh":case "xforms-reset":case "xforms-revalidate":d=document.getElementById(XsltForms_browser.getDocMeta(b.ownerDocument,"model")).xfElement}a={};for(var e in this.properties)""!==e&&this.properties.hasOwnProperty(e)&&(a[e]=this.properties[e].bind_evaluate?this.properties[e].bind_evaluate(this.subform):this.properties[e]);e=0;this.delay&&(e=this.delay.bind_evaluate?XsltForms_globals.numberValue(this.delay.bind_evaluate(this.subform)):
      XsltForms_globals.numberValue(this.delay));0<e?window.setTimeout("XsltForms_xmlevents.dispatch(document.getElementById('"+d.id+"'),'"+c+"')",e):XsltForms_xmlevents.dispatch(d,c,null,null,null,null,a)};new XsltForms_class("XsltForms_insert","HTMLElement","xforms-insert");
      function XsltForms_insert(a,b){this.subform=a;this.binding=new XsltForms_binding(this.subform,b);this.origin=b.hasAttribute("xf-origin")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-origin")):null;this.at=b.hasAttribute("xf-at")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-at")):null;this.context=b.hasAttribute("xf-context")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-context")):null;this.position=b.getAttribute("xf-position")||"after";this.init(b)}
      XsltForms_insert.prototype=new XsltForms_abstractAction;
      XsltForms_insert.prototype.run=function(a,b){this.context&&(b=this.context.xpath_evaluate(b).head());if(b){var c=[];if(this.binding.bind||this.binding.xpath)c=this.binding.bind_evaluate(this.subform,b,this.element).toArray();var d=0,e=[];a=null;var f="after"===this.position?1:0;this.origin&&(e=this.origin.xpath_evaluate(b,null,null,this.element).toArray());if(0===e.length){if(0===c.length)return;e.push(c[c.length-1])}for(var g=0,h=e.length;g<h;g+=1){var l=e[g];if(0===c.length)a=b;else if(a=c[0].nodeType===
      Fleur.Node.DOCUMENT_NODE?c[0]:c[0].nodeType===Fleur.Node.ATTRIBUTE_NODE?c[0].ownerDocument?c[0].ownerDocument:c[0].selectSingleNode(".."):c[0].parentNode,a.nodeType!==Fleur.Node.DOCUMENT_NODE&&l.nodeType!==Fleur.Node.ATTRIBUTE_NODE){var k=this.at?Math.round(XsltForms_globals.numberValue(this.at.xpath_evaluate(new XsltForms_exprContext(this.subform,b,1,c,null,null,null,this.element))))+g-1:c.length-1;d=isNaN(k)?c.length:k+f}XsltForms_browser.debugConsole.write("insert "+l.nodeName+" in "+a.nodeName+
      " at "+d+" - "+b.nodeName);k=a.ownerDocument?a.ownerDocument.importNode(l,!0):a.importNode(l,!0);XsltForms_browser.clearMeta(k);if(l.nodeType===Fleur.Node.ATTRIBUTE_NODE)XsltForms_browser.setAttributeNS(a,l.namespaceURI,l.nodeName,l.nodeValue);else if(a.nodeType===Fleur.Node.DOCUMENT_NODE){l=a.documentElement;var m=XsltForms_browser.getDocMeta(a,"model"),n=XsltForms_browser.getDocMeta(a,"instance");a.removeChild(l);a.appendChild(k);XsltForms_browser.setDocMeta(a,"instance",n);XsltForms_browser.setDocMeta(a,
      "model",m)}else(l=d>=c.length&&0!==c.length?c[c.length-1].nextSibling:c[d])?l.parentNode.insertBefore(k,l):0===c.length&&a.firstChild?a.insertBefore(k,a.firstChild):a.appendChild(k),m=0<c.length?XsltForms_browser.getMeta(c[0],"repeat"):null,c.push(k),m&&XsltForms_collection[m].xfElement.insertNode(k,l)}b=document.getElementById(XsltForms_browser.getDocMeta(a.nodeType===Fleur.Node.DOCUMENT_NODE?a:a.ownerDocument,"model")).xfElement;XsltForms_globals.addChange(b);b.setRebuilded(!0);e={"inserted-nodes":[k],
      "origin-nodes":e,"insert-location-node":d,position:this.position};XsltForms_xmlevents.dispatch(b.findInstance(a),"xforms-insert",null,null,null,null,e)}};new XsltForms_class("XsltForms_load","HTMLElement","xforms-load");
      function XsltForms_load(a,b){this.subform=a;this.binding=b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")?new XsltForms_binding(this.subform,b):null;b.hasAttribute("xf-resource")?this.resource=b.getAttribute("xf-resource"):0!==b.children.length&&"XFORMS-RESOURCE"===b.children[0].nodeName.toUpperCase()&&(b.children[0].hasAttribute("xf-value")?this.resource=new XsltForms_binding(this.subform,b.children[0]):this.resource=b.children[0].textContent);this.show=b.getAttribute("xf-show");this.targetid=
      b.getAttribute("xf-target")||b.getAttribute("xf-targetid")||"_self";this.init(b)}XsltForms_load.prototype=new XsltForms_abstractAction;
      XsltForms_load.prototype.run=function(a,b){var c=this.resource,d;this.binding?(d=this.binding.bind_evaluate(this.subform,b,this.element).head())&&(XsltForms_schema.getType(XsltForms_browser.getType(d)).hasBase("xf:HTMLFragment")||(c=XsltForms_browser.getValue(d))):c&&"object"===typeof c?c=XsltForms_globals.stringValue(this.resource.xpath.xpath_evaluate(b)):"string"===typeof c&&(c=XsltForms_browser.unescape(c));if(c)if("javascript:"===c.substr(0,11))try{eval('{XsltForms_context={elementId:"'+a.getAttribute("id")+
      '"};'+c.substr(11)+"}")}catch(C){alert("XSLTForms Exception\n--------------------------\n\nError evaluating the following Javascript expression :\n\n"+c.substr(11)+"\n\n"+C)}else if("new"===this.show||"_blank"===this.targetid)window.open(c);else if("embed"===this.show||""!==this.targetid&&"_blank"!==this.targetid&&"_self"!==this.targetid){XsltForms_globals.openAction("XsltForms_load.prototype.run");a=null;var e={method:"get","resource-uri":c};try{if(a=XsltForms_browser.openRequest("get",c,!1),XsltForms_browser.debugConsole.write("Load "+
      c),a.send(null),0!==a.status&&(200>a.status||300<=a.status))e["error-type"]="resource-error",this.issueLoadException_(e,a,null),XsltForms_globals.closeAction("XsltForms_load.prototype.run");else{XsltForms_submission.requesteventlog(e,a);XsltForms_globals.closeAction("XsltForms_load.prototype.run");for(var f=a.responseText,g=f.indexOf("<?xml-stylesheet",0);-1!==g;){var h=f.substr(g,f.substr(g).indexOf("?>")).replace(/^.*href="([^"]*)".*$/,"$1");f=XsltForms_browser.transformText(f,h,!1);g=f.indexOf("<?xml-stylesheet",
      0)}XsltForms_browser.dialog.hide("xsltforms-status-panel",!1);var l=XsltForms_globals.stringSplit(f,"<xforms-form"),k=XsltForms_idManager.find(this.targetid);var m=1===l.length?f:XsltForms_globals.stringSplit(l[1].substr(l[1].indexOf(">")+1),"</xforms-form>")[0];var n=k.id,p=k.xfElement;k.xfElement&&(k=k.querySelector("xforms-body"));k.innerHTML=m;k.hasXFElement=null;for(var q=k.parentNode;q&&!1===q.hasXFElement;)q.hasXFElement=null,q=q.parentNode;var r=XsltForms_globals.nbsubforms++,t=new XsltForms_subform(this.subform,
      "xsltforms-subform-"+String(r),n);XsltForms_class.activateAll(t,k,function(){t.construct();p&&p.isComponent||(XsltForms_globals.openAction("XsltForms_subform.prototype.construct"),XsltForms_globals.closeChanges(!0),XsltForms_globals.closeAction("XsltForms_subform.prototype.construct"));p&&XsltForms_xmlevents.dispatch(p,"xforms-load-done",null,null,null,null,e)})}}catch(C){XsltForms_browser.debugConsole.write(C.message||C),e["error-type"]="resource-error",this.issueLoadException_(e,a,C),XsltForms_globals.closeAction("XsltForms_load.prototype.run")}}else location.href=
      c;else if(d)try{var x=XsltForms_browser.getValue(d).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");var v="new"===this.show||"_blank"===this.targetid?window.open("about:blank","_blank"):window.open("about:blank","_self");v.document.write(x);v.document.close()}catch(C){XsltForms_browser.debugConsole.write("ERROR: Load:"+C.message)}};
      XsltForms_load.prototype.issueLoadException_=function(a,b,c){c&&(a.message=c.message||c,a["stack-trace"]=c.stack);b&&XsltForms_submission.requesteventlog(a,b);XsltForms_xmlevents.dispatch(document.getElementById(this.targetid),"xforms-link-exception",null,null,null,null,a)};
      XsltForms_load.subform=function(a,b,c){if(c)for(;c&&c.nodeType===Fleur.Node.ELEMENT_NODE;)"xforms-repeat-item"!==c.localName.toLowerCase()&&"repeat-item"!==c.getAttribute("xforms-name")||XsltForms_repeat.selectItem(c),c=c.parentNode;var d=null;for(c=XsltForms_idManager.find(b);c&&c.nodeType===Fleur.Node.ELEMENT_NODE;){if(c.xfSubform){d=c.xfSubform;break}c=c.parentNode}(new XsltForms_load(d,null,a,"embed",b)).run()};new XsltForms_class("XsltForms_message","HTMLElement","xforms-message");
      function XsltForms_message(a,b){this.subform=a;this.binding=b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")?new XsltForms_binding(this.subform,b):null;this.level=b.getAttribute("xf-level");this.init(b)}XsltForms_message.prototype=new XsltForms_abstractAction;
      XsltForms_message.prototype.run=function(a,b){var c;this.binding?(b=this.binding.bind_evaluate(this.subform,b,this.element).head())&&(c=XsltForms_browser.getValue(b)):(c=this.element,a=XsltForms_globals.building,this.running=XsltForms_globals.building=!0,XsltForms_globals.build(c,b,null,this.element),this.running=!1,XsltForms_globals.building=a,c=this.element.textContent||this.element.innerText);c&&alert(c.trim())};new XsltForms_class("XsltForms_script","HTMLElement","xforms-script");
      function XsltForms_script(a,b){this.subform=a;this.binding=b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")?new XsltForms_binding(this.subform,b):null;this.stype=b.getAttribute("xf-type");this.script=b.textContent;this.init(b)}XsltForms_script.prototype=new XsltForms_abstractAction;
      XsltForms_script.prototype.run=function(a,b){var c=this.script;switch(this.stype){case "text/javascript":this.binding?(b=this.binding.bind_evaluate(this.subform,b).head())&&(c=XsltForms_browser.getValue(b)):"object"===typeof c?c=XsltForms_globals.stringValue(this.script.xpath.xpath_evaluate(b)):"string"===typeof c&&(c=XsltForms_browser.unescape(c));if(c)try{eval('{XsltForms_context={elementId:"'+a.getAttribute("id")+'"};'+c+"}")}catch(d){alert("XSLTForms Exception\n--------------------------\n\nError evaluating the following Javascript expression :\n\n"+
      c+"\n\n"+d)}break;case "application/xquery":this.script.xpath.xpath_evaluate(b)}};new XsltForms_class("XsltForms_setindex","HTMLElement","xforms-setindex");function XsltForms_setindex(a,b){this.subform=a;this.repeat=b.getAttribute("xf-repeat");this.index=b.hasAttribute("xf-index")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-index")):null;this.context=b.hasAttribute("xf-context")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-context")):null;this.init(b)}
      XsltForms_setindex.prototype=new XsltForms_abstractAction;XsltForms_setindex.prototype.run=function(a,b){a=XsltForms_idManager.find(this.repeat);b=XsltForms_globals.numberValue(this.index.xpath_evaluate(b));XsltForms_browser.debugConsole.write("setIndex "+b);isNaN(b)||(1>b?(b=1,XsltForms_xmlevents.dispatch(a.xfElement,"xforms-scroll-first")):b>a.xfElement.nodes.length&&(b=a.xfElement.nodes.length,XsltForms_xmlevents.dispatch(a.xfElement,"xforms-scroll-last")),a.xfElement.setIndex(b))};
      new XsltForms_class("XsltForms_setnode","HTMLElement","xforms-setnode");function XsltForms_setnode(a,b){this.subform=a;this.binding=new XsltForms_binding(this.subform,b);this.value=(this.inout=b.hasAttribute("xf-inner"))?XsltForms_xpath.create(this.subform,b.getAttribute("xf-inner")):XsltForms_xpath.create(this.subform,b.getAttribute("xf-outer"));this.context=b.hasAttribute("xf-context")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-context")):null;this.init(b)}
      XsltForms_setnode.prototype=new XsltForms_abstractAction;
      XsltForms_setnode.prototype.run=function(a,b){if(a=this.binding.bind_evaluate(this.subform,b).head()){this.context&&(b=this.context.xpath_evaluate(b).head());b=this.value?XsltForms_globals.stringValue(this.context?this.value.xpath_evaluate(b,b):this.value.xpath_evaluate(a,b)):this.literal;var c=XsltForms_browser.getDocMeta(a.ownerDocument,"model"),d=XsltForms_browser.getDocMeta(a.ownerDocument,"instance");XsltForms_globals.openAction("XsltForms_setnode.prototype.run");if(this.inout){for(;a.firstChild;)a.removeChild(a.firstChild);
      d=a.ownerDocument.createTextNode("temp");a.appendChild(d);XsltForms_browser.loadNode(d,b||"","application/xml")}else XsltForms_browser.loadNode(a,b||"","application/xml"),XsltForms_browser.setDocMeta(a.ownerDocument,"model",c),XsltForms_browser.setDocMeta(a.ownerDocument,"instance",d);c=document.getElementById(c).xfElement;XsltForms_globals.addChange(c);XsltForms_browser.debugConsole.write("Setnode "+a.nodeName+(this.inout?" inner":" outer")+" = "+b);XsltForms_xmlevents.dispatch(c,"xforms-rebuild");
      XsltForms_globals.refresh();XsltForms_globals.closeAction("XsltForms_setnode.prototype.run")}};new XsltForms_class("XsltForms_setselection","HTMLElement","xforms-setselection");
      function XsltForms_setselection(a,b){this.subform=a;this.control=b.getAttribute("xf-control");this.value=b.hasAttribute("xf-value")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-value")):null;this.context=b.hasAttribute("xf-context")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-context")):null;this.init(b)}XsltForms_setselection.prototype=new XsltForms_abstractAction;
      XsltForms_setselection.prototype.run=function(a,b){this.context&&(b=this.context.xpath_evaluate(a.xfElement.subform,b,null,this.element).head());var c=this.control;c&&c.bind_evaluate&&(c=XsltForms_globals.stringValue(c.bind_evaluate(this.subform,b,this.element)));var d=XsltForms_idManager.find(c).xfElement,e=d.input;a=XsltForms_globals.stringValue(this.value.xpath_evaluate(b,b,a.xfElement.subform,this.element));var f=e.selectionStart,g=e.selectionEnd;g=e.value.substring(0,f)+a+e.value.substring(g);
      XsltForms_globals.openAction("XsltForms_setselection.prototype.run");try{XsltForms_browser.setValue(d.boundnodes[0],g),e.value=g,XsltForms_browser.isChrome||e.focus(),e.setSelectionRange(f,f+a.length),document.getElementById(XsltForms_browser.getDocMeta(d.boundnodes[0].ownerDocument,"model")).xfElement.addChange(d.boundnodes[0]),XsltForms_browser.debugConsole.write("Set selection "+c+" = "+g)}catch(h){XsltForms_browser.debugConsole.write("ERROR: cannot set selection on "+c+" = "+g+"(context "+XsltForms_browser.name2string(b)+
      ")")}XsltForms_globals.closeAction("XsltForms_setselection.prototype.run")};new XsltForms_class("XsltForms_setvalue","HTMLElement","xforms-setvalue");
      function XsltForms_setvalue(a,b){this.subform=a;this.binding=b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")?new XsltForms_binding(this.subform,b):null;this.value=b.hasAttribute("xf-value")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-value")):null;this.literal=b.textContent||"";this.context=b.hasAttribute("xf-context")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-context")):null;this.init(b)}XsltForms_setvalue.prototype=new XsltForms_abstractAction;
      XsltForms_setvalue.prototype.run=function(a,b){var c=this.binding.bind_evaluate(a.xfElement.subform,b,this.element).toArray();0!==c.length&&this.context&&(b=this.context.xpath_evaluate(a.xfElement.subform,b,null,this.element).head());for(var d=0,e=c.length;d<e;d++){var f=c[d];if(f){var g=this.value?XsltForms_globals.stringValue(this.context?this.value.xpath_evaluate(b,b,a.xfElement.subform,this.element):this.value.xpath_evaluate(f,b,a.xfElement.subform,this.element)):this.literal;XsltForms_globals.openAction("XsltForms_setvalue.prototype.run");
      try{XsltForms_browser.setValue(f,g||""),document.getElementById(XsltForms_browser.getDocMeta(f.ownerDocument,"model")).xfElement.addChange(f),XsltForms_browser.debugConsole.write("Setvalue "+XsltForms_browser.name2string(f)+" = "+g)}catch(h){XsltForms_browser.debugConsole.write("ERROR: cannot setvalue on "+XsltForms_browser.name2string(f)+" = "+g+"(context "+XsltForms_browser.name2string(b)+")")}XsltForms_globals.closeAction("XsltForms_setvalue.prototype.run")}}};
      new XsltForms_class("XsltForms_split","HTMLElement","xforms-split");function XsltForms_split(a,b){this.subform=a;this.binding=new XsltForms_binding(this.subform,b);this.separator=b.getAttribute("xf-separator");this.leftTrim=(a=b.getAttribute("xf-left-trim"))&&""!==a?new RegExp(a):null;this.rightTrim=(a=b.getAttribute("xf-right-trim"))&&""!==a?new RegExp(a):null;this.context=b.hasAttribute("xf-context")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-context")):null;this.init(b)}
      XsltForms_split.prototype=new XsltForms_abstractAction;
      XsltForms_split.prototype.run=function(a,b){var c=this.binding.bind_evaluate(a.xfElement.subform,b,this.element).toArray();if(0!==c.length){this.context&&(b=this.context.xpath_evaluate(a.xfElement.subform,b,null,this.element).head());XsltForms_globals.openAction("XsltForms_split.prototype.run");try{a=0;for(var d=c.length;a<d;a++){var e=c[a];XsltForms_browser.splitNode(e,this.separator||",",this.leftTrim,this.rightTrim);document.getElementById(XsltForms_browser.getDocMeta(e.ownerDocument,"model")).xfElement.addChange(e);
      XsltForms_browser.debugConsole.write("Split "+XsltForms_browser.name2string(e)+" = '"+XsltForms_browser.getValue(e)+"' with "+this.separator)}}catch(f){XsltForms_browser.debugConsole.write("ERROR: cannot split on "+XsltForms_browser.name2string(e)+" with "+this.separator+"(context "+XsltForms_browser.name2string(b)+")")}XsltForms_globals.closeAction("XsltForms_split.prototype.run")}};new XsltForms_class("XsltForms_toggle","HTMLElement","xforms-toggle");
      function XsltForms_toggle(a,b){this.subform=a;var c;Array.prototype.slice.call(b.children).forEach(function(d){switch(d.localName.toLowerCase()){case "xforms-case":c=d}});this.caseId=c?c.hasAttribute("xf-value")?new XsltForms_binding(this.subform,c):c.textContent:b.getAttribute("xf-case");this.init(b)}XsltForms_toggle.prototype=new XsltForms_abstractAction;XsltForms_toggle.prototype.run=function(a,b){XsltForms_toggle.toggle(this.caseId,b)};
      XsltForms_toggle.toggle=function(a,b){XsltForms_globals.openAction("XsltForms_toggle.toggle");"object"===typeof a&&(b||=XsltForms_globals.defaultModel.getInstanceDocument()?XsltForms_globals.defaultModel.getInstanceDocument().documentElement:null,a=XsltForms_globals.stringValue(a.xpath.xpath_evaluate(b)));b=(a=XsltForms_idManager.find(a))?a.parentNode.children:[];for(var c=0,d=b.length;c<d;c++){var e=b[c];e!==a&&e.hasAttribute("xf-selected")&&(e.removeAttribute("xf-selected"),XsltForms_xmlevents.dispatch(e,
      "xforms-deselect"))}a&&(a.setAttribute("xf-selected","true"),XsltForms_xmlevents.dispatch(a,"xforms-select"));XsltForms_globals.closeAction("XsltForms_toggle.toggle")};new XsltForms_class("XsltForms_unload","HTMLElement","xforms-unload");function XsltForms_unload(a,b){this.subform=a;this.targetid=b.getAttribute("xf-targetid");this.init(b)}XsltForms_unload.prototype=new XsltForms_abstractAction;
      XsltForms_unload.prototype.run=function(a,b){a=XsltForms_idManager.find(this.targetid||this.subform.eltid);a.xfSubform&&a.xfSubform.dispose();a.xfSubform=null;(b=a.xfElement)&&(a=a.children[a.children.length-1]);a.innerHTML="";a.hasXFElement=null;XsltForms_browser.setClass(a,"xforms-subform-loaded",!1);b&&XsltForms_xmlevents.dispatch(b,"xforms-unload-done");XsltForms_browser.debugConsole.write("unload-done")};
      XsltForms_unload.subform=function(a,b){if(b)for(;b&&b.nodeType===Fleur.Node.ELEMENT_NODE;)"xforms-repeat-item"!==b.localName.toLowerCase()&&"repeat-item"!==b.getAttribute("xforms-name")||XsltForms_repeat.selectItem(b),b=b.parentNode;var c=null;for(b=XsltForms_idManager.find(a);b&&b.nodeType===Fleur.Node.ELEMENT_NODE;){if(b.xfSubform){c=b.xfSubform;break}b=b.parentNode}(new XsltForms_unload(c,a)).run()};new XsltForms_class("XsltForms_wrap","HTMLElement","xforms-wrap");
      function XsltForms_wrap(a,b){this.subform=a;this.control=b.getAttribute("xf-control");this.prevalue=b.hasAttribute("xf-pre")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-pre")):null;this.postvalue=b.hasAttribute("xf-post")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-post")):null;this.context=b.hasAttribute("xf-context")?XsltForms_xpath.create(this.subform,b.getAttribute("xf-context")):null;this.init(b)}XsltForms_wrap.prototype=new XsltForms_abstractAction;
      XsltForms_wrap.prototype.run=function(a,b){this.context&&(b=this.context.xpath_evaluate(a.xfElement.subform,b,null,this.element).head());(a=this.control)&&a.bind_evaluate&&(a=XsltForms_globals.stringValue(a.bind_evaluate(this.subform,b,this.element)));var c=XsltForms_idManager.find(a).xfElement,d=c.input,e=this.prevalue;e&&e.bind_evaluate&&(e=XsltForms_globals.stringValue(e.bind_evaluate(this.subform,b,this.element)));var f=this.postvalue;f&&f.bind_evaluate&&(f=XsltForms_globals.stringValue(f.bind_evaluate(this.subform,
      b,this.element)));if(""!==e+f){var g=d.selectionStart,h=d.selectionEnd,l=d.value.substring(0,g)+e+d.value.substring(g,h)+f+d.value.substring(h);XsltForms_globals.openAction("XsltForms_wrap.prototype.run");try{XsltForms_browser.setValue(c.boundnodes[0],l||""),d.value=l||"",XsltForms_browser.isChrome||d.focus(),d.setSelectionRange(g,h+e.length+f.length),document.getElementById(XsltForms_browser.getDocMeta(c.boundnodes[0].ownerDocument,"model")).xfElement.addChange(c.boundnodes[0]),XsltForms_browser.debugConsole.write("Wrap "+
      a+" = "+l)}catch(k){XsltForms_browser.debugConsole.write("ERROR: cannot wrap on "+a+" = "+l+"(context "+XsltForms_browser.name2string(b)+")")}XsltForms_globals.closeAction("XsltForms_wrap.prototype.run")}};function XsltForms_element(){}var XsltForms_element_depsId=0;
      XsltForms_element.prototype.init=function(a,b){this.subform=a;this.element=b;this.element.xfElement?(this.element.xfElement instanceof Array||(this.element.xfElement=[this.element.xfElement]),this.element.xfElement.push(this)):this.element.xfElement=this;this.depsElements=[];this.depsNodesBuild=[];this.depsNodesRefresh=[];this.depsIdB=XsltForms_element_depsId++;this.depsIdR=XsltForms_element_depsId++;const c={};Array.prototype.slice.call(b.attributes).forEach(d=>{d.name.startsWith("html-")&&(c[d.name.substring(5)]=
      d.value)});this.htmlAttrs=c};
      XsltForms_element.prototype.dispose=function(){this.element&&(this.element.xfElement=null,this.element=this.element.hasXFElement=null);this.depsElements=null;if(this.depsNodesBuild)for(var a=0,b=this.depsNodesBuild.length;a<b;a++)XsltForms_browser.rmValueMeta(this.depsNodesBuild[a],"depfor",this.depsIdB);this.depsNodesBuild=null;if(this.depsNodesRefresh)for(a=0,b=this.depsNodesRefresh.length;a<b;a++)XsltForms_browser.rmValueMeta(this.depsNodesRefresh[a],"depfor",this.depsIdR);this.depsNodesRefresh=
      null;for(var c in this)this.hasOwnProperty(c)&&(this[c]=null,delete this[c])};
      XsltForms_element.prototype.build=function(a){if(this.hasBinding){for(var b=this.depsElements,c=this.depsNodesBuild,d=this.depsNodesRefresh,e=!XsltForms_globals.ready||0===b.length||a!==this.ctx,f=!1,g=XsltForms_globals.changes,h=0,l=c.length;!e&&h<l;h++)e=""===c[h].nodeName;h=0;for(l=b.length;!e&&h<l;h++)for(var k=b[h],m=0,n=g.length;!e&&m<n;m++)if(k===g[m])if(k.instances)if(k.rebuilded||k.newRebuilded)e=!0;else{for(var p=0,q=c.length;!e&&p<q;p++)e=XsltForms_browser.inArray(c[p],k.nodesChanged);
      if(!e)for(p=0,q=d.length;p<q;p++)f=XsltForms_browser.inArray(d[p],k.nodesChanged)}else e=!0;this.changed=e||f;if(e){e=0;for(f=c.length;e<f;e++)XsltForms_browser.rmValueMeta(c[e],"depfor",this.depsIdB);c=c.length=0;for(e=d.length;c<e;c++)XsltForms_browser.rmValueMeta(d[c],"depfor",this.depsIdR);d.length=0;b.length=0;this.ctx=a;this.build_(a)}}else this.element.node="item"===this.controlName?this.element.node||a:a};
      XsltForms_element.prototype.evaluateBinding=function(a,b){this.boundnodes=null;if(a){this.boundnodes=a.bind_evaluate(this.subform,b,this.element,this.depsNodesBuild,this.depsIdB,this.depsElements);!Fleur.minimal&&this.boundnodes.nodeType&&(this.boundnodes=this.boundnodes.toArray());this.boundnodes instanceof Array&&0!==this.boundnodes.length?this.element.setAttribute("xf-bound",""):this.element.removeAttribute("xf-bound");if(this.boundnodes||""===this.boundnodes||0===this.boundnodes||!1===this.boundnodes)return this.boundnodes;
      a="non-existent bind-ID("+a.bind+") on element("+this.element.localName+")!"}else a="no binding defined for element("+this.element.localName+")!";XsltForms_browser.assert(a);XsltForms_globals.building&&XsltForms_globals.debugMode?(XsltForms_globals.bindErrMsgs.push(a),XsltForms_xmlevents.dispatch(this.element,"xforms-binding-exception"),this.nodes=[]):XsltForms_globals.error(this.element,"xforms-binding-exception",a);return this.boundnodes};function XsltForms_control(){this.isControl=!0}
      XsltForms_control.prototype=new XsltForms_element;XsltForms_control.prototype.initFocus=function(a,b){b&&(this.focusControl=a);XsltForms_browser.events.attach(a,"focus",XsltForms_control.focusHandler);XsltForms_browser.events.attach(a,"blur",XsltForms_control.blurHandler)};XsltForms_control.prototype.dispose=function(){this.focusControl=null;XsltForms_element.prototype.dispose.call(this)};
      XsltForms_control.prototype.focus=function(a,b){if(!this.isOutput){if(XsltForms_globals.focus!==this){XsltForms_globals.openAction("XsltForms_control.prototype.focus");XsltForms_globals.blur(!0);XsltForms_globals.focus=this;this.element.setAttribute("xf-focus","");for(var c=this.element.parentNode;c.nodeType===Fleur.Node.ELEMENT_NODE;)"undefined"===typeof c.node||"xforms-repeat-item"!==c.localName.toLowerCase()&&"repeat-item"!==c.getAttribute("xforms-name")||XsltForms_repeat.selectItem(c),c=c.parentNode;
      XsltForms_xmlevents.dispatch(XsltForms_globals.focus,"DOMFocusIn",null,null,null,null,b);XsltForms_globals.closeAction("XsltForms_control.prototype.focus");this.full&&!a&&this.focusFirst()}b=this.focusControl;XsltForms_globals.posibleBlur=!1;if(b&&!a){a=this.focusControl;b=a.nodeName.toLowerCase();try{a.focus(),a.focus()}catch(d){XsltForms_browser.debugConsole.write("ERROR: Could not focus on element "+a)}if("input"===b||"textarea"===b)try{a.select()}catch(d){}}}};
      XsltForms_control.prototype.build_=function(a){if("output"===this.controlName){var b=this.element.parentNode;if("xforms-message"===b.localName.toLowerCase()&&!b.xfElement.running)return}a=this.evaluateBinding(this.binding,a,this.element);"object"===typeof a?(a=a.head(),b=this.element,b.node===a&&XsltForms_globals.ready||(b.node=a,this.nodeChanged=!0),a?(this.depsNodesRefresh.push(a),b.setAttribute("xf-bound","")):b.removeAttribute("xf-bound")):this.outputValue=a};
      XsltForms_control.prototype.refresh=function(){if("var"!==this.controlName&&"action-var"!==this.controlName){var a=this.element,b=a.node;if(void 0!==this.outputValue)"var"!==this.controlName&&(this.setValue(this.outputValue),this.eventDispatch("xforms-disabled","xforms-enabled",!1));else if(b){this.value||(this.value=this.hasCopy?[]:"");var c=this.value instanceof Array?XsltForms_browser.getValueItemsetCopy(b):XsltForms_browser.getValue(b,!0,this.complex);XsltForms_globals.openAction("XsltForms_control.prototype.refresh");
      if(this.currentValue instanceof Array){var d=!1;if(this.currentValue.length!==c.length)d=!0;else for(var e=0,f=this.currentValue.length;e<f;e++)if(this.currentValue[e]!==c[e]){d=!0;break}d=d||this.nodeChanged}else d=c!==this.currentValue||this.nodeChanged;this.changeProp(b,"required","xforms-required","xforms-optional",d,c);this.changeProp(b,"notrelevant","xforms-disabled","xforms-enabled",d,c);this.changeProp(b,"readonly","xforms-readonly","xforms-readwrite",d,c);this.changeProp(b,"invalid","xforms-invalid",
      "xforms-valid",d,c);this.currentValue=c instanceof Array?c.slice(0):c;d&&(this.setValue(c),this.nodeChanged||this.isTrigger||XsltForms_xmlevents.dispatch(a,"xforms-value-changed"));XsltForms_globals.closeAction("XsltForms_control.prototype.refresh")}else this.eventDispatch("xforms-disabled","xforms-enabled",!this.hasValue);this.nodeChanged=!1}};
      XsltForms_control.prototype.eventDispatch=function(a,b,c){this.nodeChanged&&!XsltForms_globals.ready||this.isTrigger||XsltForms_xmlevents.dispatch(this.element,c?a:b)};XsltForms_control.prototype.changeProp=function(a,b,c,d,e,f){a="invalid"!==b||""!==f||XsltForms_globals.validationError?XsltForms_browser.getBoolMeta(a,b):!1;if(e||a!==this[b])this.eventDispatch(c,d,a),(this[b]=a)?this.element.setAttribute("xf-"+b,""):this.element.removeAttribute("xf-"+b),"readonly"===b&&this.changeReadonly&&this.changeReadonly()};
      XsltForms_control.prototype.valueChanged=function(a,b){var c=this.element.node,d=document.getElementById(XsltForms_browser.getDocMeta(c.ownerDocument,"model")).xfElement,e=XsltForms_schema.getType(XsltForms_browser.getType(c)||"xsd_:string");if(a&&!(a instanceof Array)&&0<a.length&&e.parse)try{a=e.parse(a)}catch(l){}if(a instanceof Array){var f=XsltForms_browser.getValueItemsetCopy(c);e=!0;var g=0,h=a.length;if(f.length===h)for(e=!1;g<h;g++)if(f[g]!==a[g]){e=!0;break}}else e=a!==XsltForms_browser.getValue(c);
      if(e||b)a instanceof Array||this.currentValue instanceof Array?(XsltForms_browser.setValue(c,a),d.addChange(c),XsltForms_globals.addChange(d),d.setRebuilded(!0)):(XsltForms_globals.openAction("XsltForms_control.prototype.valueChanged"),XsltForms_browser.setValue(c,a),d.addChange(c),XsltForms_xmlevents.dispatch(d,"xforms-recalculate"),XsltForms_globals.refresh(),XsltForms_globals.closeAction("XsltForms_control.prototype.valueChanged"))};
      XsltForms_control.getXFElement=function(a){for(var b=null;!b&&a;)(b=a.xfElement)&&!b.isControl&&(b=null),a=a.parentNode;return b};XsltForms_control.focusHandler=function(){var a=XsltForms_control.getXFElement(this);XsltForms_globals.focus!==a?a.focus(!0):XsltForms_globals.posibleBlur=!1};XsltForms_control.blurHandler=function(){XsltForms_control.getXFElement(this)===XsltForms_globals.focus&&(XsltForms_globals.posibleBlur=!0,XsltForms_globals.blur())};
      new XsltForms_class("XsltForms_var","HTMLElement","xforms-var");function XsltForms_var(a,b){XsltForms_globals.counters.xvar++;this.init(a,b);this.name=b.getAttribute("xf-name");"xforms-action"===b.parentNode.localName.toLowerCase()?(this.controlName="action-var",this.hasBinding=!1,this.value=XsltForms_xpath.create(this.subform,b.getAttribute("xf-value"))):(this.controlName="var",this.hasBinding=!0,this.binding=new XsltForms_binding(a,b),this.isOutput=!0)}XsltForms_var.prototype=new XsltForms_control;
      XsltForms_var.prototype.clone=function(a){return new XsltForms_var(this.subform,a,this.name,this.binding)};XsltForms_var.prototype.dispose=function(){XsltForms_globals.counters.xvar--;XsltForms_control.prototype.dispose.call(this)};XsltForms_var.prototype.execute=function(a,b,c){b||=a.node||(XsltForms_globals.defaultModel.getInstanceDocument()?XsltForms_globals.defaultModel.getInstanceDocument().documentElement:null);this.boundnodes=this.value.xpath_evaluate(b)};
      new XsltForms_class("XsltForms_tree","HTMLElement","xforms-tree");function XsltForms_tree(a,b,c){this.init(a,b);this.binding=c;this.hasBinding=!0;this.root=XsltForms_browser.isXhtml?this.element.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","ul")[0]:this.element.getElementsByTagName("ul")[0];this.label=this.root.firstChild.cloneNode(!0)}XsltForms_tree.prototype=new XsltForms_element;XsltForms_tree.prototype.dispose=function(){this.selected=this.root=null;XsltForms_element.prototype.dispose.call(this)};
      XsltForms_tree.prototype.build_=function(a){if(a=this.evaluateBinding(this.binding,a)[0]){var b=[];this.buildTree(this.root,0,a,b);this.selected&&XsltForms_browser.inArray(this.selected,b)||this.select(this.root.firstChild)}};
      XsltForms_tree.prototype.select=function(a){var b=!0;this.selected&&(this.selected===a?b=!1:(XsltForms_browser.setClass(this.selected,"xforms-tree-item-selected",!1),XsltForms_browser.setClass(this.selected.childNodes[1],"xforms-tree-item-label-selected",!1)));b&&(this.element.node=a.node,this.selected=a,XsltForms_browser.setClass(a,"xforms-tree-item-selected",!0),XsltForms_browser.setClass(a.childNodes[1],"xforms-tree-item-label-selected",!0),XsltForms_globals.openAction(),XsltForms_globals.addChange(this),
      XsltForms_globals.addChange(document.getElementById(XsltForms_browser.getDocMeta(a.node.ownerDocument,"model")).xfElement),XsltForms_globals.closeAction())};XsltForms_tree.prototype.click=function(a){if("xforms-tree-item-button"===a.className){if(a=a.nextSibling.nextSibling)a.style.display="none"!==a.style.display?"none":"block"}else XsltForms_browser.hasClass(a,"xforms-tree-item-label")&&this.select(a.parentNode)};
      XsltForms_tree.prototype.buildTree=function(a,b,c,d){var e=null,f=c.childNodes,g=0===f.length;d.push(c);a.childNodes.length<b+1?(b=this.label.cloneNode(!0),a.appendChild(b),XsltForms_repeat.initClone(b)):(b=a.childNodes[b],a=b.lastChild,"ul"===a.nodeName.toLowerCase()&&(e=a,g&&(XsltForms_globals.dispose(e),b.removeChild(e))));b.node=c;XsltForms_browser.setClass(b,"xforms-tree-item-fork",!g);XsltForms_browser.setClass(b,"xforms-tree-item-leaf",g);c=0;for(g=f.length;c<g;c++)a=f[c],a.nodeType===Fleur.Node.ELEMENT_NODE&&
      (e||=XsltForms_browser.createElement("ul",b),this.buildTree(e,c,a,d));if(e)for(d=e.childNodes.length,f=f.length;d>f;d--)XsltForms_globals.dispose(e.lastChild),e.removeChild(e.lastChild)};XsltForms_tree.prototype.refresh=function(){};
      function XsltForms_avt(a,b,c){this.init(a,b);this.controlName="avt";this.attrname=c;this.binding=new XsltForms_binding(a,b,"xf-template-"+c,"xsd:string");this.isOutput=this.hasBinding=!0;if("id"===c.toLowerCase()){a="xsltforms-id-";for(c=1;b.nodeType===Fleur.Node.ELEMENT_NODE;){for(;b.previousSibling;)b.nodeType===Fleur.Node.ELEMENT_NODE&&c++,b=b.previousSibling;a+=c+"_";b=b.parentNode;c=1}this.element.setAttribute("id",a)}else this.binding&&this.binding.type&&this.element.setAttribute(this.attrname,
      "")}XsltForms_avt.prototype=new XsltForms_control;XsltForms_avt.prototype.clone=function(a){return new XsltForms_avt(this.subform,a,this.attrname,this.binding)};XsltForms_avt.prototype.dispose=function(){XsltForms_control.prototype.dispose.call(this)};
      XsltForms_avt.prototype.setValue=function(a){"id"===this.attrname&&this.element.id===this.element.getAttribute("oldid")&&(XsltForms_globals.idalt||(XsltForms_globals.idalt={}),XsltForms_globals.idalt[this.element.id]=this.element);this.element.setAttribute(this.attrname,a)};XsltForms_avt.prototype.getValue=function(a){return this.element.getAttribute(this.attrname)};new XsltForms_class("XsltForms_case","HTMLElement","xforms-case");function XsltForms_case(a,b){this.init(a,b)}
      XsltForms_case.prototype=new XsltForms_element;new XsltForms_class("XsltForms_component","HTMLElement","xforms-component");
      function XsltForms_component(a,b,c,d,e){XsltForms_globals.counters.component++;this.init(a,b);this.valoff=c;a=this.element.children||this.element.childNodes;this.valueElement=0!==a.length?a[c]:this.element;this.hasBinding=!0;this.binding=d;this.resource=e;this.isComponent=!0;this.binding&&this.binding.type&&XsltForms_browser.setClass(this.element,"xforms-disabled",!1);c=null;try{if(c=XsltForms_browser.openRequest("get",e,!1),XsltForms_browser.debugConsole.write("Load Component "+e),c.send(null),0===
      c.status||!(200>c.status||300<=c.status)){for(var f=c.responseText,g=f.indexOf("<?xml-stylesheet",0);-1!==g;){var h=f.substr(g,f.substr(g).indexOf("?>")).replace(/^.*href="([^"]*)".*$/,"$1");f=XsltForms_browser.transformText(f,h,!1);g=f.indexOf("<?xml-stylesheet",0)}var l=XsltForms_globals.stringSplit(f,"XsltForms_MagicSeparator"),k=this.valueElement;if(1===l.length)var m=f;else{var n="";var p=n.indexOf('"xsltforms-mainform"'),q=k.xfSubform;q&&q.dispose();n='(function(){var xsltforms_subform_eltid = "'+
      b+'";var xsltforms_parentform = XsltForms_subform.subforms["'+this.subform.id+'"];'+n.substring(0,p)+'"xsltforms-subform-'+XsltForms_globals.nbsubforms+'"'+n.substring(p+20)+"})();";for(p=n.indexOf('"xsltforms-mainform-instance-default"');-1!==p;)n=n.substring(0,p)+'"xsltforms-subform-'+XsltForms_globals.nbsubforms+'-instance-default"'+n.substring(p+37),p=n.indexOf('"xsltforms-mainform-instance-default"');m="\x3c!-- xsltforms-subform-"+XsltForms_globals.nbsubforms+" "+l[4]+" xsltforms-subform-"+XsltForms_globals.nbsubforms+
      " --\x3e";for(p=m.indexOf(' id="xsltforms-mainform');-1!==p;)m=m.substring(0,p)+' id="xsltforms-subform-'+XsltForms_globals.nbsubforms+m.substring(p+23),p=m.indexOf(' id="xsltforms-mainform')}k.innerHTML=m;k.hasXFElement=null;for(var r=k.parentNode;r&&!1===r.hasXFElement;)r.hasXFElement=null,r=r.parentNode;1!==l.length&&(XsltForms_globals.componentLoads.push(n),this.subjs=n,this.evaljs=!0);XsltForms_browser.setClass(k,"xforms-subform-loaded",!0);XsltForms_globals.nbsubforms++}}catch(t){XsltForms_browser.debugConsole.write(t.message||
      t)}}XsltForms_component.prototype=new XsltForms_control;XsltForms_component.prototype.clone=function(a){return new XsltForms_component(this.subform,a,this.valoff,this.binding,this.resource)};XsltForms_component.prototype.dispose=function(){this.valueElement=null;XsltForms_globals.counters.component--;XsltForms_control.prototype.dispose.call(this)};XsltForms_component.prototype.blur=function(){};
      XsltForms_component.prototype.setValue=function(a){XsltForms_browser.forEach(this.valueElement.children[0].xfElement.subform.binds,"propagate")};new XsltForms_class("XsltForms_dialog","HTMLElement","xforms-dialog");
      function XsltForms_dialog(a,b){0===document.getElementsByTagName("xforms-dialog-surround").length&&document.querySelector("xforms-form").appendChild(document.createElement("xforms-dialog-surround"));XsltForms_globals.counters.dialog++;this.init(a,b);this.controlName="dialog";if(this.binding=b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")?new XsltForms_binding(a,b):null)this.hasBinding=!0}XsltForms_dialog.prototype=new XsltForms_element;
      new XsltForms_class("XsltForms_group","HTMLElement","xforms-group","<xforms-label></xforms-label><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint><xforms-body></xforms-body>");new XsltForms_class("XsltForms_group","HTMLElement","xforms-switch");XsltForms_browser.addLoadListener(new Function("Array.prototype.slice.call(document.querySelectorAll('*[xforms-name=\"group\"]')).forEach(function(elt) { if (!elt.xfElement) { elt.xfIndex = XsltForms_collection.length; XsltForms_collection.push(elt); elt.xfElement = new XsltForms_group(XsltForms_subform.subforms['xsltforms-mainform'], elt); } });"));
      function XsltForms_group(a,b){this.init(a,b);var c=b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")?new XsltForms_binding(a,b):null;XsltForms_globals.counters.group++;this.init(a,b);this.controlName="group";if("xforms-switch"===b.localName.toLowerCase()){for(var d=Array.prototype.slice.call(this.element.children||this.element.childNodes),e=0,f=d.length;e<f&&"true"!==d[e].getAttribute("xf-selected");e++);e===f&&d[0].setAttribute("xf-selected","true")}c&&(this.hasBinding=!0,this.binding=c);this.casebinding=
      b.hasAttribute("xf-caseref")?new XsltForms_binding(a,b):null}XsltForms_group.prototype=new XsltForms_element;XsltForms_group.prototype.dispose=function(){XsltForms_globals.counters.group--;XsltForms_element.prototype.dispose.call(this)};XsltForms_group.prototype.clone=function(a){return new XsltForms_group(this.subform,a,this.binding,this.casebinding)};
      XsltForms_group.prototype.build_=function(a){a=this.evaluateBinding(this.binding,a).head();this.element.node=a;this.depsNodesRefresh.push(a);this.casebinding&&(a=this.evaluateBinding(this.casebinding,a))&&XsltForms_toggle.toggle(XsltForms_globals.stringValue(a))};XsltForms_group.prototype.refresh=function(){var a=this.element;!a.node||XsltForms_browser.getBoolMeta(a.node,"notrelevant")?this.element.setAttribute("xf-notrelevant",""):this.element.removeAttribute("xf-notrelevant")};
      XsltForms_group.prototype.collapse=function(){var a=this.element.children[0],b=this.element.children[1];XsltForms_browser.hasClass(a,"xforms-group-label-collapsed")?(XsltForms_browser.setClass(a,"xforms-group-label-collapsed",!1),XsltForms_browser.setClass(a,"xforms-group-label-expanded",!0),XsltForms_browser.setClass(b,"xforms-disabled",!1)):(XsltForms_browser.setClass(a,"xforms-group-label-collapsed",!0),XsltForms_browser.setClass(a,"xforms-group-label-expanded",!1),XsltForms_browser.setClass(b,
      "xforms-disabled",!0))};new XsltForms_class("XsltForms_include","HTMLElement","xforms-include");
      function XsltForms_include(a,b){this.init(a,b);var c=b.getAttribute("xf-src"),d=null;try{if(d=XsltForms_browser.openRequest("get",c,!1),XsltForms_browser.debugConsole.write("Include "+c),d.send(null),0===d.status||!(200>d.status||300<=d.status)){for(var e=d.responseText,f=e.indexOf("<?xml-stylesheet",0);-1!==f;){var g=e.substr(f,e.substr(f).indexOf("?>")).replace(/^.*href="([^"]*)".*$/,"$1");e=XsltForms_browser.transformText(e,g,!1);f=e.indexOf("<?xml-stylesheet",0)}var h=XsltForms_globals.stringSplit(e,
      "<xforms-form");var l=1===h.length?e:XsltForms_globals.stringSplit(h[1].substr(h[1].indexOf(">")+1),"</xforms-form>")[0];b.innerHTML=l;for(var k in XsltForms_classes)XsltForms_classes.hasOwnProperty(k)&&Array.prototype.slice.call(b.getElementsByTagName(k)).forEach(function(m){XsltForms_classes[m.localName].classbinding(a,m)});Array.prototype.slice.call(b.querySelectorAll("*[xf-avt]")).forEach(function(m){m.xfElement||(m.xfIndex=XsltForms_collection.length,XsltForms_collection.push(m),Array.prototype.slice.call(m.attributes).filter(function(n){return n.nodeName.startsWith("xf-template-")}).forEach(function(n){new XsltForms_avt(a,
      m,n.nodeName.substr(12))}))})}}catch(m){}}XsltForms_include.prototype=new XsltForms_element;new XsltForms_class("XsltForms_input","HTMLElement","xforms-input","<xforms-focus></xforms-focus><xforms-label></xforms-label><xforms-body></xforms-body><xforms-required></xforms-required><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");new XsltForms_class("XsltForms_input","HTMLElement","xforms-secret","<xforms-focus></xforms-focus><xforms-label></xforms-label><xforms-body></xforms-body><xforms-required></xforms-required><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");
      new XsltForms_class("XsltForms_input","HTMLElement","xforms-textarea","<xforms-focus></xforms-focus><xforms-label></xforms-label><xforms-body></xforms-body><xforms-required></xforms-required><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");
      function XsltForms_input(a,b,c){this.name="i"+String(XsltForms_globals.counters.input++);this.init(a,b);this.controlName="input";this.binding=new XsltForms_binding(a,b);this.inputmode=XsltForms_input.InputMode[b.getAttribute("xf-inputmode")];this.incremental="true"===b.getAttribute("xf-incremental");this.delay=b.getAttribute("xf-delay");if(this.autocomplete=b.getAttribute("autocomplete"))if(a=this.autocomplete.split(" "),a.includes("username")&&(XsltForms_globals.hasusername=!0),a.includes("current-password")||
      a.includes("new-password"))XsltForms_globals.haspassword=!0;this.timer=null;a=this.element.children;for(var d=0,e=a.length;d<e;d++){var f=a[d].localName.toLowerCase();"xforms-body"===f?this.cell=a[d]:"xforms-hint"===f&&"minimal"===a[d].getAttribute("xf-appearance")&&b.setAttribute("title",a[d].textContent)}this.isClone=c;this.hasBinding=!0;this.itype=b.localName.toLowerCase().substr(7);this.mediatype=b.getAttribute("xf-mediatype")}XsltForms_input.prototype=new XsltForms_control;
      XsltForms_input.prototype.clone=function(a){return new XsltForms_input(this.subform,a,this.valoff,this.itype,this.binding,this.inputmode,this.incremental,this.delay,this.mediatype,this.bolAidButton,!0)};
      XsltForms_input.prototype.dispose=function(){if("application/xhtml+xml"===this.mediatype&&this.type.rte)switch(this.type.rte.toLowerCase()){case "tinymce":try{"3."===XsltForms_globals.jslibraries["http://www.tinymce.com"].substr(0,2)?(tinyMCE.execCommand("mceFocus",!1,this.cell.children[0].id),tinyMCE.execCommand("mceRemoveControl",!1,this.cell.children[0].id)):tinyMCE.editors[this.cell.children[1].id].remove()}catch(a){}break;case "ckeditor":this.rte&&(this.rte.destroy(),this.rte=null)}this.calendarButton=
      this.cell=null;XsltForms_globals.counters.input--;XsltForms_control.prototype.dispose.call(this)};
      XsltForms_input.prototype.initBody=function(a){var b=this.cell,c=b.children[0],d=a["class"],e={};if(!c||a!==this.type){var f=c?c.id:"";this.type=a;if("boolean"!==d&&c&&this.itype===c.type){for(;b.firstChild.nodeType===Fleur.Node.TEXT_NODE;)b.removeChild(b.firstChild);for(var g=b.childNodes.length-1;1<=g;g--)b.removeChild(b.childNodes[g])}else for(;b.firstChild;)b.removeChild(b.firstChild);"boolean"===d?(c=XsltForms_browser.createElement("input"),c.type="checkbox",""!==f&&(c.id=f),b.appendChild(c)):
      (c&&this.itype===c.type||(c=XsltForms_browser.createElement("xforms-textarea"===this.element.localName.toLowerCase()?"textarea":"input",b),"xforms-secret"===this.element.localName.toLowerCase()&&c.setAttribute("type","password")),""!==f&&(c.id=f),this.initEvents(c,"input"===this.itype||"secret"===this.itype),"time"===d?"5"===XsltForms_globals.htmlversion&&(XsltForms_browser.isChrome||XsltForms_browser.isOpera||XsltForms_browser.isEdge)&&(c.type="time"):"date"===d||"datetime"===d?"5"===XsltForms_globals.htmlversion&&
      (XsltForms_browser.isChrome||XsltForms_browser.isOpera||XsltForms_browser.isSafari)?"date"===d?c.type="date":"datetime"===d&&(c.type="datetime-local"):(this.calendarButton=XsltForms_browser.createElement("button",b,XsltForms_browser.selectSingleNode("calendar.label",XsltForms_browser.config)?XsltForms_browser.i18n.get("calendar.label"):"...","xsltforms-aid-button"),this.calendarButton.setAttribute("type","button"),this.initFocus(this.calendarButton)):"number"===d?("5"===XsltForms_globals.htmlversion&&
      (XsltForms_browser.isChrome||XsltForms_browser.isOpera||XsltForms_browser.isSafari)&&(c.type="number",c.step="number"===typeof a.fractionDigits?String(Math.pow(1,-parseInt(a.fractionDigits,10))):"any"),c.setAttribute("xf-numeric","")):c.removeAttribute("xf-numeric"),(b=a.getMaxLength())?c.maxLength=b:c.removeAttribute("maxLength"),(b=a.getDisplayLength())?c.size=b:c.removeAttribute("size"))}for(const h in this.htmlAttrs)this.htmlAttrs.hasOwnProperty(h)&&c.setAttribute(h,this.htmlAttrs[h]);c.name=
      this.name;if((this.input=c)&&"secret"===c.type)this.type=XsltForms_schema.getType("xsd_:string"),this.initEvents(c,!0);else if(c&&"textarea"===c.nodeName.toLowerCase()){this.type=a;if("application/xhtml+xml"===this.mediatype&&a.rte)switch(a.rte.toLowerCase()){case "tinymce":c.id="xsltforms_"+String(this.element.xfIndex)+"_textarea";XsltForms_browser.debugConsole.write(c.id+": init="+XsltForms_globals.tinyMCEinit);XsltForms_globals.tinyMCEinit&&"3."===XsltForms_globals.jslibraries["http://www.tinymce.com"].substr(0,
      2)||(e=a.appinfo?eval("Object.create("+a.appinfo.replace(/(\r\n|\n|\r)/gm," ")+")"):{},e.mode="none",e.Xsltforms_usersetup=e.setup||function(){},XsltForms_globals.jslibraries["http://www.tinymce.com"]&&"3."!==XsltForms_globals.jslibraries["http://www.tinymce.com"].substr(0,2)?(e.setup=function(h){e.Xsltforms_usersetup(h);h.on("KeyUp",function(){XsltForms_control.getXFElement(document.getElementById(this.id)).valueChanged(this.getContent()||"")});h.on("Change",function(l){XsltForms_control.getXFElement(document.getElementById(this.id)).valueChanged(l.target.getContent()||
      "")});h.on("Undo",function(l){XsltForms_control.getXFElement(document.getElementById(this.id)).valueChanged(l.target.getContent()||"")});h.on("Redo",function(l){XsltForms_control.getXFElement(document.getElementById(this.id)).valueChanged(l.target.getContent()||"")})},e.selector="#"+c.id):e.setup=function(h){e.Xsltforms_usersetup(h);h.onKeyUp.add(function(l){XsltForms_control.getXFElement(document.getElementById(l.id)).valueChanged(l.getContent()||"")});h.onChange.add(function(l){XsltForms_control.getXFElement(document.getElementById(l.id)).valueChanged(l.getContent()||
      "")});h.onUndo.add(function(l){XsltForms_control.getXFElement(document.getElementById(l.id)).valueChanged(l.getContent()||"")});h.onRedo.add(function(l){XsltForms_control.getXFElement(document.getElementById(l.id)).valueChanged(l.getContent()||"")})},XsltForms_browser.debugConsole.write(c.id+": initinfo="+e),tinyMCE.init(e),XsltForms_globals.tinyMCEinit=!0);tinyMCE.execCommand("mceAddEditor",!0,c.id);break;case "ckeditor":c.id="xsltforms_"+String(this.element.xfIndex)+"_textarea",CKEDITOR.replace||
      alert("CKEditor is not compatible with XHTML mode."),e=a.appinfo?eval("Object.create("+a.appinfo.replace(/(\r\n|\n|\r)/gm," ")+")"):{},this.rte=CKEDITOR.replace(c.id,e),a=function(h){var l=h.editor.getData();"\n"===l.substr(l.length-1)&&(l=l.substr(0,l.length-1));var k=XsltForms_control.getXFElement(document.getElementById(h.editor.name));XsltForms_browser.setBoolMeta(k.element.node,"unsafe","source"===h.editor.mode);k.valueChanged(l||"",!0)},this.rte.on("change",a),this.rte.on("blur",a),this.rte.on("mode",
      a)}this.initEvents(c,!1)}this.initFocus(c,!0);this.input=c};
      XsltForms_input.prototype.setValue=function(a){var b=this.element.node,c=b?XsltForms_schema.getType(XsltForms_browser.getType(b)||"xsd_:string"):XsltForms_schema.getType("xsd_:string");this.input&&c===this.type||(this.initBody(c),this.changeReadonly());if("boolean"===c["class"])this.input.checked="true"===a;else if(this.type.rte&&"tinymce"===this.type.rte.toLowerCase()&&tinymce.get(this.input.id))try{var d=tinymce.get(this.input.id);if((d.getContent?d.getContent():d.contentDocument.body.innerHTML)!==
      a){this.input.value=a||"";d.setContent(a);var e=d.contentDocument?d.contentDocument.body.innerHTML:d.getContent();this.input.value=e||"";XsltForms_browser.debugConsole.write(this.input.id+": getContent() ="+e);XsltForms_browser.debugConsole.write(this.input.id+".value ="+this.input.value)}}catch(f){this.input.value=a}else if(this.type.rte&&"ckeditor"===this.type.rte.toLowerCase()&&this.rte)e=this.rte.getData(),"\n"===e.substr(e.length-1)&&(e=e.substr(0,e.length-1)),e!==a&&(XsltForms_browser.debugConsole.write("value = '"+
      a+"'"),XsltForms_browser.debugConsole.write(this.input.id+": getData() = '"+this.rte.getData()+"'"),XsltForms_browser.debugConsole.write(this.input.id+".value = '"+this.input.value+"'"),this.input.value=a||"",this.rte.setData(a));else if("date"===this.input.type.substr(0,4))this.input.value!==XsltForms_browser.getValue(b).substr(0,15)&&(this.input.value=XsltForms_browser.getValue(b).substr(0,15));else{b=this.input.value;e=a;if(c.parse){if(b&&0<b.length)try{b=c.parse(b)}catch(f){}if(e&&0<e.length)try{e=
      c.parse(e)}catch(f){}}"time"===this.input.type||"date"===this.input.type||"datetime-local"===this.input.type?b!==e&&(this.input.value=e):b!==a&&(this.input.value=a||"")}};
      XsltForms_input.prototype.changeReadonly=function(){var a=this.element.node;a=a?XsltForms_schema.getType(XsltForms_browser.getType(a)||"xsd_:string"):XsltForms_schema.getType("xsd_:string");this.input&&("boolean"===a["class"]&&(this.input.disabled=this.readonly),this.input.readOnly=this.readonly,this.calendarButton&&(this.calendarButton.style.display=this.readonly?"none":""))};
      XsltForms_input.prototype.initEvents=function(a,b){var c="keyup";if(XsltForms_browser.isEdge||XsltForms_browser.isIE11||"5"===XsltForms_globals.htmlversion&&(XsltForms_browser.isChrome||XsltForms_browser.isOpera||XsltForms_browser.isSafari))c="input";this.inputmode&&XsltForms_browser.events.attach(a,c,XsltForms_input.keyUpInputMode);b?(XsltForms_browser.events.attach(a,"keydown",XsltForms_input.keyDownActivate),XsltForms_browser.events.attach(a,"keypress",XsltForms_input.keyPressActivate),this.incremental&&
      XsltForms_browser.events.attach(a,c,XsltForms_input.keyUpIncrementalActivate)):this.incremental&&(XsltForms_browser.events.attach(a,c,XsltForms_input.keyUpIncremental),XsltForms_browser.events.attach(a,"change",XsltForms_input.keyUpIncremental))};
      XsltForms_input.prototype.blur=function(a){XsltForms_globals.focus=null;a=this.input;var b;if(this.incremental){var c=this.element.node;if((b=a.value)&&0<b.length&&"time"!==a.type&&"date"!==a.type.substr(0,4)&&XsltForms_schema.getType(XsltForms_browser.getType(c)||"xsd_:string").format)try{a.value=XsltForms_browser.getValue(c,!0)}catch(d){}this.timer&&(window.clearTimeout(this.timer),this.timer=null,this.valueChanged(b))}else XsltForms_browser.assert(a,this.element.id),"checkbox"===a.type?b=a.checked?
      "true":"false":"textarea"!==a.nodeName.toLowerCase()?(b=a.value,"time"===a.type&&b&&5===b.length&&(b+=":00")):this.type.rte&&"tinymce"===this.type.rte.toLowerCase()?b=tinyMCE.get(a.id).getContent():this.type.rte&&"ckeditor"===this.type.rte.toLowerCase()?(b=this.rte.getData(),"\n"===b.substr(b.length-1)&&(b=b.substr(0,b.length-1))):b=a.value,this.valueChanged(b)};
      XsltForms_input.prototype.click=function(a){a===this.aidButton?(XsltForms_globals.openAction("XsltForms_input.prototype.click#1"),XsltForms_xmlevents.dispatch(this,"ajx-aid"),XsltForms_globals.closeAction("XsltForms_input.prototype.click#1")):a===this.input&&"boolean"===this.type["class"]?(XsltForms_globals.openAction("XsltForms_input.prototype.click#2"),this.valueChanged(a.checked?"true":"false"),XsltForms_xmlevents.dispatch(this,"DOMActivate"),XsltForms_globals.closeAction("XsltForms_input.prototype.click#2")):
      a===this.calendarButton&&XsltForms_calendar.show(a.previousSibling,"datetime"===this.type["class"]?XsltForms_calendar.SECONDS:XsltForms_calendar.ONLY_DATE)};XsltForms_input.keyUpInputMode=function(){this.value=XsltForms_control.getXFElement(this).inputmode(this.value)};XsltForms_input.keyDownActivate=function(a){this.keyDownCode=a.keyCode};
      XsltForms_input.keyPressActivate=function(a){var b=XsltForms_control.getXFElement(this);this.keyPressCode=a.keyCode;13===a.keyCode&&(XsltForms_globals.openAction("XsltForms_input.keyUpActivate"),b.valueChanged(("time"===this.type&&this.value&&5===this.value.length?this.value+":00":this.value)||""),XsltForms_xmlevents.dispatch(b,"DOMActivate"),XsltForms_globals.closeAction("XsltForms_input.keyUpActivate"),a.stopPropagation?(a.stopPropagation(),a.preventDefault()):a.cancelBubble=!0)};
      XsltForms_input.keyUpActivate=function(a){this.keyDownCode=this.keyPressCode=null};
      XsltForms_input.keyUpIncrementalActivate=function(a){var b=XsltForms_control.getXFElement(this);if(b.delay&&0<b.delay){b.timer&&window.clearTimeout(b.timer);var c=this;b.timer=window.setTimeout(function(){XsltForms_globals.openAction("XsltForms_input.keyUpIncrementalActivate#2");b.valueChanged(("time"===c.type&&c.value&&5===c.value.length?c.value+":00":c.value)||"");XsltForms_globals.closeAction("XsltForms_input.keyUpIncrementalActivate#2")},b.delay)}else XsltForms_globals.openAction("XsltForms_input.keyUpIncrementalActivate#3"),
      b.valueChanged(("time"===this.type&&this.value&&5===this.value.length?this.value+":00":this.value)||""),XsltForms_globals.closeAction("XsltForms_input.keyUpIncrementalActivate#3");this.keyDownCode=this.keyPressCode=null};XsltForms_input.inputActivate=function(a){a=XsltForms_control.getXFElement(this);XsltForms_globals.openAction("XsltForms_input.inputActivate#1");a.valueChanged(this.value||"");XsltForms_globals.closeAction("XsltForms_input.inputActivate#1")};
      XsltForms_input.keyUpIncremental=function(){var a=XsltForms_control.getXFElement(this);if(a.delay&&0<a.delay){a.timer&&window.clearTimeout(a.timer);var b=this;a.timer=window.setTimeout(function(){XsltForms_globals.openAction("XsltForms_input.keyUpIncremental#1");a.valueChanged(("time"===b.type&&b.value&&5===b.value.length?b.value+":00":b.value)||"");XsltForms_globals.closeAction("XsltForms_input.keyUpIncremental#1")},a.delay)}else XsltForms_globals.openAction("XsltForms_input.keyUpIncremental#2"),
      a.valueChanged(("time"===this.type&&this.value&&5===this.value.length?this.value+":00":this.value)||""),XsltForms_globals.closeAction("XsltForms_input.keyUpIncremental#2")};
      XsltForms_input.InputMode={lowerCase:function(a){return a.toLowerCase()},upperCase:function(a){return a.toUpperCase()},titleCase:function(a){return a.charAt(0).toUpperCase()+a.substring(1).toLowerCase()},digits:function(a){if(/^[0-9]*$/.exec(a))return a;alert("Character not valid");for(var b="",c=0,d=a.length;c<d;c++)-1!=="1234567890".indexOf(a.charAt(c))&&(b+=a.charAt(c));return b}};new XsltForms_class("XsltForms_output","HTMLElement","xforms-output","<xforms-label></xforms-label><xforms-body></xforms-body><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");
      var XsltForms_output_svgtemplate=document.createElementNS("http://www.w3.org/2000/svg","tspan");XsltForms_output_svgtemplate.innerHTML="<tspan xmlns='http://www.w3.org/2000/svg' xforms-name='label'/><tspan xmlns='http://www.w3.org/2000/svg' xforms-name='body'/>";
      XsltForms_output_svgtemplate.children||(XsltForms_output_svgtemplate.appendChild(document.createElementNS("http://www.w3.org/2000/svg","tspan")),XsltForms_output_svgtemplate.firstChild.setAttribute("xforms-name","label"),XsltForms_output_svgtemplate.appendChild(document.createElementNS("http://www.w3.org/2000/svg","tspan")),XsltForms_output_svgtemplate.lastChild.setAttribute("xforms-name","body"));XsltForms_output_svgtemplate=Array.prototype.slice.call(XsltForms_output_svgtemplate.childNodes);XsltForms_browser.addLoadListener(new Function("Array.prototype.slice.call(document.querySelectorAll('*[xforms-name=\"output\"]')).forEach(function(elt) { if (!elt.xfElement) { XsltForms_class._applyTemplate(elt, XsltForms_output_svgtemplate); elt.xfIndex = XsltForms_collection.length; XsltForms_collection.push(elt); elt.xfElement = new XsltForms_output(XsltForms_subform.subforms['xsltforms-mainform'], elt); } });"));
      function XsltForms_output(a,b){XsltForms_globals.counters.output++;this.init(a,b);this.controlName="output";for(var c=this.element.children||this.element.childNodes,d=0,e=c.length;d<e;d++)if("xforms-body"===c[d].localName.toLowerCase()||"body"===c[d].getAttribute("xforms-name")){this.cell=c[d];break}this.binding=new XsltForms_binding(a,b);this.hasBinding=!0;var f;Array.prototype.slice.call(b.children||b.childNodes).forEach(function(g){switch(g.localName.toLowerCase()){case "xforms-mediatype":f=g}});
      this.mediatype=f?f.hasAttribute("xf-value")?new XsltForms_binding(this.subform,f):f.textContent:b.getAttribute("xf-mediatype");this.complex="application/xhtml+xml"===this.mediatype||"text/html"===this.mediatype||"text/markdown"===this.mediatype;this.isOutput=!0}XsltForms_output.prototype=new XsltForms_control;XsltForms_output.prototype.clone=function(a){return new XsltForms_output(this.subform,a,this.valoff,this.binding,this.mediatype)};
      XsltForms_output.prototype.dispose=function(){this.cell=null;XsltForms_globals.counters.output--;XsltForms_control.prototype.dispose.call(this)};
      XsltForms_output.prototype.setValue=function(a){var b=this.cell,c=this.mediatype;c&&c.bind_evaluate&&(c=XsltForms_globals.stringValue(c.bind_evaluate(this.subform,this.boundnodes[0])));if(c&&0===c.indexOf("image/")&&"image/svg+xml"!==c)b.innerHTML="<img src='"+a+"'>";else if("xforms-body"===b.nodeName.toLowerCase()||"tspan"===b.nodeName.toLowerCase()||"xforms-label"===b.nodeName.toLowerCase())if("application/xhtml+xml"===c||"text/html"===c){for(;b.firstChild;)b.removeChild(b.firstChild);a&&(b.innerHTML=
      a)}else if("text/markdown"===c){for(;b.firstChild;)b.removeChild(b.firstChild);a&&(b.innerHTML=XsltForms_browser.md2string(a))}else if("image/svg+xml"===c){for(;b.firstChild;)b.removeChild(b.firstChild);XsltForms_browser.isIE&&!XsltForms_browser.isIE9?(c=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","script"):document.createElement("script"),c.setAttribute("type","text/xaml"),c.setAttribute("id",this.element.id+"-xaml"),c.text=XsltForms_browser.transformText(a,
      XsltForms_browser.ROOT+"svg2xaml.xsl",!1,"width",b.currentStyle.width,"height",b.currentStyle.height),b.appendChild(c),a=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","object"):document.createElement("object"),a.setAttribute("width",b.currentStyle.width+"px"),a.setAttribute("height",b.currentStyle.height+"px"),a.setAttribute("type","application/x-silverlight"),a.setAttribute("style","min-width: "+b.currentStyle.width+"px"),c=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml",
      "param"):document.createElement("param"),c.setAttribute("name","source"),c.setAttribute("value","#"+this.element.id+"-xaml"),a.appendChild(c),c=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","param"):document.createElement("param"),c.setAttribute("name","onload"),c.setAttribute("value","onLoaded"),a.appendChild(c),c=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","param"):document.createElement("param"),c.setAttribute("name","iswindowless"),
      c.setAttribute("value","true"),a.appendChild(c),b.appendChild(a)):XsltForms_browser.isXhtml?(c=window.getComputedStyle(b,null),XDocument.parse(a,b),b.firstChild.setAttribute("width",c.getPropertyValue("min-width")),b.firstChild.setAttribute("height",c.getPropertyValue("min-height"))):(c=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","object"):document.createElement("object"),c.setAttribute("type","image/svg+xml"),c.setAttribute("data","data:image/svg+xml,"+a),b.appendChild(c))}else{if(XsltForms_browser.setValue(b,
      a),"xforms-label"===b.parentElement.parentElement.nodeName.toLowerCase())for(;b.parentElement;)if(b=b.parentElement,b.nodeName.toLowerCase().startsWith("xforms-select")){b.xfElement.full||b.xfElement.initBody();break}}else XsltForms_browser.setValue(b,a)};XsltForms_output.prototype.getValue=function(a){var b=this.cell;if("span"===b.nodeName.toLowerCase())return XsltForms_browser.getValue(b,a);var c=b.src;if(c&&a&&b.type.format)try{c=b.type.format(c)}catch(d){}return c};
      new XsltForms_class("XsltForms_item","HTMLElement","xforms-item","<xforms-body></xforms-body><xforms-label></xforms-label>");function XsltForms_item(a,b,c){XsltForms_globals.counters.item++;this.init(a,b);this.controlName="item"}XsltForms_item.prototype=new XsltForms_element;XsltForms_item.prototype.clone=function(a){return new XsltForms_item(this.subform,a,this.bindingL,this.bindingV,this.copyBinding)};
      XsltForms_item.prototype.dispose=function(){this.label=this.input=null;XsltForms_globals.counters.item--;XsltForms_element.prototype.dispose.call(this)};
      XsltForms_item.prototype.build_=function(a){var b,c=this.element;(b=c.parentNode.xfElement)&&b.isRepeat?this.ctx=a=c.node:c.node=a;this.bindingL&&(b=this.evaluateBinding(this.bindingL,a),Fleur.minimal?"object"===typeof b?(c.nodeL=b[0],c.valueL=null,this.depsNodesRefresh.push(c.nodeL)):(c.nodeL=null,c.valueL=b):b.nodeType!==Fleur.Node.TEXT_NODE?(c.nodeL=b.head(),c.valueL=null):(c.nodeL=null,c.valueL=b.data));this.bindingV&&(b=this.evaluateBinding(this.bindingV,a),Fleur.minimal?"object"===typeof b?
      (c.nodeV=b[0],c.valueV=null,this.depsNodesRefresh.push(c.nodeV)):(c.nodeV=null,c.valueV=b):b.nodeType!==Fleur.Node.TEXT_NODE?(c.nodeV=b.head(),c.valueV=null):(c.nodeV=null,c.valueV=b.data));a=this.copyBinding?this.evaluateBinding(this.copyBinding,a)[0]:null;if(this.copyBinding&&a){c.parentNode.parentNode.parentNode.parentNode.xfElement.hasCopy=!0;this.depsNodesRefresh.push(a);try{c.copy=XsltForms_browser.saveNode(a,"application/xml")}catch(d){}}};
      XsltForms_item.prototype.refresh=function(){var a=this.element;if("option"===a.nodeName.toLowerCase()){if(a.nodeL)try{a.text=XsltForms_browser.getValue(a.nodeL,!0)}catch(b){}else a.valueL&&(a.text=a.valueL);if(a.nodeV)try{a.value=XsltForms_browser.getValue(a.nodeV)}catch(b){}else a.valueV&&(a.value=a.valueV)}else a.nodeL?XsltForms_browser.setValue(this.label,XsltForms_browser.getValue(a.nodeL,!0)):a.valueL&&XsltForms_browser.setValue(this.label,a.valueL),a.nodeV?this.input.value=XsltForms_browser.getValue(a.nodeV):
      a.valueV?this.input.value=a.valueV:a.copy&&(this.input.value=this.input.copy=a.copy)};XsltForms_item.prototype.click=function(a){var b=this.input;if(b){var c=XsltForms_control.getXFElement(this.element);c.element.node.readonly||a!==b||c.itemClick(b.value)}};new XsltForms_class("XsltForms_itemset","HTMLElement","xforms-itemset");
      function XsltForms_itemset(a,b){var c,d,e;XsltForms_globals.counters.itemset++;this.init(a,b);this.controlName="itemset";this.nodesetBinding=new XsltForms_binding(a,b);Array.prototype.slice.call(b.children).forEach(function(f){switch(f.localName.toLowerCase()){case "xforms-label":c=f;break;case "xforms-value":d=f;break;case "xforms-copy":e=f}});this.labelContent=c?c.innerHTML:"";this.labelBinding=c&&c.hasAttribute("xf-ref")?new XsltForms_binding(a,c):null;this.valueBinding=d?new XsltForms_binding(a,
      d):null;this.copyBinding=e?new XsltForms_binding(a,e):null;this.hasBinding=!0}XsltForms_itemset.prototype=new XsltForms_element;
      XsltForms_itemset.prototype.build_=function(a){if(!this.element.getAttribute("cloned")){this.nodes=this.evaluateBinding(this.nodesetBinding,a).toArray();var b=this.element,c=this;0!==this.nodes.length?this.element.setAttribute("xf-bound",""):this.element.removeAttribute("xf-bound");var d=this.subform;Array.prototype.slice.call(b.querySelectorAll("xforms-item")).forEach(function(e){b.removeChild(e)});this.nodes.reverse().forEach(function(e){var f=document.createElement("xforms-item");if(c.labelBinding){var g=
      c.evaluateBinding(c.labelBinding,e);if("object"===typeof g){g=g[0];c.depsNodesRefresh.push(g);try{var h=XsltForms_browser.getValue(g,!0)}catch(k){}}else h=g}else h=c.labelContent;g=c.valueBinding?c.evaluateBinding(c.valueBinding,e):null;if(c.valueBinding&&g)if(Fleur.minimal)if("object"===typeof g){g=g[0];c.depsNodesRefresh.push(g);try{var l=XsltForms_browser.getValue(g)}catch(k){}}else l=g;else if(g.nodeType!==Fleur.Node.TEXT_NODE&&g.head){g=g.head();c.depsNodesRefresh.push(g);try{l=XsltForms_browser.getValue(g)}catch(k){}}else l=
      g.data||g;g=c.copyBinding?c.evaluateBinding(c.copyBinding,e).head():null;if(c.copyBinding&&g){b.parentNode.parentNode.xfElement.hasCopy=!0;c.depsNodesRefresh.push(g);try{l=Fleur.Serializer.escapeXML(XsltForms_browser.saveNode(g,"application/xml"))}catch(k){}}f.innerHTML="<xforms-label>"+h+"</xforms-label><xforms-value"+(c.copyBinding&&g?" xf-copy":"")+">"+l+"</xforms-value>";b.insertBefore(f,b.firstChild);c.labelBinding?XsltForms_classes["xforms-item"].classbinding(d,f):(f.node=e,XsltForms_repeat.initClone(d,
      f))});a=b.parentNode.parentNode;"xforms-body"===a.localName.toLowerCase()&&(a=a.parentNode);a=a.xfElement;a instanceof Array&&(a=a[0]);a.initBody();a.setValue(a.currentValue)}};XsltForms_itemset.prototype.refresh=function(){};XsltForms_itemset.prototype.clone=function(a){return new XsltForms_itemset(this.subform,a,this.nodesetBinding,this.labelBinding,this.valueBinding,this.copyBinding)};XsltForms_itemset.prototype.dispose=function(){XsltForms_globals.counters.itemset--;XsltForms_element.prototype.dispose.call(this)};
      XsltForms_itemset.prototype.refresh_=function(a,b){b=this.nodes[b];var c=this.evaluateBinding(this.labelBinding,b);if("object"===typeof c){c=c[0];this.depsNodesRefresh.push(c);try{a.text=XsltForms_browser.getValue(c,!0)}catch(d){}}else a.text=c;c=this.valueBinding?this.evaluateBinding(this.valueBinding,b):null;if(this.valueBinding&&c)if("object"===typeof c){c=c[0];this.depsNodesRefresh.push(c);try{a.value=XsltForms_browser.getValue(c)}catch(d){}}else a.value=c;b=this.copyBinding?this.evaluateBinding(this.copyBinding,
      b)[0]:null;if(this.copyBinding&&b){a.parentNode.parentNode.parentNode.xfElement.hasCopy=!0;this.depsNodesRefresh.push(b);try{a.value=XsltForms_browser.saveNode(b,"application/xml"),a.setAttribute("xf-copy","")}catch(d){}}};new XsltForms_class("XsltForms_range","HTMLElement","xforms-range","<xforms-focus></xforms-focus><xforms-label></xforms-label><xforms-body></xforms-body><xforms-required></xforms-required><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");
      function XsltForms_range(a,b){XsltForms_globals.counters.upload++;this.init(a,b);this.controlName="range";this.binding=new XsltForms_binding(a,b);this.incremental="false"!==b.getAttribute("xf-incremental");this.hasBinding=!0;this.start=parseFloat(b.getAttribute("xf-start")||0);this.end=parseFloat(b.getAttribute("xf-end")||0);this.step=parseFloat(b.getAttribute("xf-step")||1);this.value="";a=this.element.children;for(var c=0,d=a.length;c<d;c++){var e=a[c].localName.toLowerCase();"xforms-body"===e?
      this.cell=a[c]:"xforms-hint"===e&&"minimal"===a[c].getAttribute("xf-appearance")&&b.setAttribute("title",a[c].textContent)}this.initBody()}XsltForms_range.prototype=new XsltForms_control;XsltForms_range.prototype.clone=function(a){return new XsltForms_range(this.subform,a,this.valoff,this.binding,this.incremental,this.start,this.end,this.step,this.bolAidButton,!0)};XsltForms_range.prototype.dispose=function(){this.cell=null;XsltForms_globals.counters.range--;XsltForms_control.prototype.dispose.call(this)};
      XsltForms_range.railfocus=function(a){for(a=XsltForms_browser.events.getTarget(a);a&&a.nodeType===Fleur.Node.ELEMENT_NODE;){var b=a.xfElement;if(b){alert("rail_focus "+b.element.id);break}a=a.parentNode}};
      XsltForms_range.raildown=function(a){for(var b=XsltForms_browser.events.getTarget(a);b&&b.nodeType===Fleur.Node.ELEMENT_NODE;){var c=parent.xfElement;if(c){a=XsltForms_browser.getEventPos(a).x+(void 0!==window.pageLeft?window.pageLeft:document.documentElement&&void 0!==document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);for(b=c.rail;b;)a-=b.offsetLeft,b=b.offsetParent;b=Math.round(a/c.rail.clientWidth*(c.end-c.start)/c.step)*c.step+c.start;a=XsltForms_schema.getType(XsltForms_browser.getType(c.element.node)||
      "xsd_:string");a.format&&(b=a.format(b));c.setValue(b);c.incremental&&(XsltForms_globals.openAction("XsltForms_range#1"),c.valueChanged(String(c.value)),XsltForms_globals.closeAction("XsltForms_range#1"));document.activeElement&&!document.activeElement===c.cursor||c.cursor.focus();break}b=b.parentNode}};
      XsltForms_range.cursordown=function(a){for(var b=XsltForms_browser.events.getTarget(a);b&&b.nodeType===Fleur.Node.ELEMENT_NODE;){var c=b.xfElement;if(c){c.offset=XsltForms_browser.getEventPos(a).x+(void 0!==window.pageLeft?window.pageLeft:document.documentElement&&void 0!==document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);for(b=c.cursor;b;)c.offset-=b.offsetLeft,b=b.offsetParent;document.onmousemove=function(d){for(var e=XsltForms_browser.isIE?document.activeElement:
      XsltForms_browser.events.getTarget(d);e&&e.nodeType===Fleur.Node.ELEMENT_NODE;){var f=e.xfElement;if(f){d=XsltForms_browser.getEventPos(d).x-f.offset+(void 0!==window.pageLeft?window.pageLeft:document.documentElement&&void 0!==document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft);for(e=f.rail;e;)d-=e.offsetLeft,e=e.offsetParent;e=f.element.node;d=Math.round(d/f.rail.clientWidth*(f.end-f.start)/f.step)*f.step+f.start;d=Math.min(Math.max(d,f.start),f.end);
      e=XsltForms_schema.getType(XsltForms_browser.getType(e)||"xsd_:string");e.format&&(d=e.format(d));f.setValue(d);f.incremental&&(XsltForms_globals.openAction("XsltForms_range#2"),f.valueChanged(String(f.value)),XsltForms_globals.closeAction("XsltForms_range#2"));document.activeElement&&!document.activeElement===f.cursor||f.cursor.focus();break}e=e.parentNode}};document.onmouseup=function(){document.onmousemove=null;document.onmouseup=null};document.activeElement&&!document.activeElement===c.cursor||
      c.cursor.focus();break}b=b.parentNode}"function"===typeof a.stopPropagation?a.stopPropagation():"undefined"!==typeof a.cancelBubble&&(a.cancelBubble=!0);a.preventDefault&&a.preventDefault()};
      XsltForms_range.prototype.initBody=function(){0===this.cell.children.length&&(this.cell.innerHTML="<xforms-range-rail><xforms-range-cursor></xforms-range-cursor></xforms-range-rail><xforms-range-value></xforms-range-value>");this.rail=this.cell.children[0];this.cursor=this.rail.children[0];this.outputvalue=this.cell.children[1];XsltForms_browser.events.attach(this.rail,"focus",XsltForms_range.railfocus);XsltForms_browser.events.attach(this.rail,"mousedown",XsltForms_range.raildown);XsltForms_browser.events.attach(this.cursor,
      "mousedown",XsltForms_range.cursordown);this.initFocus(this.cell.children[0],!0)};XsltForms_range.prototype.setValue=function(a){this.outputvalue.innerHTML=a;var b=XsltForms_schema.getType(XsltForms_browser.getType(this.element.node)||"xsd_:string").parse;b&&(a=b(a));this.value!==a&&(this.value=a,this.cursor.style.left=Math.round(this.rail.clientWidth*(this.value-this.start)/(this.end-this.start))+"px")};
      XsltForms_range.prototype.blur=function(a){XsltForms_globals.focus=null;this.incremental||(XsltForms_browser.assert(this.input,this.element.id),this.valueChanged(this.value))};new XsltForms_class("XsltForms_repeat","HTMLElement","xforms-repeat");XsltForms_browser.addLoadListener(new Function("Array.prototype.slice.call(document.querySelectorAll('*[xf-repeat-ref]')).forEach(function(elt) { if (!elt.xfElement) { elt.xfIndex = XsltForms_collection.length; XsltForms_collection.push(elt); elt.xfElement = new XsltForms_repeat(XsltForms_subform.subforms['xsltforms-mainform'], elt); } });"));
      XsltForms_browser.addLoadListener(new Function("Array.prototype.slice.call(document.querySelectorAll('*[xf-repeat-bind]')).forEach(function(elt) { if (!elt.xfElement) { elt.xfIndex = XsltForms_collection.length; XsltForms_collection.push(elt); elt.xfElement = new XsltForms_repeat(XsltForms_subform.subforms['xsltforms-mainform'], elt); } });"));XsltForms_browser.addLoadListener(new Function("Array.prototype.slice.call(document.querySelectorAll('*[data-xf-repeat-ref]')).forEach(function(elt) { if (!elt.xfElement) { elt.xfIndex = XsltForms_collection.length; XsltForms_collection.push(elt); elt.xfElement = new XsltForms_repeat(XsltForms_subform.subforms['xsltforms-mainform'], elt); } });"));
      XsltForms_browser.addLoadListener(new Function("Array.prototype.slice.call(document.querySelectorAll('*[data-xf-repeat-bind]')).forEach(function(elt) { if (!elt.xfElement) { elt.xfIndex = XsltForms_collection.length; XsltForms_collection.push(elt); elt.xfElement = new XsltForms_repeat(XsltForms_subform.subforms['xsltforms-mainform'], elt); } });"));XsltForms_browser.addLoadListener(new Function("Array.prototype.slice.call(document.querySelectorAll('*[xforms-name=\"repeat\"]')).forEach(function(elt) { if (!elt.xfElement) { elt.xfIndex = XsltForms_collection.length; XsltForms_collection.push(elt); elt.xfElement = new XsltForms_repeat(XsltForms_subform.subforms['xsltforms-mainform'], elt); } });"));
      function XsltForms_repeat(a,b){this.init(a,b);this.controlName="repeat";this.index=1;this.hasBinding=this.isRepeat=!0;if("xforms-repeat"===b.localName.toLowerCase()||"repeat"===b.getAttribute("xforms-name")){if(this.binding=b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")?new XsltForms_binding(a,b):null,this.nbsiblings=0,this.root=b,this.isItemset=!1,!(b.firstChild.localName&&"xforms-repeat-item"===b.firstChild.localName.toLowerCase()||b.firstChild.getAttribute&&"repeat-item"===b.firstChild.getAttribute("xforms-name"))){"xforms-repeat"===
      b.localName.toLowerCase()?a=document.createElement("xforms-repeat-item"):(a=document.createElementNS(b.namespaceURI,b.localName),a.setAttribute("xforms-name","repeat-item"));for(var c=Array.prototype.slice.call(this.element.childNodes),d=0,e=c.length;d<e;d++)a.appendChild(c[d]);b.appendChild(a)}}else b.hasAttribute("xf-repeat-ref")||b.hasAttribute("xf-repeat-bind")?this.binding=new XsltForms_binding(a,b,"xf-repeat-ref"):b.hasAttribute("data-xf-repeat-ref")||b.hasAttribute("data-xf-repeat-bind")?this.binding=
      new XsltForms_binding(a,b,"data-xf-repeat-ref"):this.binding=null,this.nbsiblings=0,this.root=b}XsltForms_repeat.prototype=new XsltForms_element;XsltForms_repeat.prototype.dispose=function(){this.root=null;XsltForms_globals.counters.repeat--;XsltForms_element.prototype.dispose.call(this)};
      XsltForms_repeat.prototype.setIndex=function(a){if(0===this.nodes.length)this.index=0;else if(this.index!==a){var b=this.nodes[a-1];b&&(XsltForms_globals.openAction("XsltForms_repeat.prototype.setIndex"),this.index=a,this.element.node=b,XsltForms_globals.addChange(this),XsltForms_globals.addChange(document.getElementById(XsltForms_browser.getDocMeta(b.ownerDocument,"model")).xfElement),XsltForms_globals.closeAction("XsltForms_repeat.prototype.setIndex"))}};
      XsltForms_repeat.prototype.deleteNode=function(a){for(var b=[],c=this.nodes,d=0,e=c.length;d<e;d++)a!==c[d]&&b.push(c[d]);this.nodes=b;this.setIndex(this.index===c.length?this.index-1:this.index)};
      XsltForms_repeat.prototype.insertNode=function(a,b){var c,d=this.nodes;if(b){var e=null;var f=0;for(c=d.length;f<c&&null===e;f++)for(e=b;null!==e&&e!==d[f];)e=e.nextSibling}if(e){b=[];var g=1;f=0;for(c=d.length;f<c;f++)e===d[f]&&(b.push(a),g=f+1),b.push(d[f]);this.nodes=b;this.setIndex(g)}else d.push(a),this.setIndex(d.length)};
      XsltForms_repeat.prototype.build_=function(a){var b=this.evaluateBinding(this.binding,a);a=[];var c,d;if(b.isSingle())a[0]=b;else for(let p=0,q=b.childNodes.length;p<q;p++)XsltForms_browser.getBoolMeta(b.childNodes[p],"notrelevant")||a.push(b.childNodes[p]);var e={ids:{},fors:{}};this.nodes=a;b=a.length;if(0===this.nbsiblings){for(c=this.root;c.firstChild.nodeType===Fleur.Node.TEXT_NODE;)c.removeChild(c.firstChild);var f=c.children?c.children[0]:c.childNodes[0];XsltForms_repeat.forceOldId(f);for(var g=
      d=c.children?c.children.length:c.childNodes.length;g<b;g++){var h=f.cloneNode(!0);Array.prototype.slice.call(h.querySelectorAll(".cke")).forEach(function(p){p.parentNode.removeChild(p)});c.appendChild(h);XsltForms_repeat.initClone(this.subform,h,e)}for(g=b;g<d&&1<c.childNodes.length;g++)XsltForms_globals.dispose(c.lastChild),c.removeChild(c.lastChild);for(d=0;d<b;d++)XsltForms_browser.setMeta(a[d],"repeat",String(this.element.xfIndex)),c.children?c.children[d].node=a[d]:c.childNodes[d].node=a[d]}else{f=
      this.root;XsltForms_repeat.forceOldId(f);c=f.parentNode;d=c.firstChild;for(g=0;d&&d!==f;)g++,d=d.nextSibling;d=1;for(var l=c.childNodes[g+this.nbsiblings];l&&(l.id===this.element.id||l.attributes.oldid.value===this.element.id);)d++,l=c.childNodes[g+d*this.nbsiblings];for(var k=d;k<b;k++){h=f.cloneNode(!0);Array.prototype.slice.call(h.querySelectorAll(".cke")).forEach(function(p){p.parentNode.removeChild(p)});c.insertBefore(h,l);XsltForms_repeat.initClone(this.subform,h,e);delete h.xfElement;for(var m=
      f.nextSibling,n=1;n<this.nbsiblings;n++,m=m.nextSibling)h=m.cloneNode(!0),c.insertBefore(h,l),XsltForms_repeat.initClone(this.subform,h,e)}for(f=b;f<d;f++){e=c.childNodes[g+(b+1)*this.nbsiblings];if(!e||e.id!==this.element.id&&e.attributes.oldid.value!==this.element.id)break;for(e=0;e<this.nbsiblings;e++)XsltForms_globals.dispose(c.children[g+b*this.nbsiblings]),c.removeChild(c.children[g+b*this.nbsiblings])}for(d=0;d<b;d++)XsltForms_browser.setMeta(a[d],"repeat",String(this.element.xfIndex)),c.children?
      c.children[g+d*this.nbsiblings].node=a[d]:c.childNodes[g+d*this.nbsiblings].node=a[d]}for(c=0;c<b;c++)if(this.element.node===a[c]){this.index!==c+1&&(this.index=c+1,XsltForms_globals.addChange(this),XsltForms_globals.addChange(this.element.node.ownerDocument.model));return}this.element.node=a[0];this.element.node?1!==this.index&&(this.index=1,XsltForms_globals.addChange(this),XsltForms_globals.addChange(this.element.node.ownerDocument.model)):(this.index=0,XsltForms_globals.ready&&XsltForms_globals.addChange(this))};
      XsltForms_repeat.prototype.refresh=function(a){var b=0===this.nodes.length;b?this.element.removeAttribute("xf-bound"):this.element.setAttribute("xf-bound","");if(!b&&!this.isItemset&&0===this.nbsiblings){b=this.root.children||this.root.childNodes;for(var c=0,d=b.length;c<d;c++){var e=a&&this.index===c+1;b[c].selected=e;b[c].setAttribute("xf-selected",String(e))}}};XsltForms_repeat.prototype.clone=function(a){return new XsltForms_repeat(this.subform,a,this.nbsiblings,this.binding,!0)};
      XsltForms_repeat.initClone=function(a,b,c){"LABEL"===b.nodeName.toUpperCase()&&""!==b.getAttribute("for")&&(c.ids[b.getAttribute("for")]?b.setAttribute("for",c.ids[b.getAttribute("for")]):c.fors[b.getAttribute("for")]=b);var d=b.id;if(d){XsltForms_idManager.cloneId(b);"INPUT"===b.nodeName.toUpperCase()&&(c.fors[d]?(c.fors[d].setAttribute("for",b.id),delete c.ids[d]):c.ids[d]=b.id);d=b.getAttribute("oldid");var e=document.getElementById(d);e||=XsltForms_globals.idalt[d]}d=b.nodeName.toLowerCase();
      if((d=XsltForms_classes[d])||b.nodeType===Fleur.Node.ELEMENT_NODE&&b.hasAttribute("xf-avt"))b.xfElement=null;d&&d.classbinding(a,b);b.nodeType===Fleur.Node.ELEMENT_NODE&&b.hasAttribute("xforms-name")&&XsltForms_classes["xforms-"+b.getAttribute("xforms-name")]&&(b.xfElement=eval("new "+XsltForms_classes["xforms-"+b.getAttribute("xforms-name")].className+"(subform, element)"),b.xfIndex=XsltForms_collection.length,XsltForms_collection.push(b));b.nodeType===Fleur.Node.ELEMENT_NODE&&(b.hasAttribute("xf-repeat-ref")||
      b.hasAttribute("xf-repeat-bind"))&&(b.xfElement=new XsltForms_repeat(a,b),b.xfIndex=XsltForms_collection.length,XsltForms_collection.push(b));b.nodeType===Fleur.Node.ELEMENT_NODE&&b.hasAttribute("xf-avt")&&(b.xfIndex=XsltForms_collection.length,XsltForms_collection.push(b),Array.prototype.slice.call(b.attributes).filter(function(f){return f.nodeName.startsWith("xf-template-")}).forEach(function(f){new XsltForms_avt(a,b,f.nodeName.substr(12))}));if((d=b.parentNode.xfElement)&&d.isComponent&&d.valueElement===
      b)d.evaljs&&(eval(d.subjs),d.evaljs=!1);else for(d=b.firstChild;d;)e=d,d=d.nextSibling,e.id&&e.getAttribute("cloned")?b.removeChild(e):XsltForms_repeat.initClone(a,e,c)};XsltForms_repeat.forceOldId=function(a){var b=a.id;if(b){if("clonedId"===b.substr(0,8))return;a.setAttribute("oldid",b)}for(a=a.firstChild;a;)b=a,a=a.nextSibling,XsltForms_repeat.forceOldId(b)};
      XsltForms_repeat.selectItem=function(a){var b=a.parentNode;if(b){var c=b.xfElement?b:b.parentNode;if(c.xfElement){b=b.children;XsltForms_browser.assert(c.xfElement,a.nodeName+" - "+c.nodeName);for(var d=0,e=b.length;d<e;d++)if(b[d]===a){c.xfElement.setIndex(d+1);break}}else{for(c=1;a&&!a.xfElement;)a=a.previousSibling,c++;a&&a.xfElement&&0<a.xfElement.nbsiblings&&a.xfElement.setIndex(c/a.xfElement.nbsiblings)}}};new XsltForms_class("XsltForms_select","HTMLElement","xforms-select","<xforms-focus></xforms-focus><xforms-label></xforms-label><xforms-body></xforms-body><xforms-required></xforms-required><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");
      new XsltForms_class("XsltForms_select","HTMLElement","xforms-select1","<xforms-focus></xforms-focus><xforms-label></xforms-label><xforms-body></xforms-body><xforms-required></xforms-required><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");
      function XsltForms_select(a,b,c){this.inputname="xsltforms-select-"+String(XsltForms_globals.counters.select++);this.init(a,b);this.controlName=b.localName.substr(7);this.binding=new XsltForms_binding(a,b);this.min=(this.min=b.getAttribute("xf-min"))?Math.max(Number(this.min),1):1;this.max=(this.max=b.getAttribute("xf-max"))?Math.max(Number(this.max),this.min):"xforms-select1"===b.localName.toLowerCase()?1:null;this.inputtype=1===this.max?"radio":"checkbox";this.full="full"===b.getAttribute("xf-appearance");
      this.compact="compact"===b.getAttribute("xf-appearance");this.open="open"===b.getAttribute("xf-selection");this.incremental="false"!==b.getAttribute("xf-incremental");a=Array.prototype.slice.call(this.element.children);for(var d,e=0,f=a.length;e<f;e++)d=a[e].localName.toLowerCase(),"xforms-body"===d?this.cell=a[e]:"xforms-hint"===d&&"minimal"===a[e].getAttribute("xf-appearance")&&b.setAttribute("title",a[e].textContent);e=0;for(f=a.length;e<f;e++)d=a[e].localName.toLowerCase(),"xforms-item"!==d&&
      "xforms-itemset"!==d&&"xforms-choices"!==d||this.cell.appendChild(a[e]);this.isClone=c;this.hasBinding=!0;this.outRange=!1}XsltForms_select.prototype=new XsltForms_control;XsltForms_select.prototype.clone=function(a){return new XsltForms_select(this.subform,a,this.min,this.max,this.full,this.binding,this.open,this.incremental,!0)};XsltForms_select.prototype.dispose=function(){this.selectedOptions=this.select=null;XsltForms_globals.counters.select--;XsltForms_control.prototype.dispose.call(this)};
      XsltForms_select.prototype.focusFirst=function(){var a=XsltForms_browser.isXhtml?this.element.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","input")[0]:this.element.getElementsByTagName("input")[0];a.focus();XsltForms_browser.isOpera&&a.focus()};
      XsltForms_select.initChild={"xforms-item":function(a){var b,c,d;Array.prototype.slice.call(a.children).forEach(function(e){switch(e.localName.toLowerCase()){case "xforms-value":c=e.textContent.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");d=e.hasAttribute("xf-copy");break;case "xforms-label":b=e.innerHTML}});return'<option value="'+c+'"'+(d?" xf-copy":"")+' xf-index="'+a.xfIndex+'">'+b+"</option>"},"xforms-itemset":function(a){return Array.prototype.slice.call(a.children).map(function(b){var c=
      XsltForms_select.initChild[b.localName.toLowerCase()];return c?c(b):""},"").join("")},"xforms-choices":function(a){a=Array.prototype.slice.call(a.children);var b=a.filter(function(c){return"xforms-label"===c.localName.toLowerCase()});return"<optgroup"+(0!==b.length?' label="'+b[0].textContent+'"':"")+">"+a.map(function(c){var d=XsltForms_select.initChild[c.localName.toLowerCase()];return d?d(c):""},"").join("")+"</optgroup>"}};
      XsltForms_select.initChildFull={"xforms-item":function(a,b){var c,d,e;Array.prototype.slice.call(a.children).forEach(function(f){switch(f.localName.toLowerCase()){case "xforms-body":c=f;break;case "xforms-value":d=f.textContent.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");e=f.hasAttribute("xf-copy");break;case "xforms-label":a.xfElement.label=f}});c.innerHTML='<input type="'+b.inputtype+'" value="'+d+'"'+(e?" xf-copy":"")+' name="'+b.inputname+'">';a.xfElement.input=
      c.children[0];XsltForms_browser.events.attach(c.children[0],"focus",XsltForms_control.focusHandler);XsltForms_browser.events.attach(c.children[0],"blur",XsltForms_control.blurHandler)},"xforms-itemset":function(a,b){Array.prototype.slice.call(a.children).map(function(c){var d=XsltForms_select.initChildFull[c.localName.toLowerCase()];d&&d(c,b)})},"xforms-choices":function(a,b){Array.prototype.slice.call(a.children).map(function(c){var d=XsltForms_select.initChildFull[c.localName.toLowerCase()];d&&
      d(c,b)})}};
      XsltForms_select.prototype.initBody=function(){var a=this.cell,b=this;if(this.full)Array.prototype.slice.call(a.children).forEach(function(e){var f=XsltForms_select.initChildFull[e.localName.toLowerCase()];return f?f(e,b):""});else{if("select"===a.lastChild.localName.toLowerCase())var c=a.lastChild;else c=document.createElement("select"),(!this.max||this.max>this.min+1)&&c.setAttribute("multiple",""),this.compact&&c.setAttribute("size","4"),a.appendChild(c);var d=c.value;a=("\u00a0"===c.value?'<option value="\u00a0" id="">\u00a0</option>':
      "")+Array.prototype.slice.call(a.children).map(function(e){var f=XsltForms_select.initChild[e.localName.toLowerCase()];return f?f(e):""}).join("");c.innerHTML=a;Array.prototype.slice.call(c.querySelectorAll("*")).forEach(function(e){if(e.hasAttribute("xf-index")){var f=XsltForms_collection[e.getAttribute("xf-index")].listeners;f&&f.forEach(function(g){g.clone(e)});e.removeAttribute("xf-index")}});c.value=d;this.open?(this.select=c,this.datalist=void 0):this.datalist=this.select=c;this.initFocus(this.select);
      this.incremental?(XsltForms_browser.events.attach(this.select,"change",XsltForms_select.incrementalChange),XsltForms_browser.events.attach(this.select,"keyup",XsltForms_select.incrementalChangeKeyup)):XsltForms_browser.events.attach(this.select,"change",XsltForms_select.normalChange)}this.bodyOK=!0};
      XsltForms_select.prototype.setValue=function(a){this.bodyOK||this.initBody();this.select&&1===this.datalist.options.length&&this.datalist.options[0]&&"\u00a0"===this.datalist.options[0].value&&(this.currentValue=null);if(this.full||a&&""!==a){if(!this.full&&0===this.min&&this.datalist.options[0]&&"\u00a0"!==this.datalist.options[0].value){var b=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml","option"):document.createElement("option");b.value="\u00a0";b.text="\u00a0";
      b.id="";this.datalist.children[0]?this.datalist.insertBefore(b,this.datalist.children[0]):this.datalist.appendChild(b)}this.full||!this.datalist.firstChild||"\u00a0"!==this.datalist.firstChild.value||0===this.min&&1===this.max||this.datalist.remove(0);b=a?a instanceof Array?a:1!==this.max?a.split(XsltForms_globals.valuesSeparator):[a]:[""];var c=this.full?XsltForms_browser.isXhtml?this.element.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","input"):this.element.getElementsByTagName("input"):
      this.datalist.options;var d=!0;for(var e=XsltForms_schema.getType(this.element.node?XsltForms_browser.getType(this.element.node)||"xsd_:string":"xsd_:string"),f=0,g=b.length;d&&f<g;f++){for(var h=b[f],l=!1,k=0,m=c.length;!l&&k<m;k++){d=c[k].value;if(e.format)try{d=e.format(d)}catch(n){}d===h&&(l=!0)}d=l}d||1!==this.max&&!a?this.outRange&&(this.outRange=!1,XsltForms_xmlevents.dispatch(this,"xforms-in-range")):1!==this.max&&!a||this.outRange||(this.outRange=!0,XsltForms_xmlevents.dispatch(this,"xforms-out-of-range"));
      b=1!==this.max?b:[b[0]];if(this.full)for(e=0,d=c.length;e<d;e++)a=c[e],a.checked=""!==a.value?XsltForms_browser.inArray(a.value,b):!1;else for(this.selectedOptions=[],f=0,g=c.length;f<g;f++){a=c[f];d=a.value;if(e.format)try{d=e.format(d)}catch(n){}(d=XsltForms_browser.inArray(d,b))&&this.selectedOptions.push(a);try{a.selected=d}catch(n){}}}else this.selectedOptions=[],this.datalist.options[0]&&"\u00a0"!==this.datalist.options[0].value&&(b=XsltForms_browser.isXhtml?document.createElementNS("http://www.w3.org/1999/xhtml",
      "option"):document.createElement("option"),b.value="\u00a0",b.text="\u00a0",b.id="",this.datalist.children[0]?this.datalist.insertBefore(b,this.datalist.children[0]):this.datalist.appendChild(b),this.datalist.selectedIndex=0)};
      XsltForms_select.prototype.changeReadonly=function(){if(this.full)for(var a=XsltForms_browser.isXhtml?this.element.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","input"):this.element.getElementsByTagName("input"),b=0,c=a.length;b<c;b++)a[b].disabled=this.readonly;else!XsltForms_browser.dialog.knownSelect(this.select)&&this.select&&(this.select.disabled=this.readonly)};
      XsltForms_select.prototype.itemClick=function(a){var b=XsltForms_browser.isXhtml?this.element.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","input"):this.element.getElementsByTagName("input");XsltForms_globals.openAction("XsltForms_select.prototype.itemClick");var c="";if(1!==this.max)for(var d=0,e=b.length;d<e;d++){var f=b[d];f.hasAttribute("xf-copy")&&""===c&&(c=[]);f.value===a&&XsltForms_xmlevents.dispatch(f.parentNode,f.checked?"xforms-select":"xforms-deselect");f.checked&&(f.hasAttribute("xf-copy")?
      c.push(f.value):c=(""!==c?c+XsltForms_globals.valuesSeparator:"")+f.value)}else{d=this.value;e=XsltForms_schema.getType(XsltForms_browser.getType(this.element.node)||"xsd_:string");if(!d&&(d=XsltForms_browser.getValue(this.element.node),e.format))try{d=e.format(d)}catch(m){}var g=null;if(d===a&&0!==this.min){XsltForms_globals.closeAction("XsltForms_select.prototype.itemClick");return}for(var h=0,l=b.length;h<l;h++){f=b[h];var k=f.value;if(e.format)try{k=e.format(k)}catch(m){}f.checked=k===a;k===d?
      (f.checked&&0===this.min&&(f.checked=!1,c=f.hasAttribute("xf-copy")?[]:""),XsltForms_xmlevents.dispatch(f.parentNode,"xforms-deselect")):k===a&&(g=f,c=f.hasAttribute("xf-copy")?[a]:a)}g&&XsltForms_xmlevents.dispatch(g.parentNode,"xforms-select")}a=c;this.incremental?this.valueChanged(this.value=a||""):this.value=a||"";XsltForms_globals.closeAction("XsltForms_select.prototype.itemClick")};
      XsltForms_select.prototype.blur=function(a){this.value&&(XsltForms_globals.openAction("XsltForms_select.prototype.blur"),this.valueChanged(this.value),XsltForms_globals.closeAction("XsltForms_select.prototype.blur"),this.value=null)};
      XsltForms_select.normalChange=function(a){a=XsltForms_control.getXFElement(this);var b=[],c="",d=[],e=a.getSelected(),f=this.options;XsltForms_globals.openAction("XsltForms_select.normalChange");for(var g=0,h=e.length;g<h;g++)e[g].selected?b.push(e[g]):XsltForms_xmlevents.dispatch(e[g],"xforms-deselect");g=0;for(h=f.length;g<h;g++)e=f[g],e.selected&&(e.hasAttribute("xf-copy")?d.push(e.value):"\u00a0"!==e.value&&(c=c?c+XsltForms_globals.valuesSeparator+e.value:e.value));g=0;for(h=f.length;g<h;g++)e=
      f[g],e.selected&&"\u00a0"!==e.value&&!XsltForms_browser.inArray(e,b)&&(b.push(e),XsltForms_xmlevents.dispatch(e,"xforms-select"));if(0===d.length){if(a.value=c,d=XsltForms_schema.getType(XsltForms_browser.getType(a.element.node)||"xsd_:string"),d.format)try{a.value=d.format(c)}catch(l){}}else a.value=d;a.selectedOptions=b;XsltForms_globals.closeAction("XsltForms_select.normalChange")};
      XsltForms_select.incrementalChange=function(a){var b=XsltForms_control.getXFElement(this);XsltForms_globals.openAction("XsltForms_select.incrementalChange");XsltForms_select.normalChange.call(this,a);b.valueChanged(b.value);XsltForms_globals.closeAction("XsltForms_select.incrementalChange")};
      XsltForms_select.incrementalChangeKeyup=function(a){if(9!==a.keyCode&&17!==a.keyCode){var b=XsltForms_control.getXFElement(this);XsltForms_globals.openAction("XsltForms_select.incrementalChangeKeyup");XsltForms_select.normalChange.call(this,a);b.valueChanged(b.value);XsltForms_globals.closeAction("XsltForms_select.incrementalChangeKeyup")}};
      XsltForms_select.prototype.getSelected=function(){var a=this.selectedOptions;if(!a||0===a.length){a=[];for(var b=this.select.options,c=0,d=b.length;c<d;c++)b[c].selected&&a.push(b[c])}return a};new XsltForms_class("XsltForms_trigger","HTMLElement","xforms-trigger","<xforms-label></xforms-label><xforms-body></xforms-body><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");new XsltForms_class("XsltForms_trigger","HTMLElement","xforms-submit","<xforms-label></xforms-label><xforms-body></xforms-body><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");
      function XsltForms_trigger(a,b){this.init(a,b);switch(b.localName.toLowerCase()){case "xforms-trigger":this.binding=b.hasAttribute("xf-ref")||b.hasAttribute("xf-bind")?new XsltForms_binding(a,b):null;break;case "xforms-submit":var c=document.createElement("xforms-send");c.setAttribute("ev-event","DOMActivate");b.hasAttribute("xf-submission")&&c.setAttribute("xf-submission",b.getAttribute("xf-submission"));b.appendChild(c);XsltForms_classes["xforms-dispatch"].classbinding(a,c)}this.appearance=(a=b.getAttribute("xf-appearance"))?
      a:"full";XsltForms_globals.counters.trigger++;this.controlName="trigger";this.hasBinding=!!this.binding;a=Array.prototype.slice.call(this.element.children);c=0;for(var d=a.length;c<d;c++){var e=a[c].localName.toLowerCase();"xforms-body"===e?this.cell=a[c]:"xforms-hint"===e&&"minimal"===a[c].getAttribute("xf-appearance")&&b.setAttribute("title",a[c].textContent)}this.isTrigger=!0;this.initBody()}XsltForms_trigger.prototype=new XsltForms_control;
      XsltForms_trigger.prototype.initBody=function(){var a=Array.prototype.slice.call(this.element.children),b;switch(this.appearance){case "full":case "compact":if(0===this.cell.children.length||"BUTTON"!==this.cell.children[0].nodeName.toUpperCase()){this.cell.innerHTML='<button type="button"></button>';this.input=this.cell.children[0];var c=0;for(b=a.length;c<b;c++){var d=a[c].localName.toLowerCase();if("xforms-label"===d){this.input.appendChild(a[c]);break}}}else this.input=this.cell.children[0];break;
      case "minimal":if(0===this.cell.children.length||"A"!==this.cell.children[0].nodeName.toUpperCase())for(this.cell.innerHTML="<a></a>",this.input=this.cell.children[0],c=0,b=a.length;c<b;c++){if(d=a[c].localName.toLowerCase(),"xforms-label"===d){this.input.appendChild(a[c]);break}}else this.input=this.cell.children[0]}this.initFocus(this.input)};XsltForms_trigger.prototype.setValue=function(){};XsltForms_trigger.prototype.changeReadonly=function(){this.input.disabled=this.readonly};
      XsltForms_trigger.prototype.clone=function(a){return new XsltForms_trigger(this.subform,a,this.binding,!0)};XsltForms_trigger.prototype.dispose=function(){XsltForms_globals.counters.trigger--;XsltForms_element.prototype.dispose.call(this)};XsltForms_trigger.prototype.click=function(a,b){XsltForms_globals.openAction("XsltForms_trigger.prototype.click");XsltForms_xmlevents.dispatch(this,"DOMActivate",null,null,null,null,b);XsltForms_globals.closeAction("XsltForms_trigger.prototype.click")};
      XsltForms_trigger.prototype.blur=function(){};new XsltForms_class("XsltForms_upload","HTMLElement","xforms-upload","<xforms-focus></xforms-focus><xforms-label></xforms-label><xforms-body></xforms-body><xforms-required></xforms-required><xforms-alert></xforms-alert><xforms-help></xforms-help><xforms-hint></xforms-hint>");
      function XsltForms_upload(a,b){XsltForms_globals.counters.upload++;this.init(a,b);this.controlName="upload";this.binding=new XsltForms_binding(a,b);this.incremental="true"===b.getAttribute("xf-incremental");for(var c=this.element.children,d=0,e=c.length;d<e;d++){var f=c[d].localName.toLowerCase();"xforms-body"===f?this.cell=c[d]:"xforms-hint"===f&&"minimal"===c[d].getAttribute("xf-appearance")&&b.setAttribute("title",c[d].textContent)}this.hasBinding=!0;var g=[],h,l,k;Array.prototype.slice.call(b.children).forEach(function(m){switch(m.localName.toLowerCase()){case "xforms-filename":l=
      m;break;case "xforms-mediatype":k=m;break;case "xforms-resource":h=m;break;case "xforms-header":var n,p=[];Array.prototype.slice.call(m.children).forEach(function(q){switch(q.localName.toLowerCase()){case "xforms-name":n=q;break;case "xforms-value":p.push(q)}});g.push({nodeset:m.hasAttribute("xf-ref")?new XsltForms_binding(a,m):null,name:n?n.hasAttribute("xf-value")?new XsltForms_binding(a,n):n.textContent:m.getAttribute("xf-name"),combine:m.getAttribute("xf-combine")||"append",values:p.map(function(q){return q.hasAttribute("xf-value")?
      new XsltForms_binding(a,q):q.textContent})})}});this.mediatype=k?k.hasAttribute("xf-value")||k.hasAttribute("xf-ref")?new XsltForms_binding(a,k):k.textContent:b.getAttribute("xf-mediatype");this.filename=l?l.hasAttribute("xf-value")||l.hasAttribute("xf-ref")?new XsltForms_binding(a,l):l.textContent:b.getAttribute("xf-filename");this.headers=g;this.resource=h?h.hasAttribute("xf-value")?new XsltForms_binding(a,h):h.textContent:b.getAttribute("xf-resource");this.value="";this.initBody()}
      XsltForms_upload.prototype=new XsltForms_control;XsltForms_upload.contents={};XsltForms_upload.prototype.resource=function(a){this.resource=a;return this};XsltForms_upload.prototype.header=function(a,b,c,d){this.headers.push({nodeset:a,combine:b,name:c,values:d});return this};XsltForms_upload.prototype.clone=function(a){return new XsltForms_upload(this.subform,a,this.valoff,this.binding,this.incremental,this.filename,this.mediatype,this.bolAidButton,!0)};
      XsltForms_upload.prototype.dispose=function(){this.cell=null;XsltForms_globals.counters.upload--;XsltForms_control.prototype.dispose.call(this)};
      XsltForms_upload.prototype.initBody=function(){if(this.resource){if(0===this.cell.children.length||"BUTTON"!==this.cell.children[0].nodeName.toUpperCase())this.cell.innerHTML='<button type="button">Select&nbsp;files</button><button type="button">Upload</button>';this.input=this.cell.children[0]}else 0===this.cell.children.length||"INPUT"!==this.cell.children[0].nodeName.toUpperCase()?(this.cell.innerHTML='<input type="file">',this.input=this.cell.children[0],this.input.onclick=function(a){return a.target.parentElement.parentElement.xfElement.directclick()},
      this.input.onchange=function(a){a.target.parentElement.parentElement.xfElement.change()}):this.input=this.cell.children[0];this.initFocus(this.input)};
      XsltForms_upload.prototype.setValue=function(a){var b=this.element.node;this.type=b?XsltForms_schema.getType(XsltForms_browser.getType(b)||"xsd_:string"):XsltForms_schema.getType("xsd_:string");this.value!==a&&(this.value=a||"","form"===this.input.parentElement.nodeName.toLowerCase()&&this.input.form.reset());this.resource&&"undefined"!==typeof plupload&&!this.uploader&&(a=eval(this.type.appinfo?this.type.appinfo.replace(/(\r\n|\n|\r)/gm," "):"{}"),a.url="dummy",a.init={PostInit:function(){var c=
      XsltForms_control.getXFElement(this.getOption("browse_button")[0]);c.uploadbtn&&(c.uploadbtn.disabled=!0,c.uploadbtn.onclick=function(){XsltForms_control.getXFElement(this).uploader.start();return!1})},FileFiltered:function(c,d){c=XsltForms_control.getXFElement(c.getOption("browse_button")[0]);-1===(" "+c.value+" ").indexOf(" "+d.name+" ")&&(c.value=""!==c.value?c.value+" "+d.name:d.name,c.incremental&&c.valueChanged(c.value));c.uploadbtn&&(c.uploadbtn.disabled=!1)},BeforeUpload:function(c){var d=
      XsltForms_control.getXFElement(c.getOption("browse_button")[0]);var e=d.resource.bind_evaluate?XsltForms_globals.stringValue(d.resource.bind_evaluate(d.subform,d.boundnodes[0])):d.resource;c.setOption("url",e);if(0!==d.headers.length){e={};for(var f=0,g=d.headers.length;f<g;f++){var h=d.headers[f].nodeset?d.headers[f].nodeset.bind_evaluate(d.subform,d.boundnodes[0]):d.boundnodes;for(var l,k=0,m=h.length;k<m;k++)if(l=d.headers[f].name.bind_evaluate?XsltForms_globals.stringValue(d.headers[f].name.bind_evaluate(d.subform,
      h[k])):d.headers[f].name,""!==l){var n="",p;var q=0;for(p=d.headers[f].values.length;q<p;q++){var r=d.headers[f].values[q];r=r.bind_evaluate?XsltForms_globals.stringValue(r.bind_evaluate(d.subform,h[k])):r;n+=r;q<p-1&&(n+=",")}e[l]=n}}c.setOption("headers",e)}},UploadComplete:function(c){c=XsltForms_control.getXFElement(c.getOption("browse_button")[0]);c.uploadbtn&&(c.uploadbtn.disabled=!0);c.error?c.error=null:XsltForms_xmlevents.dispatch(c,"xforms-upload-done")},Error:function(c,d){d={method:"POST",
      "resource-uri":c.getOption("url"),"error-type":"resource-error","response-body":d.response,"response-status-code":d.code,"response-reason-phrase":d.message};c=XsltForms_control.getXFElement(c.getOption("browse_button")[0]);c.error=!0;XsltForms_xmlevents.dispatch(c,"xforms-upload-error",null,null,null,null,d)}},XsltForms_globals.jslibraries["http://www.plupload.com/jquery.ui.plupload"]?jQuery.noConflict()(this.element.children[this.valoff].firstChild).plupload(a):(this.uploadbtn=this.element.children[this.valoff].firstChild.children[1],
      a.browse_button=this.element.children[this.valoff].firstChild.firstChild,this.uploader=new plupload.Uploader(a),this.uploader.init()))};XsltForms_upload.prototype.blur=function(a){XsltForms_globals.focus=null;this.incremental||(XsltForms_browser.assert(this.input,this.element.id),this.valueChanged(this.value))};
      XsltForms_upload.prototype.directclick=function(){if(window.FileReader)return!0;if("http://www.w3.org/2001/XMLSchema"!==this.type.nsuri||"anyURI"!==this.type.name&&"string"!==this.type.name&&"base64Binary"!==this.type.name&&"hexBinary"!==this.type.name)throw alert("Unexpected type for upload control: "+this.type.nsuri+" "+this.type.name),Error("Error");var a="unselected",b=XsltForms_browser.readFile("","ISO-8859-1",this.type.name,"XSLTForms Java Upload");document.applets.xsltforms?a=document.applets.xsltforms.lastChosenFileName:
      document.getElementById("xsltforms_applet")&&(a=document.getElementById("xsltforms_applet").xsltforms.lastChosenFileName);a=a.split("\\").pop();"anyURI"===this.type.name?(this.value="file://"+a+"?id="+this.element.id,XsltForms_upload.contents[this.element.id]=b):this.value=b;this.input.value=a;this.incremental&&this.valueChanged(this.value);this.filename&&this.filename.bind_evaluate&&(b=this.filename.bind_evaluate(this.element.node)[0])&&(XsltForms_globals.openAction("XsltForms_upload.prototype.directclick"),
      XsltForms_browser.setValue(b,a||""),a=document.getElementById(XsltForms_browser.getDocMeta(b.ownerDocument,"model")).xfElement,a.addChange(b),XsltForms_xmlevents.dispatch(a,"xforms-recalculate"),XsltForms_globals.refresh(),XsltForms_globals.closeAction("XsltForms_upload.prototype.directclick"));return!1};
      XsltForms_upload.prototype.change=function(){if("http://www.w3.org/2001/XMLSchema"!==this.type.nsuri||"anyURI"!==this.type.name&&"string"!==this.type.name&&"base64Binary"!==this.type.name&&"hexBinary"!==this.type.name)throw alert("Unexpected type for upload control: "+this.type.nsuri+" "+this.type.name),Error("Error");var a="unselected",b="",c=this;try{var d=new FileReader,e=c.input.files[0];e?(a=e.name,d.onload="string"===c.type.name?function(f){f=new Uint8Array(f.target.result);for(var g=0,h=f.length;g<
      h;g++)b+=String.fromCharCode(f[g]);c.value=b;c.incremental&&c.valueChanged(b)}:"hexBinary"===c.type.name?function(f){f=new Uint8Array(f.target.result);for(var g=0,h=f.length;g<h;g++){var l=f[g]>>4,k=f[g]&15;b+=String.fromCharCode(9<l?l+55:l+48,9<k?k+55:k+48)}c.value=b;c.incremental&&c.valueChanged(b)}:"base64Binary"===c.type.name?function(f){f=new Uint8Array(f.target.result);for(var g=f.length,h=f[g]=f[g+1]=0;h<g;h+=3){var l=f[h]>>2,k=(f[h]&3)<<4|f[h+1]>>4,m=(f[h+1]&15)<<2|f[h+2]>>6,n=f[h+2]&63;h===
      g-1?m=n=64:h===g-2&&(n=64);b+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(m)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)}c.value=b;c.incremental&&c.valueChanged(b)}:function(f){XsltForms_upload.contents[c.element.id]=f.target.result;c.value="file://"+a+"?id="+(c.element.id||"xsltforms_"+
      String(c.element.xfIndex));c.incremental&&c.valueChanged(c.value)},d.readAsArrayBuffer(e)):(c.value="",c.incremental&&c.valueChanged(""))}catch(f){b=XsltForms_browser.readFile(c.input.value,"ISO-8859-1",c.type.name,""),"anyURI"===c.type.name?(c.value="file://"+a+"?id="+c.element.id,XsltForms_upload.contents[c.element.id]=b):c.value=b,c.incremental&&c.valueChanged(c.value)}this.filename&&this.filename.bind_evaluate&&(d=this.filename.bind_evaluate(this.element.node)[0])&&(XsltForms_globals.openAction("XsltForms_upload.prototype.change"),
      XsltForms_browser.setValue(d,a||""),e=document.getElementById(XsltForms_browser.getDocMeta(d.ownerDocument,"model")).xfElement,e.addChange(d),XsltForms_xmlevents.dispatch(e,"xforms-recalculate"),XsltForms_globals.refresh(),XsltForms_globals.closeAction("XsltForms_upload.prototype.change"))};new XsltForms_class("XsltForms_label","HTMLElement","xforms-label");
      function XsltForms_label(a,b){XsltForms_globals.counters.label++;this.init(a,b);this.controlName="label";if(b.getAttribute("xf-ref")||b.getAttribute("xf-value")||b.getAttribute("xf-bind"))this.hasBinding=!0,this.binding=new XsltForms_binding(a,b)}XsltForms_label.prototype=new XsltForms_element;XsltForms_label.prototype.clone=function(a){return new XsltForms_label(this.subform,a,this.binding)};XsltForms_label.prototype.dispose=function(){XsltForms_globals.counters.label--;XsltForms_element.prototype.dispose.call(this)};
      XsltForms_label.prototype.build_=function(a){a=this.evaluateBinding(this.binding,a);this.element.node=a.head();this.depsNodesRefresh.push(this.element.node)};XsltForms_label.prototype.refresh=function(){var a=this.element.node;a=a?XsltForms_browser.getValue(a,!0):"";XsltForms_browser.setValue(this.element.getAttributeNode("label")?this.element.getAttributeNode("label"):this.element,a)};
      function XsltForms_calendar(){var a=XsltForms_browser.isXhtml?document.getElementsByTagNameNS("http://www.w3.org/1999/xhtml","body")[0]:document.getElementsByTagName("body")[0];this.element=XsltForms_browser.createElement("table",a,null,"xsltforms-calendar");var b=XsltForms_browser.createElement("thead",this.element);a=XsltForms_browser.createElement("tr",b);a=XsltForms_browser.createElement("td",a,null,"xsltforms-calendar-title");a.colSpan=7;this.selectMonth=XsltForms_browser.createElement("select",
      a);XsltForms_browser.events.attach(this.selectMonth,"change",function(){XsltForms_calendar.INSTANCE.refresh()});for(var c=0;12>c;c++)XsltForms_browser.createElement("option",this.selectMonth,XsltForms_browser.i18n.get("calendar.month"+c)).setAttribute("value",c);this.inputYear=XsltForms_browser.createElement("input",a);this.inputYear.readOnly=!0;XsltForms_browser.events.attach(this.inputYear,"mouseup",function(){XsltForms_calendar.INSTANCE.yearList.show()});XsltForms_browser.events.attach(this.inputYear,
      "change",function(){XsltForms_calendar.INSTANCE.refresh()});c=XsltForms_browser.createElement("button",a,"X");c.setAttribute("type","button");c.setAttribute("title",XsltForms_browser.i18n.get("calendar.close","Close"));XsltForms_browser.events.attach(c,"click",function(){XsltForms_calendar.close()});b=XsltForms_browser.createElement("tr",b,null,"xsltforms-calendar-names");c=parseInt(XsltForms_browser.i18n.get("calendar.initDay"),10);for(var d=0;7>d;d++)this.createElement(b,"xsltforms-calendar-name",
      XsltForms_browser.i18n.get("calendar.day"+(d+c)%7));this.tBody=XsltForms_browser.createElement("tbody",this.element);b=function(f){var g=XsltForms_browser.events.getTarget(f).childNodes[0].nodeValue;f=XsltForms_calendar.INSTANCE;""!==g&&(f.day=g,g=new Date(f.inputYear.value,f.selectMonth.value,f.day),f.isTimestamp?(g.setSeconds(f.inputSec.value),g.setMinutes(f.inputMin.value),g.setHours(f.inputHour.value),f.input.value=XsltForms_browser.i18n.format(g,null,!0)):f.input.value=XsltForms_browser.i18n.formatDate(g),
      XsltForms_calendar.close(),XsltForms_browser.events.dispatch(f.input,"keyup"),f.input.focus())};for(c=0;6>c;c++){d=XsltForms_browser.createElement("tr",this.tBody);for(var e=0;7>e;e++)this.createElement(d,"xsltforms-calendar-day"," ",1,b)}b=XsltForms_browser.createElement("tfoot",this.element);b=XsltForms_browser.createElement("tr",b);b=XsltForms_browser.createElement("td",b);b.colSpan=7;this.inputHour=XsltForms_browser.createElement("input",b);this.inputHour.readOnly=!0;XsltForms_browser.events.attach(this.inputHour,
      "mouseup",function(){XsltForms_calendar.INSTANCE.hourList.show()});b.appendChild(document.createTextNode(":"));this.inputMin=XsltForms_browser.createElement("input",b);this.inputMin.readOnly=!0;XsltForms_browser.events.attach(this.inputMin,"mouseup",function(){XsltForms_calendar.INSTANCE.minList.show()});b.appendChild(document.createTextNode(":"));this.inputSec=XsltForms_browser.createElement("input",b);this.inputSec.readOnly=!0;XsltForms_browser.events.attach(this.inputSec,"mouseup",function(){XsltForms_calendar.INSTANCE.type>=
      XsltForms_calendar.SECONDS&&XsltForms_calendar.INSTANCE.secList.show()});this.yearList=new XsltForms_numberList(a,"xsltforms-calendarList",this.inputYear,1900,2050);this.hourList=new XsltForms_numberList(b,"xsltforms-calendarList",this.inputHour,0,23,2);this.minList=new XsltForms_numberList(b,"xsltforms-calendarList",this.inputMin,0,59,2);this.secList=new XsltForms_numberList(b,"xsltforms-calendarList",this.inputSec,0,59,2)}XsltForms_calendar.prototype.today=function(){this.refreshControls(new Date)};
      XsltForms_calendar.prototype.refreshControls=function(a){this.day=a.getDate();this.selectMonth.value=a.getMonth();this.inputYear.value=1E3>a.getYear()?1900+a.getYear():a.getYear();this.isTimestamp&&(this.inputHour.value=XsltForms_browser.zeros(a.getHours(),2),this.inputMin.value=this.type>=XsltForms_calendar.MINUTES?XsltForms_browser.zeros(a.getMinutes(),2):"00",this.inputSec.value=this.type>=XsltForms_calendar.SECONDS?XsltForms_browser.zeros(a.getSeconds(),2):"00");this.refresh()};
      XsltForms_calendar.prototype.refresh=function(){for(var a=this.getFirstDay(),b=this.getDaysOfMonth(),c=parseInt(XsltForms_browser.i18n.get("calendar.initDay"),10),d=0,e=1,f=this.selectMonth.value===this.currentMonth&&this.inputYear.value===this.currentYear,g=0;6>g;g++)for(var h=this.tBody.childNodes[g],l=0;7>l;l++,d++){var k=h.childNodes[l],m=d>=a&&d<a+b;XsltForms_browser.setClass(k,"xsltforms-listHover",!1);XsltForms_browser.setClass(k,"xsltforms-calendar-today",f&&e===this.currentDay);XsltForms_browser.setClass(k,
      "xsltforms-calendar-selected",m&&e===this.day);XsltForms_browser.setClass(k,"xsltforms-calendar-weekend",4<(l+c)%7);k.firstChild.nodeValue=m?e++:""}};XsltForms_calendar.prototype.getFirstDay=function(){var a=new Date;a.setDate(1);a.setMonth(this.selectMonth.value);a.setYear(this.inputYear.value);var b=parseInt(XsltForms_browser.i18n.get("calendar.initDay"),10);return(a.getDay()+(6-b))%7};
      XsltForms_calendar.prototype.getDaysOfMonth=function(){var a=parseInt(this.inputYear.value,10);return 1!==parseInt(this.selectMonth.value,10)||0!==a%4||0===a%100&&0!==a%400?XsltForms_calendar.daysOfMonth[this.selectMonth.value]:29};XsltForms_calendar.prototype.createElement=function(a,b,c,d,e){a=XsltForms_browser.createElement("td",a,c,b);1<d&&(a.colSpan=d);e&&(XsltForms_browser.events.attach(a,"click",e),XsltForms_browser.initHover(a));return a};
      XsltForms_calendar.daysOfMonth=[31,28,31,30,31,30,31,31,30,31,30,31];XsltForms_calendar.ONLY_DATE=0;XsltForms_calendar.HOURS=1;XsltForms_calendar.MINUTES=2;XsltForms_calendar.SECONDS=3;
      XsltForms_calendar.show=function(a,b){var c=XsltForms_calendar.INSTANCE;c||(c=new XsltForms_calendar,XsltForms_calendar.INSTANCE=c);b||(b=XsltForms_calendar.ONLY_DATE);c.input=a;c.type=b;c.isTimestamp=b!==XsltForms_calendar.ONLY_DATE;XsltForms_browser.setClass(c.element,"xsltforms-calendar-date",!c.isTimestamp);try{var d=c.isTimestamp?XsltForms_browser.i18n.parse(a.value):XsltForms_browser.i18n.parseDate(a.value)}catch(e){d=new Date}d?c.refreshControls(d):c.today();XsltForms_browser.dialog.show(c.element,
      a,!1)};XsltForms_calendar.close=function(){var a=XsltForms_calendar.INSTANCE;a.yearList.close();XsltForms_browser.dialog.hide(a.element,!1)};function XsltForms_type(){}XsltForms_type.prototype.setSchema=function(a){this.schema=a;return this};XsltForms_type.prototype.setName=function(a){this.name=a;this.nsuri=this.schema.ns;this.schema.types[a]=this;return this};
      XsltForms_type.prototype.canonicalValue=function(a){a=a.toString();switch(this.whiteSpace){case "replace":a=a.replace(/[\t\r\n]/g," ");break;case "collapse":a=a.replace(/[\t\r\n ]+/g," ").replace(/^\s+|\s+$/g,"")}return a};XsltForms_type.prototype.getMaxLength=function(){return this.maxLength?this.maxLength:this.length?this.length:this.totalDigits?this.totalDigits+1:null};XsltForms_type.prototype.getDisplayLength=function(){return this.displayLength};
      function XsltForms_schema(a,b,c,d,e){if(XsltForms_schema.all[b])throw XsltForms_globals.error(XsltForms_globals.defaultModel,"xforms-link-exception","More than one schema with the same namespace declaration"),Error("Error");if(""===b)return XsltForms_schema.all["http://www.w3.org/2002/xforms"];this.subform=a;this.name=c;this.ns=b;this.types={};this.prefixes=d||{};XsltForms_schema.all[b]=this;a&&a.schemas.push(this);if(e){a=e.documentElement;for(var f;a;){switch(a.localName||a.baseName){case "simpleType":f=
      (new XsltForms_atomicType).setSchema(this).setName(a.getAttribute("name"));break;case "restriction":f.put("base",a.getAttribute("base"));a.getAttributeNS?f.put("rte",a.getAttributeNS("http://www.agencexml.com/xsltforms","rte")):(b=a.attributes.getQualifiedItem("rte","http://www.agencexml.com/xsltforms"))&&f.put("rte",b.nodeValue);break;case "length":case "minLength":case "maxLength":case "enumeration":case "whiteSpace":case "maxInclusive":case "minInclusive":case "maxExclusive":case "minExclusive":case "totalDigits":case "fractionDigits":case "maxScale":case "minScale":f.put(a.localName||
      a.baseName,a.getAttribute("value"));break;case "pattern":f.put("pattern",new RegExp("^("+a.getAttribute("value").replace(/\//g,"\\/")+")$"));break;case "appinfo":f.put("appinfo",a.firstChild.nodeValue)}if(a.firstChild)a=a.firstChild;else if(a.nextSibling)a=a.nextSibling;else{do a=a.parentNode;while(a&&!a.nextSibling);a&&(a=a.nextSibling)}}}}XsltForms_schema.prototype.dispose=function(a){this.prefixes=this.types=XsltForms_schema.all[this.ns]=null};XsltForms_schema.all={};
      XsltForms_schema.prototype.getType=function(a){if(-1!==a.indexOf(":")){var b=a.split(":"),c=this.prefixes[b[0]];return c?XsltForms_schema.getTypeNS(c,b[1]):XsltForms_schema.getType(a)}b=this.types[a];if(!b)throw alert("Type "+a+" not defined"),Error("Error");return b};
      XsltForms_schema.getType=function(a){a=(a||"xsd:string").split(":");return"undefined"===typeof a[1]?XsltForms_schema.getTypeNS(XsltForms_schema.prefixes.xforms,a[0]):XsltForms_schema.getTypeNS(Fleur.XPathNSResolver_default.uri[Fleur.XPathNSResolver_default.pf.lastIndexOf(a[0].toLowerCase())],a[1])};
      XsltForms_schema.getTypeNS=function(a,b){var c=XsltForms_schema.all[a];if(!c)throw alert("Schema for namespace "+a+" not defined for type "+b),Error("Error");c=c.types[b];c||(XsltForms_globals.debugMode&&alert("Type "+b+" not defined in namespace "+a),c=XsltForms_schema.getTypeNS("http://www.w3.org/2001/XMLSchema","string"));return c};XsltForms_schema.get=function(a,b){var c=XsltForms_schema.all[b];c||=new XsltForms_schema(a,b);return c};
      XsltForms_schema.prefixes={xsd_:"http://www.w3.org/2001/XMLSchema",xsd:"http://www.w3.org/2001/XMLSchema",xs:"http://www.w3.org/2001/XMLSchema",xf:"http://www.w3.org/2002/xforms",xform:"http://www.w3.org/2002/xforms",xforms:"http://www.w3.org/2002/xforms",xsltforms:"http://www.agencexml.com/xsltforms",rte:"http://www.agencexml.com/xsltforms/rte",dcterms:"http://purl.org/dc/terms/"};XsltForms_schema.registerPrefix=function(a,b){this.prefixes[a]=b};function XsltForms_atomicType(){this.patterns=[]}
      XsltForms_atomicType.prototype=new XsltForms_type;XsltForms_atomicType.prototype.setBase=function(a){a="string"===typeof a?this.schema.getType(a):a;for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];"patterns"===b?XsltForms_browser.copyArray(c,this.patterns):"name"!==b&&"nsuri"!==b&&"base"!==b&&(this[b]=c)}this.basensuri=a.nsuri;this.basename=a.name;return this};
      XsltForms_atomicType.prototype.hasBase=function(a){a=XsltForms_schema.getType(a);for(var b=this;b!==a;){if(!b.basename)return!1;b=XsltForms_schema.getTypeNS(b.basensuri,b.basename);if(!b)return!1}return!0};
      XsltForms_atomicType.prototype.put=function(a,b){if("base"===a)this.setBase(b);else if("pattern"===a)XsltForms_browser.copyArray([b],this.patterns);else if("enumeration"===a)this.enumeration||(this.enumeration=[]),this.enumeration.push(b);else{if("length"===a||"minLength"===a||"maxLength"===a||"fractionDigits"===a||"totalDigits"===a)b=parseInt(b,10);else if("minInclusive"===a||"maxInclusive"===a)b=parseFloat(b);this[a]=b}return this};
      XsltForms_atomicType.prototype.validate=function(a){a=this.canonicalValue(a);for(var b=0,c=this.patterns.length;b<c;b++)if(!a.match(this.patterns[b]))return!1;if(this.enumeration){b=!1;c=0;for(var d=this.enumeration.length;c<d;c++)if(a===this.canonicalValue(this.enumeration[c])){b=!0;break}if(!b)return!1}b=a.length;c=parseInt(a,10);if("number"===typeof this.length&&this.length!==b||"number"===typeof this.minLength&&b<this.minLength||"number"===typeof this.maxLength&&b>this.maxLength||"number"===typeof this.maxInclusive&&
      c>this.maxInclusive||"number"===typeof this.maxExclusive&&c>=this.maxExclusive||"number"===typeof this.minInclusive&&c<this.minInclusive||"number"===typeof this.minExclusive&&c<=this.minExclusive)return!1;if("number"===typeof this.totalDigits||"number"===typeof this.fractionDigits){c=a.indexOf(".");b=""+Math.abs(parseInt(-1!==c?a.substring(0,c):a,10));a=-1!==c?a.substring(c+1):"";if(-1!==c){if(0===this.fractionDigits)return!1;for(c=a.length-1;0<=c&&0===a.charAt(c);)c--;a=a.substring(0,c+1)}if("number"===
      typeof this.totalDigits&&b.length+a.length>this.totalDigits||"number"===typeof this.fractionDigits&&a.length>this.fractionDigits)return!1}return!0};
      XsltForms_atomicType.prototype.normalize=function(a){if("number"===typeof this.fractionDigits){a=parseFloat(a);if(isNaN(a))return"NaN";if(0===a)a=XsltForms_browser.zeros(0,this.fractionDigits+1,!0);else{var b=XsltForms_browser.zeros(1,this.fractionDigits+1,!0);a=""+Math.round(a*b)}return 0!==this.fractionDigits?(b=a.length-this.fractionDigits,(0===b?"0":a.substring(0,b))+"."+a.substring(b)):a}return a};function XsltForms_listType(){this.whiteSpace="collapse"}XsltForms_listType.prototype=new XsltForms_type;
      XsltForms_listType.prototype.setItemType=function(a){this.itemType="string"===typeof a?this.schema.getType(a):a;return this};XsltForms_listType.prototype.validate=function(a){var b=0;a=this.itemType.canonicalValue.call(this,a).split(" ");for(var c=0,d=a.length;c<d;c++)if(""!==a[c]&&(b++,!this.itemType.validate(a[c])))return!1;return this.minLength&&b<this.minLength||this.maxLength&&b>this.maxLength?!1:!0};
      XsltForms_listType.prototype.canonicalValue=function(a){a=this.itemType.canonicalValue(a).split(" ");for(var b="",c=0,d=a.length;c<d;c++){var e=this.itemType.canonicalValue(a[c]);b+=(0===b.length?"":" ")+e}return b};function XsltForms_unionType(a){this.baseTypes=[];this.memberTypes=a?a.split(" "):[]}XsltForms_unionType.prototype=new XsltForms_type;XsltForms_unionType.prototype.addType=function(a){this.baseTypes.push("string"===typeof a?this.schema.getType(a):a);return this};
      XsltForms_unionType.prototype.addTypes=function(){for(var a=0,b=this.memberTypes.length;a<b;a++)this.baseTypes.push(this.schema.getType(this.memberTypes[a]));return this};XsltForms_unionType.prototype.validate=function(a){for(var b=0,c=this.baseTypes.length;b<c;++b)if(this.baseTypes[b].validate(a))return!0;return!1};
      var XsltForms_typeDefs={initAll:function(){this.init("http://www.w3.org/2001/XMLSchema",this.Default);this.init("http://www.w3.org/2002/xforms",this.XForms);this.init("http://www.agencexml.com/xsltforms",this.XSLTForms);this.init("http://purl.org/dc/terms/",this.DublinCore)},init:function(a,b){a=XsltForms_schema.get(null,a);for(var c in b)if(b.hasOwnProperty(c)){var d=new XsltForms_atomicType;d.setSchema(a);d.setName(c);var e=b[c],f=e.base;f&&d.setBase(f);for(var g in e)"base"!==g&&(d[g]=e[g])}},
      ctes:{i:"A-Za-z_\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF",c:"A-Za-z_\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\xFF\\-\\.0-9\\xB7"}};
      XsltForms_typeDefs.Default={string:{nsuri:"http://www.w3.org/2001/XMLSchema",whiteSpace:"preserve"},"boolean":{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^(true|false|0|1)$"],"class":"boolean"},decimal:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^[\\-+]?([0-9]+(\\.[0-9]*)?|\\.[0-9]+)$"],"class":"number",format:function(a){return XsltForms_browser.i18n.formatNumber(a,this.fractionDigits)},parse:function(a){return XsltForms_browser.i18n.parseNumber(a)}},"float":{nsuri:"http://www.w3.org/2001/XMLSchema",
      patterns:["^(([\\-+]?([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))([eE][\\-+]?[0-9]+)?|-?INF|NaN)$"],"class":"number"},"double":{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^(([\\-+]?([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))([eE][-+]?[0-9]+)?|-?INF|NaN)$"],"class":"number"},dateTime:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?$"],"class":"datetime",displayLength:20,
      format:function(a){return RegExp("^([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?$").test(a)?XsltForms_browser.i18n.formatDateTime(XsltForms_browser.i18n.parse(a,"yyyy-MM-ddThh:mm:ss"),null,!0):a},parse:function(a){return XsltForms_browser.i18n.format(XsltForms_browser.i18n.parse(a),"yyyy-MM-ddThh:mm:ss",!0)}},date:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?$"],
      "class":"date",displayLength:10,format:function(a){return RegExp("^([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?$").test(a)?XsltForms_browser.i18n.formatDate(XsltForms_browser.i18n.parse(a,"yyyy-MM-dd"),null,!0):a},parse:function(a){return XsltForms_browser.i18n.format(XsltForms_browser.i18n.parseDate(a),"yyyy-MM-dd",!0)}},time:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?$"],
      "class":"time",displayLength:8,format:function(a){return RegExp("^([01][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)?$").test(a)?XsltForms_browser.i18n.format(XsltForms_browser.i18n.parse(a,"hh:mm:ss",!0),null,!0,!0):a},parse:function(a){return(new RegExp(XsltForms_globals.AMPM?"^(?:0?[1-9](?![0-9])|1[0-2]):[0-5][0-9](:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)? ?("+XsltForms_browser.i18n.get("format.time.AM")+"|"+XsltForms_browser.i18n.get("format.time.PM")+
      ")$":"^(?:0?[0-9](?![0-9])|1[0-9]|20|21|22|23):[0-5][0-9](:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)?$","i")).test(a)?XsltForms_browser.i18n.format(XsltForms_browser.i18n.parse(a,null,!0),"hh:mm:ss",!0,!0):a}},duration:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^-?P(?!$)([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T(?!$)([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]+)?S)?)?$"]},gDay:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^---(0[1-9]|[12][0-9]|3[01])$"]},gMonth:{nsuri:"http://www.w3.org/2001/XMLSchema",
      patterns:["^--(0[1-9]|1[012])$"]},gMonthDay:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^--(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$"]},gYear:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^([\\-+]?([0-9]{4}|[1-9][0-9]{4,}))?$"]},gYearMonth:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^([12][0-9]{3})-(0[1-9]|1[012])$"]},integer:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:decimal",fractionDigits:0},nonPositiveInteger:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:integer",
      patterns:["^(-[0-9]+|0)$"]},nonNegativeInteger:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:integer",patterns:["^\\+?[0-9]+$"]},negativeInteger:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:integer",patterns:["^-0*[1-9][0-9]*$"]},positiveInteger:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:integer",patterns:["^\\+?0*[1-9][0-9]*$"]},"byte":{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:integer",minInclusive:-128,maxInclusive:127},"short":{nsuri:"http://www.w3.org/2001/XMLSchema",
      base:"xsd_:integer",minInclusive:-32768,maxInclusive:32767},"int":{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:integer",minInclusive:-2147483648,maxInclusive:2147483647},"long":{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:integer",minInclusive:-0x7fffffffffffffff,maxInclusive:0x7fffffffffffffff},unsignedByte:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:nonNegativeInteger",maxInclusive:255},unsignedShort:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:nonNegativeInteger",
      maxInclusive:65535},unsignedInt:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:nonNegativeInteger",maxInclusive:4294967295},unsignedLong:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:nonNegativeInteger",maxInclusive:1.8446744073709552E19},normalizedString:{nsuri:"http://www.w3.org/2001/XMLSchema",whiteSpace:"replace"},token:{nsuri:"http://www.w3.org/2001/XMLSchema",whiteSpace:"collapse"},language:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:token",patterns:["^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$"]},
      anyURI:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:token",patterns:["^(([^ :\\/?#]+):\\/\\/)?[^ \\/\\?#]+([^ \\?#]*)(\\?([^ #]*))?(#([^ \\:#\\[\\]\\@\\!\\$\\&\\\\'\\(\\)\\*\\+\\,\\;\\=]*))?$"]},Name:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:token",patterns:["^["+XsltForms_typeDefs.ctes.i+":]["+XsltForms_typeDefs.ctes.c+":]*$"]},NCName:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:token",patterns:["^["+XsltForms_typeDefs.ctes.i+"]["+XsltForms_typeDefs.ctes.c+"]*$"]},QName:{nsuri:"http://www.w3.org/2001/XMLSchema",
      base:"xsd_:token",patterns:["^(([a-zA-Z][0-9a-zA-Z+\\-\\.]*:)?/{0,2}[0-9a-zA-Z;/?:@&=+$\\.\\>> -_!~*'()%]+)?(>> #[0-9a-zA-Z;/?:@&=+$\\.\\-_!~*'()%]+)?:["+XsltForms_typeDefs.ctes.i+"]["+XsltForms_typeDefs.ctes.c+"]*$"]},ID:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:NCName"},IDREF:{nsuri:"http://www.w3.org/2001/XMLSchema",base:"xsd_:NCName"},IDREFS:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^["+XsltForms_typeDefs.ctes.i+"]["+XsltForms_typeDefs.ctes.c+"]*( +["+XsltForms_typeDefs.ctes.i+
      "]["+XsltForms_typeDefs.ctes.c+"]*)*$"]},NMTOKEN:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^["+XsltForms_typeDefs.ctes.c+"]+$"]},NMTOKENS:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^["+XsltForms_typeDefs.ctes.c+"]+( ["+XsltForms_typeDefs.ctes.c+"]+)*$"]},base64Binary:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^[a-zA-Z0-9+/=]+$"]},hexBinary:{nsuri:"http://www.w3.org/2001/XMLSchema",patterns:["^[0-9A-Fa-f]+$"],format:function(a){return a.toUpperCase()},parse:function(a){return a.toUpperCase()}},
      select1:{nsuri:"http://www.w3.org/2001/XMLSchema",whiteSpace:"preserve"}};
      XsltForms_typeDefs.XForms={string:{nsuri:"http://www.w3.org/2002/xforms",whiteSpace:"preserve"},"boolean":{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(true|false|0|1)?$"],"class":"boolean"},decimal:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^([\\-+]?([0-9]+(\\.[0-9]*)?|\\.[0-9]+))?$"],"class":"number",format:function(a){return XsltForms_browser.i18n.formatNumber(a,this.fractionDigits)},parse:function(a){return XsltForms_browser.i18n.parseNumber(a)}},"float":{nsuri:"http://www.w3.org/2002/xforms",
      patterns:["^((([\\-+]?([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))([eE][\\-+]?[0-9]+)?|-?INF|NaN))?$"],"class":"number"},"double":{nsuri:"http://www.w3.org/2002/xforms",patterns:["^((([\\-+]?([0-9]+(\\.[0-9]*)?)|(\\.[0-9]+))([eE][-+]?[0-9]+)?|-?INF|NaN))?$"],"class":"number"},dateTime:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)?$"],"class":"datetime",displayLength:20,
      format:function(a){return RegExp("^(([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)?$").test(a)?XsltForms_browser.i18n.formatDateTime(XsltForms_browser.i18n.parse(a,"yyyy-MM-ddThh:mm:ss"),null,!0):a},parse:function(a){return XsltForms_browser.i18n.format(XsltForms_browser.i18n.parse(a),"yyyy-MM-ddThh:mm:ss",!0)}},date:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)?$"],
      "class":"date",displayLength:10,format:function(a){return RegExp("^(([12][0-9]{3})-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)?$").test(a)?XsltForms_browser.i18n.formatDate(XsltForms_browser.i18n.parse(a,"yyyy-MM-dd"),null,!0):a},parse:function(a){return XsltForms_browser.i18n.format(XsltForms_browser.i18n.parseDate(a),"yyyy-MM-dd",!0)}},time:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)?$"],
      "class":"time",displayLength:8,format:function(a){return RegExp("^(([01][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)?)?$").test(a)?XsltForms_browser.i18n.format(XsltForms_browser.i18n.parse(a,"hh:mm:ss",!0),null,!0,!0):a},parse:function(a){return(new RegExp(XsltForms_globals.AMPM?"^((?:0?[1-9](?![0-9])|1[0-2]):[0-5][0-9](:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)? ?("+XsltForms_browser.i18n.get("format.time.AM")+"|"+XsltForms_browser.i18n.get("format.time.PM")+
      "))?$":"^((?:0?[0-9](?![0-9])|1[0-9]|20|21|22|23):[0-5][0-9](:[0-5][0-9](\\.[0-9]+)?(Z|[+\\-]([01][0-9]|2[0-3]):[0-5][0-9])?)?)?$","i")).test(a)?XsltForms_browser.i18n.format(XsltForms_browser.i18n.parse(a,null,!0),"hh:mm:ss",!0,!0):a}},duration:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(-?P(?!$)([0-9]+Y)?([0-9]+M)?([0-9]+D)?(T(?!$)([0-9]+H)?([0-9]+M)?([0-9]+(\\.[0-9]+)?S)?)?)?$"]},dayTimeDuration:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(-?P([0-9]+D(T([0-9]+(H([0-9]+(M([0-9]+(\\.[0-9]*)?S|\\.[0-9]+S)?|(\\.[0-9]*)?S)|(\\.[0-9]*)?S)?|M([0-9]+(\\.[0-9]*)?S|\\.[0-9]+S)?|(\\.[0-9]*)?S)|\\.[0-9]+S))?|T([0-9]+(H([0-9]+(M([0-9]+(\\.[0-9]*)?S|\\.[0-9]+S)?|(\\.[0-9]*)?S)|(\\.[0-9]*)?S)?|M([0-9]+(\\.[0-9]*)?S|\\.[0-9]+S)?|(\\.[0-9]*)?S)|\\.[0-9]+S)))?$"]},
      yearMonthDuration:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(-?P[0-9]+(Y([0-9]+M)?|M))?$"]},gDay:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(---(0[1-9]|[12][0-9]|3[01]))?$"]},gMonth:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(--(0[1-9]|1[012]))?$"]},gMonthDay:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(--(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01]))?$"]},gYear:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^([\\-+]?([0-9]{4}|[1-9][0-9]{4,}))?$"]},gYearMonth:{nsuri:"http://www.w3.org/2002/xforms",
      patterns:["^(([12][0-9]{3})-(0[1-9]|1[012]))?$"]},integer:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:decimal",fractionDigits:0},nonPositiveInteger:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:integer",patterns:["^((-[0-9]+|0))?$"]},nonNegativeInteger:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:integer",patterns:["^(\\+?[0-9]+)?$"]},negativeInteger:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:integer",patterns:["^(-[0-9]+)?$"]},positiveInteger:{nsuri:"http://www.w3.org/2002/xforms",
      base:"xforms:integer",patterns:["^(\\+?0*[1-9][0-9]*)?$"]},"byte":{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:integer",minInclusive:-128,maxInclusive:127},"short":{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:integer",minInclusive:-32768,maxInclusive:32767},"int":{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:integer",minInclusive:-2147483648,maxInclusive:2147483647},"long":{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:integer",minInclusive:-0x7fffffffffffffff,maxInclusive:0x7fffffffffffffff},
      unsignedByte:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:nonNegativeInteger",maxInclusive:255},unsignedShort:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:nonNegativeInteger",maxInclusive:65535},unsignedInt:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:nonNegativeInteger",maxInclusive:4294967295},unsignedLong:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:nonNegativeInteger",maxInclusive:1.8446744073709552E19},normalizedString:{nsuri:"http://www.w3.org/2002/xforms",whiteSpace:"replace"},
      token:{nsuri:"http://www.w3.org/2002/xforms",whiteSpace:"collapse"},language:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:token",patterns:["^([a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*)?$"]},anyURI:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:token",patterns:["^((([a-zA-Z][0-9a-zA-Z+\\-\\.]*:)?/{0,2}[0-9a-zA-Z;/?:@&=+$\\.\\>> -_!~*'()%]+)?(>> #[0-9a-zA-Z;/?:@&=+$\\.\\-_!~*'()%]+)?)?$"]},Name:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:token",patterns:["^(["+XsltForms_typeDefs.ctes.i+
      ":]["+XsltForms_typeDefs.ctes.c+":]*)?$"]},NCName:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:token",patterns:["^(["+XsltForms_typeDefs.ctes.i+"]["+XsltForms_typeDefs.ctes.c+"]*)?$"]},QName:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:token",patterns:["^((([a-zA-Z][0-9a-zA-Z+\\-\\.]*:)?/{0,2}[0-9a-zA-Z;/?:@&=+$\\.\\>> -_!~*'()%]+)?(>> #[0-9a-zA-Z;/?:@&=+$\\.\\-_!~*'()%]+)?:["+XsltForms_typeDefs.ctes.i+"]["+XsltForms_typeDefs.ctes.c+"]*)?$"]},ID:{nsuri:"http://www.w3.org/2002/xforms",
      base:"xforms:NCName"},IDREF:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:NCName"},IDREFS:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(["+XsltForms_typeDefs.ctes.i+"]["+XsltForms_typeDefs.ctes.c+"]+( +["+XsltForms_typeDefs.ctes.i+"]["+XsltForms_typeDefs.ctes.c+"]*)*)?$"]},NMTOKEN:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^["+XsltForms_typeDefs.ctes.c+"]*$"]},NMTOKENS:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^(["+XsltForms_typeDefs.ctes.c+"]+( ["+XsltForms_typeDefs.ctes.c+
      "]+)*)?$"]},base64Binary:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^[a-zA-Z0-9+/]*$"]},hexBinary:{nsuri:"http://www.w3.org/2002/xforms",patterns:["^[0-9A-Fa-f]*$"],format:function(a){return a.toUpperCase()},parse:function(a){return a.toUpperCase()}},email:{nsuri:"http://www.w3.org/2002/xforms",base:"xsd_:string",whiteSpace:"collapse",patterns:["^([A-Za-z0-9!#-'\\*\\+\\-/=\\?\\^_`\\{-~]+(\\.[A-Za-z0-9!#-'\\*\\+\\-/=\\?\\^_`\\{-~]+)*@[A-Za-z0-9!#-'\\*\\+\\-/=\\?\\^_`\\{-~]+(\\.[A-Za-z0-9!#-'\\*\\+\\-/=\\?\\^_`\\{-~]+)*)?$"]},
      "card-number":{nsuri:"http://www.w3.org/2002/xforms",base:"xsd_:string",patterns:["^[0-9]*$"]},url:{nsuri:"http://www.w3.org/2002/xforms",base:"xsd_:string",whiteSpace:"collapse",patterns:["^(ht|f)tp(s?)://([a-z0-9]*:[a-z0-9]*@)?([a-z0-9.]*\\.[a-z]{2,7})$"]},amount:{nsuri:"http://www.w3.org/2002/xforms",base:"xforms:decimal",format:function(a){return XsltForms_browser.i18n.formatNumber(a,2)}},HTMLFragment:{nsuri:"http://www.w3.org/2002/xforms",base:"xsd_:string"},trimmed:{nsuri:"http://www.w3.org/2002/xforms",
      base:"xsd_:string",format:function(a){return a.replace(/^\s+|\s+$/gm,"")},parse:function(a){return a.replace(/^\s+|\s+$/gm,"")}}};
      XsltForms_typeDefs.XSLTForms={shortDate:{nsuri:"http://www.agencexml.com/xsltforms",patterns:["^(([12][0-9]{3})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01]))?$"],"class":"date",displayLength:10,format:function(a){return XsltForms_browser.i18n.format(XsltForms_browser.i18n.parse(a,"yyyyMMdd"),null,!0)},parse:function(a){return XsltForms_browser.i18n.format(XsltForms_browser.i18n.parse(a),"yyyyMMdd",!0)}},decimal:{nsuri:"http://www.agencexml.com/xsltforms",patterns:["^[\\-+]?\\(*[\\-+]?([0-9]+(\\.[0-9]*)?|\\.[0-9]+)(([+-/]|\\*)\\(*([0-9]+(\\.[0-9]*)?|\\.[0-9]+)\\)*)*$"],
      "class":"number",eval:"xsd:decimal"},"float":{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:float"},"double":{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:double"},integer:{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:integer"},nonPositiveInteger:{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:nonPositiveInteger"},nonNegativeInteger:{nsuri:"http://www.agencexml.com/xsltforms",
      base:"xsltforms:decimal",eval:"xsd:nonNegativeInteger"},negativeInteger:{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:negativeInteger"},positiveInteger:{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:positiveInteger"},"byte":{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:byte"},"short":{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:short"},"int":{nsuri:"http://www.agencexml.com/xsltforms",
      base:"xsltforms:decimal",eval:"xsd:int"},"long":{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:long"},unsignedByte:{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:unsignedByte"},unsignedShort:{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:unsignedShort"},unsignedInt:{nsuri:"http://www.agencexml.com/xsltforms",base:"xsltforms:decimal",eval:"xsd:unsignedInt"},unsignedLong:{nsuri:"http://www.agencexml.com/xsltforms",
      base:"xsltforms:decimal",eval:"xsd:unsignedLong"}};XsltForms_typeDefs.DublinCore={W3CDTF:{nsuri:"http://purl.org/dc/terms/",base:"xsd_:dateTime"}};XsltForms_typeDefs.initAll();String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});
      String.prototype.endsWith||(String.prototype.endsWith=function(a,b){var c=this.toString();if("number"!==typeof b||!isFinite(b)||Math.floor(b)!==b||b>c.length)b=c.length;b-=a.length;a=c.indexOf(a,b);return-1!==a&&a===b});
      Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a,b){if(null==this)throw TypeError('"this" is null or not defined');var c=Object(this),d=c.length>>>0;if("function"!==typeof a)throw TypeError("predicate must be a function");for(var e=0;e<d;){var f=c[e];if(a.call(b,f,e,c))return f;e++}},configurable:!0,writable:!0});Array.prototype.head||Object.defineProperty(Array.prototype,"head",{value(){return this.find(Boolean)}});
      Array.prototype.isSingle||Object.defineProperty(Array.prototype,"isSingle",{value(){return!1}});Array.prototype.childNodes||Object.defineProperty(Array.prototype,"childNodes",{get:function(){return this}});Array.prototype.toArray||Object.defineProperty(Array.prototype,"toArray",{value(){return this}});Object.entries||(Object.entries=function(a){for(var b=Object.keys(a),c=b.length,d=Array(c);c--;)d[c]=[b[c],a[b[c]]];return d});
      "undefined"===typeof xsltforms_d0&&function(){var a=document.getElementsByTagName("script"),b=[],c;var d=0;for(c=a.length;d<c;d++)b[d]=a[d];var e=a=null;d=0;for(c=b.length;d<c;d++)-1!==b[d].src.indexOf("xsltforms.js")&&(e=b[d].src.replace("xsltforms.js",""));XsltForms_globals.standalone=null===e;if(!XsltForms_globals.standalone&&("/js/"===e.substring(e.length-4)&&(e=e.substring(0,e.length-4)+"/css/"),!Array.prototype.slice.call(document.querySelectorAll("link[href][type = 'text/css'][rel = 'stylesheet']")).reduce(function(h,
      l){return h||l.getAttribute("href").endsWith("xsltforms.css")},!1))){var f=document.createElement("link");f.setAttribute("rel","stylesheet");f.setAttribute("type","text/css");f.setAttribute("href",e+"xsltforms.css");document.getElementsByTagName("head")[0].appendChild(f)}var g=function(){if(XsltForms_globals.standalone){var h="";for(let p=0,q=document.childNodes.length;p<q;p++){var l=document.childNodes[p];switch(l.nodeType){case Fleur.Node.ELEMENT_NODE:h+=l.outerHTML;break;case Fleur.Node.DOCUMENT_TYPE_NODE:h+=
      "<!DOCTYPE "+l.name+">\n";break;case Fleur.Node.TEXT_NODE:h+=l.textContent;break;case Fleur.Node.COMMENT_NODE:h+="\x3c!--"+l.data+"--\x3e"}}XsltForms_globals.formSource=h}if(!document.querySelector("xforms-form")){h=document.querySelector("xforms-model").parentElement;const p=document.createElement("xforms-form");Array.prototype.slice.call(h.children).forEach(q=>p.appendChild(q));h.appendChild(p)}XsltForms_browser.dialog.show("xsltforms-status-panel");8===document.documentElement.childNodes[0].nodeType||
      XsltForms_browser.isIE&&document.documentElement.childNodes[0].childNodes[1]&&8===document.documentElement.childNodes[0].childNodes[1].nodeType||(h=document.createComment("HTML elements and Javascript instructions generated by XSLTForms 1.7 (664) - Copyright (C) 2023 <agenceXML> - Alain Couthures - http://www.agencexml.com"),document.documentElement.insertBefore(h,document.documentElement.firstChild));var k=document.getElementsByTagName("script");h=[];var m;l=0;for(m=k.length;l<m;l++)h[l]=k[l];k=
      null;l=0;for(m=h.length;l<m;l++)if("text/xforms"===h[l].type){var n=new Date;k=XsltForms_browser.transformText('<html xmlns="http://www.w3.org/1999/xhtml"><body>'+h[l].text+"</body></html>",e+"xsltforms.xsl",!1);XsltForms_globals.transformtime=new Date-n;k=XsltForms_globals.stringSplit(k,"XsltForms_MagicSeparator");f=document.createElement("script");f.setAttribute("id","xsltforms-generated-script");f.setAttribute("type","text/javascript");XsltForms_browser.isIE?f.text="xsltforms_d0 = new Date();  }":
      (n=document.createTextNode("xsltforms_d0 = new Date();  }"),f.appendChild(n));document.getElementsByTagName("body")[0].appendChild(f);h[l].outerHTML="\x3c!-- xsltforms-mainform "+k[4]+" xsltforms-mainform --\x3e"}};a=function(){try{if(g(),"undefined"!==typeof xsltforms_initImpl)xsltforms_initImpl();else{var h=document.createElement("xforms-model");h.setAttribute("id","xsltforms_model_config");XsltForms_browser.configElt=document.createElement("xforms-instance");XsltForms_browser.configElt.setAttribute("id",
      "xsltforms_instance_config");var l=document.createElement("script");l.setAttribute("type","application/xml");l.textContent='<properties xmlns=""><html>4</html><language>navigator</language><calendar.label>...</calendar.label><calendar.day0>Mon</calendar.day0><calendar.day1>Tue</calendar.day1><calendar.day2>Wed</calendar.day2><calendar.day3>Thu</calendar.day3><calendar.day4>Fri</calendar.day4><calendar.day5>Sat</calendar.day5><calendar.day6>Sun</calendar.day6><calendar.initDay>6</calendar.initDay><calendar.month0>January</calendar.month0><calendar.month1>February</calendar.month1><calendar.month2>March</calendar.month2><calendar.month3>April</calendar.month3><calendar.month4>May</calendar.month4><calendar.month5>June</calendar.month5><calendar.month6>July</calendar.month6><calendar.month7>August</calendar.month7><calendar.month8>September</calendar.month8><calendar.month9>October</calendar.month9><calendar.month10>November</calendar.month10><calendar.month11>December</calendar.month11><calendar.close>Close</calendar.close><format.date>MM/dd/yyyy</format.date><format.datetime>MM/dd/yyyy hh:mm:ss</format.datetime><format.decimal>.</format.decimal><format-number.decimal-separator-sign>.</format-number.decimal-separator-sign><format-number.exponent-separator-sign>e</format-number.exponent-separator-sign><format-number.grouping-separator-sign>,</format-number.grouping-separator-sign><format-number.infinity>Infinity</format-number.infinity><format-number.minus-sign>-</format-number.minus-sign><format-number.NaN>NaN</format-number.NaN><format-number.percent-sign>%</format-number.percent-sign><format-number.per-mille-sign>&#8240;</format-number.per-mille-sign><status>... Loading ...</status></properties>';
      XsltForms_browser.configElt.appendChild(l);h.appendChild(XsltForms_browser.configElt);document.getElementsByTagName("xforms-form")[0].appendChild(h);XsltForms_class.activateAll(XsltForms_subform.subforms["xsltforms-mainform"],document,function(){XsltForms_browser.i18n.asyncinit(XsltForms_globals.init)})}}catch(k){alert("XSLTForms Exception\n--------------------------\n\nIncorrect Javascript code generation:\n\n"+("undefined"===typeof k.stack?"":k.stack)+"\n\n"+(k.name?k.name+(k.message?"\n\n"+k.message:
      ""):k))}};window.addEventListener("beforeunload",h=>{XsltForms_globals.hasusername&&XsltForms_globals.haspassword&&PasswordCredential&&(h=new PasswordCredential(XsltForms_globals.formelt),navigator.credentials.store(h),navigator.credentials.preventSilentAccess())});"complete"===document.readyState?a():XsltForms_browser.addLoadListener(a)}();
      </script>
  </head>
  <body>
    <p>Type your first name in the input box. <br>
      If you are running XForms, the output should be displayed in the output area.</p>
    <xforms-form xmlns-xs="http://www.w3.org/2001/XMLSchema">
      <xforms-model>
        <xforms-instance>
          <script type="application/xml">
            <data xmlns="">
              <PersonGivenName/>
              <MyDate/>
            </data>
          </script>
        </xforms-instance>
        <xforms-bind xf-ref="MyDate" xf-type="xs:date"></xforms-bind>
        <xforms-submission xf-method="put" xf-resource="file:" xf-mediatype="text/html" xf-value="form-source()"></xforms-submission>
      </xforms-model>
      <xforms-input xf-ref="PersonGivenName" xf-incremental="true">
        <xforms-label>Please enter your first name: </xforms-label>
      </xforms-input>
      <br>
      <xforms-output xf-value="concat('Hello ', PersonGivenName, '. We hope you like XForms!')">
        <xforms-label>Output: </xforms-label>
      </xforms-output>
      <br>
      <xforms-input xf-ref="MyDate">
        <xforms-label>Enter a date: </xforms-label>
      </xforms-input>
      <xforms-submit>
        <xforms-label>Save this form</xforms-label>
      </xforms-submit>
    </xforms-form>
  </body>
</html>